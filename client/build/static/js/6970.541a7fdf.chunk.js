"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[6970,1321,8532,1170],{81165:(e,t,s)=>{s.d(t,{Z:()=>l});s(72791);const l=s.p+"static/media/arrowDown.de82dd32eecdb5b4cb2e3b8d4d1e1b89.svg"},81170:(e,t,s)=>{s.r(t),s.d(t,{default:()=>x});var l=s(72791),n=s(10935),r=(s(43513),s(78983)),c=s(26213),i=s(81165),a=s(75749),d=s(69835),o=s(80184);const x=()=>{const{setCountPretendent:e,pretendents:t,setPretendents:s}=(0,c.Z)(),[x,h]=(0,l.useState)([]),[j,m]=(0,l.useState)([]),[p,u]=(0,l.useState)(!0),[v,N]=(0,l.useState)(!0),[w,g]=(0,l.useState)([]),[y,b]=(0,l.useState)([]),[f,k]=(0,l.useState)("");(0,l.useEffect)((()=>{(async()=>{console.log("workers-pretendent: ",t),m(t),N(!1)})()}),[t]),(0,l.useEffect)((async()=>{const t=[];e(0);(async()=>{let e=await(0,a._s)(20,0);console.log("pretendents workers: ",e);let l=await(0,a.bQ)(),n=await(0,d.mW)();e.map((async(e,r)=>{let c=n.find((t=>t.id===e.projectId));const i=null===c||void 0===c?void 0:c.title;let a=l.find((t=>t.chatId===e.receiverId));null===a||void 0===a||a.userfamily,null===a||void 0===a||a.username;const d=null!==a&&void 0!==a&&a.worklist?JSON.parse(null===a||void 0===a?void 0:a.worklist):"",o=null!==a&&void 0!==a&&a.rank?null===a||void 0===a?void 0:a.rank:"",x=null!==a&&void 0!==a&&a.comment?null===a||void 0===a?void 0:a.comment:"",h=null===a||void 0===a?void 0:a.phone,j=new Date(e.createdAt).getTime(),p=new Date(j),u=String(p.getMonth()+1).padStart(2,"0"),v=String(p.getDate()).padStart(2,"0"),N=p.getHours(),w=String(p.getMinutes()).padStart(2,"0"),g="".concat(v,".").concat(u," ").concat(N,":").concat(w),y={workerId:e.workerId,date:g,projectId:e.projectId,project:i,workerFamily:null===a||void 0===a?void 0:a.userfamily,workerName:null===a||void 0===a?void 0:a.username,worklist:d,rang:o,comment:x,phone:h,accept:e.accept};t.push(y),m(t),s(t)})),N(!1)})()}),[]);return(0,o.jsxs)("div",{className:"dark-theme",children:[(0,o.jsx)(n.S8,{}),(0,o.jsxs)("div",{className:"wrapper d-flex flex-column min-vh-100 bg-uley",children:[(0,o.jsx)(n.tf,{}),(0,o.jsx)("div",{className:"body flex-grow-1 px-3",children:(0,o.jsx)(r.KB,{lg:!0,children:(0,o.jsxs)(l.Suspense,{fallback:(0,o.jsx)(r.LQ,{color:"primary"}),children:[(0,o.jsx)(r.rb,{className:"mb-3",children:(0,o.jsx)(r.b7,{sm:3,children:(0,o.jsx)(r.jO,{placeholder:"\u041f\u043e\u0438\u0441\u043a...",onChange:e=>k(e.target.value),"aria-label":"spec"})})}),(0,o.jsx)(r.rb,{children:(0,o.jsx)(r.b7,{style:{textAlign:"center"},children:(0,o.jsx)(r.xH,{className:"mb-4",children:(0,o.jsxs)(r.sl,{children:[v?(0,o.jsx)(r.LQ,{}):(0,o.jsxs)(r.Sx,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[(0,o.jsx)(r.V,{className:"table-light",children:(0,o.jsxs)(r.T6,{children:[(0,o.jsx)(r.is,{className:"text-center",style:{width:"200px"},children:"\u0414\u0430\u0442\u0430"}),(0,o.jsx)(r.is,{className:"text-center",style:{width:"320px"},children:"\u041f\u0440\u043e\u0435\u043a\u0442"}),(0,o.jsx)(r.is,{className:"text-center",style:{width:"370px"},children:"\u0424\u0418\u041e"}),(0,o.jsx)(r.is,{className:"text-center",style:{width:"160px"},children:"\u0421\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c"}),(0,o.jsx)(r.is,{className:"text-center",style:{width:"100px"},children:"U.L.E.Y"}),(0,o.jsx)(r.is,{className:"text-center",children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"}),(0,o.jsx)(r.is,{className:"text-center",style:{width:"250px"},children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"})]})}),(0,o.jsx)(r.NR,{children:j.map(((e,t)=>(0,o.jsxs)(r.T6,{"v-for":"item in tableItems",children:[(0,o.jsx)(r.NN,{className:"text-center",style:{color:e.accept&&"red"},children:e.date}),(0,o.jsx)(r.NN,{className:"text-center",style:{color:e.accept&&"red"},children:(0,o.jsx)(r.If,{content:e.projectId,placement:"top",children:(0,o.jsx)("div",{children:e.project})})}),(0,o.jsx)(r.NN,{className:"text-center",style:{color:e.dateborn>=2005||e.accept?"red":""},children:(0,o.jsx)(r.If,{content:e.workerId,placement:"top",children:(0,o.jsx)("div",{children:e.workerFamily+" "+e.workerName})})}),(0,o.jsxs)(r.NN,{style:{fontSize:"13px",textAlign:"left"},children:[(0,o.jsx)("div",{onClick:()=>{return e=t,console.log(e,w[e]),void g((t=>({...t,[e]:!t[e]})));var e},style:{cursor:"pointer"},children:w[t]?(0,o.jsx)("br",{}):"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c"}),(0,o.jsx)(r.V9,{visible:w[t],children:(0,o.jsx)("table",{children:e.worklist?e.worklist.map(((e,t)=>(0,o.jsx)("tr",{children:(0,o.jsxs)("td",{children:["- ",e.spec]})},t))):""})})]}),(0,o.jsx)(r.NN,{className:"text-center",style:{color:e.accept&&"red"},children:e.rang}),(0,o.jsxs)(r.NN,{style:{fontSize:"13px",textAlign:"left"},children:[(0,o.jsx)("div",{onClick:()=>{return e=t,void b((t=>({...t,[e]:!t[e]})));var e},style:{cursor:"pointer"},children:y[t]?(0,o.jsx)("br",{}):e.comment?"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c":""}),(0,o.jsx)(r.V9,{visible:y[t],children:e.comment?e.comment:(0,o.jsx)(o.Fragment,{})})]}),(0,o.jsx)(r.NN,{className:"text-center",style:{color:e.accept&&"red"},children:(0,o.jsx)("div",{children:e.phone})})]},t)))})]}),(0,o.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,o.jsx)("img",{src:i.Z,alt:"",onClick:()=>(async()=>{let e=await(0,a._s)(20,t.length);console.log("pretendent size: ",e.length),console.log("\u0412\u0441\u0435\u0433\u043e \u0441\u0435\u0439\u0447\u0430\u0441: ",e.length)})(),style:{width:"50px",marginTop:"15px",cursor:"pointer"}})})]})})})})]})})}),(0,o.jsx)(n.qh,{})]})]})}}}]);
//# sourceMappingURL=6970.541a7fdf.chunk.js.map