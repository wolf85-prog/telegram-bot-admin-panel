"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[940,437],{93437:function(e,t,s){s.r(t);var r=s(74165),n=s(15861),i=s(29439),c=s(72791),a=s(11087),l=s(78983),d=s(6665),x=s(9936),h=s(31739),o=s(69835),u=s(80184);t.default=function(){var e=(0,h.Z)().distributions,t=(0,c.useState)([]),s=(0,i.Z)(t,2),j=s[0],m=s[1],p=(0,c.useState)(!0),f=(0,i.Z)(p,2),N=f[0],g=f[1];(0,c.useEffect)((function(){var t=function(){var t=(0,n.Z)((0,r.Z)().mark((function t(){var s,n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("distributions: ",e),s="",n=[],e.map((function(e,t){JSON.parse(e.receivers).map((function(e){s=e.label+" "}));var r=new Date(e.createdAt),i=r.getFullYear(),c=String(r.getMonth()+1).padStart(2,"0"),a=String(r.getDate()).padStart(2,"0"),l=r.getHours(),d=String(r.getMinutes()).padStart(2,"0"),x="".concat(a,".").concat(c,".").concat(i," ").concat(l,":").concat(d),h={id:e.id,name:e.name,text:e.text,image:""!==e.image.split("5000/")[1]?e.image:"",button:e.button,receivers:s,datestart:x,status:e.delivered?"\u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e":"\u043d\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e"};n.push(h)})),m(n),g(!1);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e]);var v=function(){var e=(0,n.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(j.filter((function(e){return e.id!==t.id}))),e.next=3,(0,o.vo)(t.id);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,u.jsxs)("div",{className:"dark-theme",children:[(0,u.jsx)(d.S8,{}),(0,u.jsxs)("div",{className:"wrapper d-flex flex-column min-vh-100 bg-uley",children:[(0,u.jsx)(d.tf,{}),(0,u.jsx)("div",{className:"body flex-grow-1 px-3",children:(0,u.jsx)(l.KB,{lg:!0,children:(0,u.jsx)(c.Suspense,{fallback:(0,u.jsx)(l.LQ,{color:"primary"}),children:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h2",{children:"\u0420\u0430\u0441\u0441\u044b\u043b\u043a\u0438"}),(0,u.jsx)(a.rU,{to:"/distribution_add",children:(0,u.jsx)(l.u5,{color:"primary",size:"lg",children:"\u041d\u043e\u0432\u0430\u044f \u0440\u0430\u0441\u0441\u044b\u043b\u043a\u0430"})}),(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),(0,u.jsx)(l.rb,{children:(0,u.jsx)(l.b7,{xs:!0,children:(0,u.jsxs)(l.xH,{className:"mb-4",children:[(0,u.jsx)(l.bn,{children:"\u0420\u0430\u0441\u0441\u044b\u043b\u043a\u0438"}),(0,u.jsxs)(l.sl,{children:[(0,u.jsx)("br",{}),N?(0,u.jsx)(l.LQ,{}):(0,u.jsxs)(l.Sx,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[(0,u.jsx)(l.V,{className:"table-dark",children:(0,u.jsxs)(l.T6,{children:[(0,u.jsx)(l.is,{className:"text-center",children:"\u0414\u0430\u0442\u0430"}),(0,u.jsx)(l.is,{className:"text-center",children:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"}),(0,u.jsx)(l.is,{className:"text-center",children:"\u041a\u043d\u043e\u043f\u043a\u0430"}),(0,u.jsx)(l.is,{className:"text-center",children:"\u0422\u0435\u043a\u0441\u0442"}),(0,u.jsx)(l.is,{className:"text-center",children:"\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u0438"}),(0,u.jsx)(l.is,{className:"text-center",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,u.jsx)(l.is,{className:"text-center",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"})]})}),(0,u.jsx)(l.NR,{children:j.map((function(e,t){return(0,u.jsxs)(l.T6,{"v-for":"item in tableItems",children:[(0,u.jsx)(l.NN,{className:"text-center",children:(0,u.jsx)("div",{children:e.datestart})}),(0,u.jsx)(l.NN,{className:"text-center",children:e.image.endsWith(".pdf")?(0,u.jsx)("iframe",{src:e.image,height:"120px",width:"200px",title:"myFramePdf"}):(0,u.jsx)("div",{children:e.image?(0,u.jsx)("a",{href:e.image,target:"_blank",rel:"noreferrer",children:(0,u.jsx)("img",{src:e.image,alt:"",width:230,height:120,style:{objectFit:"contain"}})}):""})}),(0,u.jsx)(l.NN,{className:"text-center",children:(0,u.jsx)("div",{children:e.button})}),(0,u.jsx)(l.NN,{className:"text-center",style:{width:"50px"},children:(0,u.jsx)("div",{children:e.text})}),(0,u.jsx)(l.NN,{className:"text-center",children:(0,u.jsx)("div",{children:e.receivers})}),(0,u.jsx)(l.NN,{className:"text-center",children:(0,u.jsx)("div",{children:e.status})}),(0,u.jsx)(l.NN,{className:"text-center",children:(0,u.jsx)(l.u5,{color:"light",onClick:function(){return v(e)},children:(0,u.jsx)("img",{src:x,alt:"",width:"10px"})})})]},t)}))})]})]})]})})})]})})})}),(0,u.jsx)(d.qh,{})]})]})}},9936:function(e,t,s){e.exports=s.p+"static/media/delete.196e3a0746aa2189534d.png"}}]);
//# sourceMappingURL=940.4974785b.chunk.js.map