"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[275],{57643:(e,s,t)=>{t.r(s),t.d(s,{default:()=>oe});var a=t(72791),c=t(78983),n=t(10935),i=(t(41167),t(82755),t(52036)),l=t(57689),o=t(75421),r=t(36223),d=t(11087),h=t(48463),m=t(64941),x=t(27839);const p=t.p+"static/media/uncheck.fa6532ee31160cda0676.png",j="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAxwAAAMcCAMAAADt2VM6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDM1MiwgMjAyMC8wMS8zMC0xNTo1MDozOCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjEgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjZEOURFRkZERTVCOTExRUVCMEQ1OEEwRjNFQTVCQkE2IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjZEOURFRkZFRTVCOTExRUVCMEQ1OEEwRjNFQTVCQkE2Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NkQ5REVGRkJFNUI5MTFFRUIwRDU4QTBGM0VBNUJCQTYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NkQ5REVGRkNFNUI5MTFFRUIwRDU4QTBGM0VBNUJCQTYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz612c0nAAAADFBMVEX/AAD////8dnb///+k6hMxAAAABHRSTlP///8AQCqp9AAAGdVJREFUeNrs3du227YOBVBI+v9/PmlPL2nifbEtEgA5+dzR2AQnFyA7TlxWzjq+vexV0gpbkMHh/LHim+vHf4oKHEuLeILDd6nYXTg6o7hHxEdOIIGjpYqYthiBowmLiSoeGlEHOLBABI4OLkqw+J2I6sDBBSFwcEEIHPVhRKsFCBxzYJzRcp2AwAEGIHCAAQgcYAACR1EZseTiAw6RIUDgEBkCBI45Ms7YZvEBBxmfN1gqDwcZfMBBBh9wkMEHHGTwAYentp5fwVGDBg0PfcChnQJBewWH0BAfcAgN8QGH0BAfcAgN8QGH0BAfcAgN8QGH0BAfcKCBBxxdaein7umu4DBqWLsPH7EJDWdadwUHGnjAgQYecKCBBxxo4AEHGnjAgQYecKCBBxxoWNvwCDQsPDbBgQYecHxkwzHN4wFHaRq+Xpi4VvvGbqBh4bE6DsOG0QMONPCAwxxuMofDsGH0gENHpbeCQ0eFxwGHjspatbeK5jTEht4KDh2V3goOHZXeCg6xITzgEBvCAw6DuLXSYB49bThweis4xIbwgENsCA84xIbwgENsWL3DI8SGJTz640BDeMAhNuiAQ2zstxp9YB5sWMKjMw7fpBIecIgN4QEHG3TAoaWyurZWITYs4dETBxt0wKGl0lrBITasJuERbFh0dMOhpdJawbFrbJw/1vHF+uO/ER5wbGHjPx6+uxM/SaEDjuVaqvM5EF9BWUxJVR0hNsYmxS0oPlCyjJGig0ewMZTF6J3604jw2AZHexszWPxG5KRjAxytbcx2sZCQgjqiHI2Tiz2F1Bs8QmzcBaPOHnYFUk1HsLESjOZAim1ksLEajM5Aau1msLEijLZASm1pFKrj2UvG1WQdrX4Or9JYHmJjychoHCB1NjfYWDYyfgNy0tERRw8bZ/N/db6Ljyq7HGxsIqOTjyI7HWzsI6OPjxq7HWxsJaOLjxI7XgBH8TotJ+MfH8VvJDiKf7xxLkqjQXwU0BHpFRIafBT9ODDY+FjG4jTKt1fZBQg2dmunGvFILkKwUfv7PXt3V7mFCDa2mzQ6xUdqLYKNbfupFvGRWY5gY+N+qsNj9cSSBBt791P1u6u8qgQbaBTnkVaYYAON6jyyahNsoFGeR1J5gg006vPIqVBsbwONDjxSihSb20CjCY+MOsXWNtDowyOhVLGxDTRa8ZhfrdjWBhrdeEwvWGxqA42GPGbXLLa0caLxXNnOLXXEjjbQULlqOIrssI6qcW81tXaxmw00evOYWb7Yy4Zho/3oMbGCE3EYNowetxRxPRwFbh0d1RK91bxfe4ttbOioVumtpumIXWygsU5vNUtH7LGfOqqlwmNSNWMTG460gpbEkb2VYmO9wXxKSWN5GwbxRW+8FXAk7yIai4bHhMIGG5bSZuEwbQiPph+Vj8aR+tQPjaXDY/jHHbHu5omNKTrOdS+/WNiGo7t6eAyucSy6bx7gbhEeY6sca9pAY5PwGFrooTjYoKPzI6uBONLS1iS+UWs18pFVrHeboLFVeAwsd9gsS8Hn4sjaKk+p9muthpU81rKBxo5TeTccbLDRfigfgyMnYLVUe9oYpiPW2Sg0drUxqvbBhtXexqDqD8HBBhsrDOUDcGQMHMaNzW0MGTtiiZ1CY3cbQ85AsGGtYGPEKbgfBxtsLDJ23I0jYeBgg40xY0d03yqjOBujrslob8MBZWOQjptxaKnYWGfsuBXH9IGDDTYGNhLRea/YYGPkkQg2rHVs3Hso7sTBBhtLjR334Zg9cLDBxuCxI7puFhtsjD4ZwYa1lI0bG6vbcPhYnI3VGqvouFs+FmdjRlsRbFiL2bhNx0042GBjvbEj2m0XG2xMio5gw1rOxk06bsHBBhsrNlbRa7/YYGNedAQb1oI2btFxAw422FizsYpGG8YGG1OjIxptGBtsTNXxNg7fNWRj1cYq2uwYG2xMPjLRJTjYYGN2dLyHY97f/mODjemPcKLHlrHBxvxz8x4ONthYuLF6B8e0pooNNjIaq2iwZ2ywkXJ43sHBBhtLN1ZRftN8aYSNpLs1qgcHG2xkRcfLOGZN42ywkXW9RvFdM3CwkXaGXsbBBhurN1ZRetvYYCPxGEXl4GCDjczoeA3HnGncgyo2Uk9SFN43NthI7UFew6GpYmODxirKbhwbbCSfpqgaHGywkR0dUXTnDONspF+2UTU4HFE2sk/U8zimPMbVVLGR34tEyeBgg40C0REVg8PAsZ2NkqcqKu4dG7vZOEr2I0/j0FSxMaDiJS/dqLd5bOxno+bJinLBYeDY0cacYXYojim8HdIdbUy5eJ+MjqgWHJqqTW0UvHmj2PaxsauNgscragWHgWNfG1PGjmE4Zsh2Sve1MeP2fSo6olRwaKq2tlHt+o1KG8jG3jZmNFbPnLEoFRyO6d42ih2yEBxs1LFR65RFneBgg40pOu7HUelFW8vaKHUJh+Bgo5KNSrdwVNlDNtiodtSiSHD4aJyNeU3KvTjGa3ZQ2agWHVEjODRVbNS7ikNwsFHMRpm7OAQHG9VsVLmMo8I2ssHGLy/urPAqokRwOKpsFDxyFXAIDjamNyt34RiccT7iYKPmoYsCweGsslHy1EW6YU0VGwkv8jvREYKDjYo2Kpy7yN5KwcFG1YMXyYBN42xk9fPv4xjt12llI+de/volRfUXaG1rI/1izsbhuLJR9vB9hWNs3yc42Mh7vV/OuyE42KhqI/v4ReZ2Cg42Kp+/SJTrMS4buY9z38IxGK4Dy0ZqY/UeDk0VG7lFHhodX/QuUZatxUbyGYy0HRUcbKS/9M+jIwQHG7Xvv7xTmIZDcLBR4NW/jGPoLMQGGwWi49O+KgQHG8UrnBYdUTHOLDYq3NIhONioXuCsazoLh1PLRpHoeAXHyHFccLBR5W18MpKH4GCj/t2XcxgjY18FBxt13snHLzcEBxsNrr6U45iBQ3CwUSo6nsWR8mIsNipd1iE42OhQ3IzbOgOHk8tGreh4DsfADzkEBxvF3tJHH3WE4GCjx703/0xOxyE42Cj3rp7CMbKrcnbZqBYdH/RVUeNlWGx8/cZmX9mzcbDBRsHoeALHOKKCg42K0fH4XIbgYKPNY5bJBxMONvo8giyAY1x6eY7LRs3397CvCsHBRp8rb+7RnIrDOM5G1ZH8mzjmvgCLjQrR8ejiDsHBRqMxcmpfNRMHG2zUfZvfwqGrYqPw48eZfU1MDA442GgVHTNxOMNsFI6Ob+AYts/GcTZq4zi+xiE42KjcJk/sq+Bgo9kIuSAOXRUbN73hMwvHvD/ZYqNWdPx2f4euio1mj+WnndFZOHzIwUb5N/0Fjml/rsVGuej49X2FcZyNbl3ArL5qEg422OjXV8HBRr/pMQXHqAe5uio2OnzU8cs5DcHBRr+njnMOKhxsNHwivxAOXRUbPfqqT3DM+SMtNqpGx3+v8dBVsdHwWw5TjmpM52ix0aSvmoGDDTa6RMeHOIwcbLT55uiMLid0VWx0/Fb1jJs8JieVxUabvgoONlramIxjUFDpqtho1Ff9fFxDcLDR0caM8woHGz1twGGxUQHHoL03crDRauj46Q2H4GCjpY0JJxYONpra6I9DV8VGt75qGg422GgWHQ9wDGdosdECx7/NThg52GhqY/iZjVkKLTa6DR2DcbDBRt+hAw422tqYhcM8zkY7G6NngTBysNHVxugrPeYElMVGv74KDjb62oCDDTZScYxp3owcbHQcOv4+tyE42GhrY/DBhYONxjbgYION5XAYOdjoOXRMwMEGGz2j4z84hvqz2GiG46+eJ4wcbDS2MfTowsFGZxtdcZjH2eg9kQ/EwQYbvSdyONhobWM4Dg+r2IDj95EgzONsdLYx8vDGYHwWG20n8nE42GCj+dABBxsXHHCwsaINONhgIwfHkJHGPM5G44n8z+Mbwx5WOfBszFnDHlfFpatiQ18FBxsr2oCDDTbgYION1XF4WMVG68dVf+MY8ijMqWej8+Oqv3AMg2ex0bav+qP1CSMHG3A8PsFwsAEHHGwsagMONtiAgw021sbhYw42+n/QMQgHG2w0jw442IDjUxw+A2QDjkff8YCDDTg+xOHbI2zA8fCZUniSywYcj88wHGzAMRWHjznYgOPjYcZiY96mnnCwwcbj1QmHroqN9n0VHGzAAQcbcMDBxn424GCDjdk4fHuEDTjgYAOOZz6PgIMNOD7C4Uu5bMDx+DtQ4atVbMDxePvCt0fYWGCHTzjYYOPxgoMNNtrjMHKwscIHHXCwAQccbMABBxvb2YCDDTbgYIMNONhgAw422IADDjbggIMNOOBgAw442IADDjbggIMNOOBgY2sbcLDBBhxssAEHG2zAwQYbcGyOgw044GADDjjYgAMONuCAgw044GADDjjYgAMONtiAgw024GCDDTjYYAOO/XCwAQccbMDx9jrZYGPu8i87scEGHGyw8VwZGuE42GCj+8jxB44h5thgozuO84gLDjbgeDgcwMEGHB/i8EEHG3A8PMRwsAEHHGzAAQcbcMDBhgUHG2wsg+Nkg42Z64SDDetxRVrhONhgo3dXNQzHykMHG3DAwQYcvpbLBhwPR4O4fPOQDTgePlSCgw04PsbhU0A24Hh0hOFgA465OE422JhXmbMXjoMNNpo/yR2FY72+ig044GADDjjYgAMONuB4aWqOy/dH2IDj4fPWHziGfER+ssFG5ye5f+PwLJcNwfGg9YnL0MEGHHCwAQccbMABBxsWHGxYMx9W/YtjyKOwgw022gbH+TcO0cEGHA9OLxxswAEHG3DAwQYcxXH0nsjZ8LBqII7W0cHG3sHxM44TDjbg+LXticFtGxtsdB054GADjgQcXSdyNszjw3E0jQ42BAccbMDxLRweV7EBx68TQQyfathgo+c8PhRHv4mcDfP4JBztooMNwQEHG3DAwQYc7+MY0rq1GjrYMHL8cm7jEh1sCI6HxxYONuCAgw04KuHoMnSwYeT4DMe5cXSwITgeXekxJ6DYYKNdVwUHG3Ak4WgwdLBh5MjBUT862BAcX+PYcyJnA44Pu52Y1b+xwUazkWM4jtpDBxtGjkQcpaODDcEBBxtwvNDrxOijUvcosKGr+vw2j2vX6GBDcMDBBhxwsLGVjbk4xvRwJR/msiE4vj6uce0YHWzA8Y3TuiUONuAogqNcX8WGB7nP4zi3iA42BMf3bvKYnFRsWF26qik4SvVVbOiqKuGoFB1sCI4XcSw/dLABx/ebnJj/R7Jhteiq5uCoEh1sCA442IDjfhznwn0VG7qq585pXLtEBxuC48ljug0ONhaysRaO9L6KDcHxNo5Fo4MNOJ4vVyT9uWxY1buqaThSo4MNwXELjnM9HGzA8dJgHGl/MhtWqQ85fr+/Iy2z2LBqd1Xr42ADjvtwrNVXsaGrerlmcS0dHWwIjtfP50wcBxtW3ZJ+C8e5THSwITjeqVqk5hYbVt3gmIpj8kjOhuC4H8cafRUbcLx5c8e1aHSw4Tnuuxd3ZEcXG1bRruoxjrP92WHDOP5+UxPXitHBhuC44WAuiYMNOMbhOKemFxtW8jh+fh9H7+hgQ3Dccyxn4xgfHWwIjrE4zrbRwYbguOvKjukBdrBhFSvtB9WbjmNsdLAhOMbjOFseJDYEx42DcFwLRQcbguPOE5mB42DDqlTcp3H0iw42BMe9FYxrlehgQ3DcfFln4BgSHWwIjnk4ekUHG4Lj9hrGtUR0sCE47j+Mn+A4+xwqNgTHgG/7xbVAdLAhOEYcxSwcBxtWiQK/iKNJdLAhOMaUMa7u0cGG4Bh0S3+K42wQHWwIjjHj+Oc4OkQHG4Jj2B2dhuOe6GBDcGThqB4dbAiOcV3V5ziqRwcbgmPkGfwCx5mmlg0r+wjG1TY62BAcY09gJo73ooMNwZGM46h60NgwjY8uZmSm2huNFRuaquHHL3Jj7WDDyirz+S6OmtHBhuCYcPiycRxsWEl1vgFHvehgQ3BMqWckv8IXHuey4THunHs50rPtYMOqefAiO9yebazY0FTNOneRn24HG9b0Sp/34KgUHWwIjnmn7ls4znTDbJjG5x+6qID4YMOaW+pvlbQCju82VmxoqgriGPxSv9dYsaGpmlvUqOH4YMOaWOvvFTW6vFg2NFWzqxpNXi0bgmP6kBtVXu7BhlXjsD2LY3h0fI6ZDU1VwsfO0UEzG4Ijo65Rh/PBhjWj2t+ua9R/zWxoqnIKG+VfNBuCIyc4nsGRo4MNNrIqG4Xy7pFpNjRVWcHxFI7hL/z371ixsZmNs1Jpo5bqgw1NVZXgeA7H7JfOhqYqs7ZR67X/p7FiQ1OVGRxP4pgqmw1NVW5xo1js/fvy2WAjNziexTHv9bNh4MiubpR7A/8fO9gwcGQHx9M4JvFmQ1OVX96ol30/3gMbbOQHx/M45uhgw8CRX994+l1MaA1PNgwcE76cdDuOK+dWZ0NTNbmpegnHyYbVz8Y5A8ea0cHG4gPHK//AXhR1zoaBI73CcYkONtZvql76l1njEh1sbGBjFo7VooON5W28FBwv4jjYsBoN4y/WOF57RycbVpth/JXHuK/jWKixYkNTdTeOgw2rjY25OFaJDjY2sPFqcLyO42DDamJjNo4lZnI2drBxvlzleP29sWHVf4j7elP1Fo6DDav6Q9y3yhzXrtHBxhY23giOt3AcbFjVD8+Rg6P1TM7GHjbOd+ocb71FNqzaTcdbdY4e75ENNuYXOt57lycbVl0b53uFjjffJxtW3X7jzUJHmzfKBhuTKx3XbtHBRjKO6BIc7+M42LBqjqlHNo5uOthgYx6OXo0VG9vYiPdLfQOOgw2roI0KOBrpYIONyTjaNFZs7GMj7qj1LTgONqxiNqrg6KGDDTYycHRorNjYyEbcU+ybcBxsWIVsVMJRXgcbuTRa2rgLR/Evr7ORbGNqtc+7qh23bQAbVo224rZqR9cdYION0eWO+/bgZMPKt3HeV+64cRfYsPI7ihvLHY23gQ02htY7rrV1sMFGCRwFxw429rJx3lrvuHcz2LAyW4l76x3Nd4ONwjTO5gWPa10dbOwVG7cXPO7ekpMNK8fGeXfB4/ZNYcPKaSFuL3issCtssDGi4nGtqYMNNgriKDF2sLHXY6oBA8cYHAXGDjY2i40BA8coHAcbbCxQ8rjW08EGG3Vx5OpgY7NxY1jJY9AmnWyIjc7D+EAceUM5G9vZiFElj8X26YRjs5Zq4H0Yq90iomOz2BhY8LBZlnLPxpE3lGut9mmphg3jg3EkflJOxyaxMW4YH46DDjY6FzoW3TSt1QYt1ehLMFa9UoTH+rExusax7s4Jj8VjY/j9F6M3L/Mvd9CxcmwMfVA1BUfuX+448BhLY2kbE3D4+rrYaPcQdxKOfB14LBgbU669WP6CER6qWhdHgX3EY7HYmHPjxQ63jPBQ0LI48jfTZx63VvPc47KLSfuZ/ltWdCxz0014iDsVRwEdwmOR2JhmYxqOCr+DaDDvP4jPtDEPR4mfX6eje0c15cO/BBwVNlZv1bujmnvBxWbXjt6qc0c1Ofzj2k0HHo1pzG2M49pPh9FD5erhKLPHRo+Gw8b8Wy32vIHwaEhjeuLHtakOo0evYSOjG45rWx14tKKRMCnGtbEOPPrQyHiKEtfWOvBoQiPlCWNcm+vAowONnKfvcW2vA4/yNJI+mYqLDjyK08j61DYuOvCoTSPtGw1x0YFHaRp53/aJiw48KtNI/CZcXHT850slx9Y0zmCjAo6SOjaOj6MkjdRvUMdFBx41+6lsG6k4qurYrrsqGhrZNnJxlNWxVXwclatw7YujsI4/eBxo7GwjG8dVNtC3iI+j8vbn/320yC9QYR1LTx+lZcz87bbCOGrrWDU+jsrtVBEbFXBcxcu0YHxUl1HkB2LiomMzH8XbqTo2auBooGMVHx1klPlhsbjo2MZHDxl1fnQvLjq28HF0kVHoBynjouMFH0c/GV22t9CPtUahAp5t6tcqQI5uO3vB0Tk82gTI0UtGsd/4jouORYG0g1HNRi0c/XRUBdIRRjkbxXC01FENSFMY9WxUw3F1retfQI58F5038IJjyfDIFtLaRcXYKImjt44EIUd7F0VtVMTRX8efQiYQWYNFWRslcVyLFPxfIneX/liIRc1xoy6ORcLjt07rXSR//0/WUVE4NuriWE7HP0nyD5NvSvnpPz/PJfek7r98XRXHqjo+lvJwnauC6GCjLo5ruebBajRuFMexRXhsv0p/d7MyDjrYgENrpaWCQ3hYXWKjAQ462IBDa6WlgkN4WB1iowkOOtiAQ2ulpYJDeIgNOISH1TQ2OuEQHmIDDjrYgOMVHXg0p9HqR4Zb4RAeYgMO4SE24BAeYgMO4SE24BAe1hKx0RWH8BAbcPjAfIF1tv1XRrvi0FvpqOAQHmIDDuEhNuAwmBvE4dBb6ajg0FtZi3VUi+DQW+mo4NBb6ajg0FvpqODQW+mo4MADDTiMHoaNCw48rLVprIbDZG4Oh8PoYdiAAw804MADDTjwQAMOPNCAAw804MDD2ofG4jjwQAMOPNCAAw804MADDTim8fCVxJvWuQmNbXBcvrF7H41tjsw+OHRX+ik48EADDsOHUQMO8SE04MADDTh0V/opOPggAw7tlXYKDvEhNOAQH0IDDjz4+E0GGnBor7RTcPBBBhx8kAEHH2TAwQcZcPDh2RQcnu+SAUd7H+fqzRQZcAgQkQGHABEZcAACBhyAgAEHIGDA0R9IMyEHGHCIkMeBAQYcIoQLOAjhAo5OQmoQ+T8LLuBABAs42hGZaeQvFVjA0czIOUzJj/81FXCsoOQuJv+SYAKO9Zg8SeUnDkjAsR2Vz5e9Slr/E2AA4mvwqIJVTFUAAAAASUVORK5CYII=";var g=t(31921),u=t(26213),b=t(75749),N=t(69835),v=t(80184);const _=e=>{let{contact:s,worker:t}=e;const{setPersonW:c}=(0,a.useContext)(m.w),{setUserWorkerAsUnread:n,setCountMessageWork:i}=(0,u.Z)(),{userWorkers:l,setUserWorkers:o}=(0,u.Z)(),N=(()=>{const e=Object.keys(s.messages);let t;t=0!==e.length?e[e.length-1]:"2000-01-01";let a=[];if("{}"!==JSON.stringify(s.messages)&&(a=[...s.messages[t]]),a.length){return a.pop()}return""})();return(0,v.jsxs)(d.rU,{className:"sidebar-contact",onClick:()=>(async()=>{if(c({name:s.name,id:s.chatId,avatar:s.avatar}),n(s.chatId),i("0"),0===Object.keys(s.messages).length){console.log("\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b!");const e=await(0,b.SV)(s.conversationId,10,0),t=[],a=[];e&&[...e].map((e=>{const s=new Date(e.createdAt),c=s.getFullYear(),n=String(s.getMonth()+1).padStart(2,"0"),i=String(s.getDate()).padStart(2,"0"),l=s.getHours(),o=String(s.getMinutes()).padStart(2,"0"),r="".concat(i,".").concat(n,".").concat(c),d={date:r,content:e.text,image:"image"===e.type,descript:e.buttons?e.buttons:"",sender:e.senderId,time:l+" : "+o,status:"sent",id:e.messageId,reply:e.replyId};t.push(d),a.push(r)}));const c=[...a].filter(((e,s)=>s===a.indexOf(e)));let n={};for(let s=0;s<c.length;s++){const e=[];for(let a=0;a<t.length;a++)t[a].date===c[s]&&e.push(t[a]);n[c[s]]=e}o((e=>{let t=e.findIndex((e=>e.chatId===s.chatId.toString()));const a=JSON.parse(JSON.stringify(e));return a[t].messages=n,a}))}})(),children:[(0,v.jsxs)("div",{className:"sidebar-contact__avatar-wrapper",style:{position:"relative"},children:[s.avatar?(0,v.jsxs)(v.Fragment,{children:[" ",s.blockw?(0,v.jsx)("img",{src:j,alt:"",className:"avatar-adm",style:{position:"absolute",top:"0",zIndex:"2"}}):(0,v.jsx)(v.Fragment,{}),(0,v.jsx)("img",{src:"".concat(s.avatar),alt:"",onError:e=>{e.target.src=x},className:"avatar-adm",style:{position:"absolute",top:"0",zIndex:"0"}})]}):(0,v.jsxs)(v.Fragment,{children:[" ",s.blockw?(0,v.jsx)("img",{src:j,alt:"",className:"avatar-adm",style:{position:"absolute",top:"0",zIndex:"2"}}):(0,v.jsx)(v.Fragment,{}),(0,v.jsx)("img",{src:x,alt:"",className:"avatar-adm",style:{position:"absolute",top:"0",zIndex:"0"}})]}),0!==t.length&&JSON.parse(t[0].worklist).find((e=>"Blacklist"===e.spec))?(0,v.jsx)("img",{src:p,alt:"",width:18,style:{position:"absolute",top:"34px",left:"32px"}}):"",0!==t.length&&JSON.parse(t[0].worklist).find((e=>"+18"===e.spec))?(0,v.jsx)("img",{src:g,alt:"",width:18,style:{position:"absolute",top:"-5px",left:"32px",width:"23px"}}):""]}),(0,v.jsxs)("div",{className:"sidebar-contact__content",children:[(0,v.jsxs)("div",{className:"sidebar-contact__top-content",children:[(0,v.jsx)("h2",{className:"sidebar-contact__name",children:s.name}),(0,v.jsx)("span",{className:"sidebar-contact__time",children:""===N?"":(0,h.Z)(N.time)})]}),(0,v.jsxs)("div",{className:"sidebar-contact__bottom-content",children:[(0,v.jsxs)("p",{className:"sidebar-contact__message-wrapper",children:[N.status&&(0,v.jsx)(r.Z,{id:"sent"===(null===N||void 0===N?void 0:N.status)?"singleTick":"doubleTick","aria-label":null===N||void 0===N?void 0:N.status,className:"sidebar-contact__message-icon ".concat("read"===(null===N||void 0===N?void 0:N.status)?"sidebar-contact__message-icon--blue":"")}),(0,v.jsx)("span",{className:"sidebar-contact__message ".concat(s.unread?"sidebar-contact__message--unread":""),children:s.typing?(0,v.jsx)("i",{children:" \u043f\u0435\u0447\u0430\u0442\u0430\u0435\u0442..."}):null===N||void 0===N?void 0:N.content})]}),(0,v.jsxs)("div",{className:"sidebar-contact__icons",children:[s.pinned&&(0,v.jsx)(r.Z,{id:"pinned",className:"sidebar-contact__icon"}),!!s.unread&&(0,v.jsx)("span",{className:"sidebar-contact__unread",children:s.unread}),(0,v.jsx)("button",{"aria-label":"sidebar-contact__btn",children:(0,v.jsx)(r.Z,{id:"downArrow",className:"sidebar-contact__icon sidebar-contact__icon--dropdown"})})]})]})]})]},s.id)};var f=t(30549);const w=()=>{const{userWorkers:e,workersAll:s}=(0,u.Z)(),[t,n]=(0,a.useState)([]),[i,d]=(0,a.useState)(""),[h,m]=(0,a.useState)(!0),x=(0,l.s0)();(0,a.useEffect)((()=>{const s=[];for(const t of e)if(s.push(t),50===s.length)break;n(s),s.length>0&&m(!1)}),[e]),(0,a.useEffect)((()=>{const s=[];for(const a of e)if(s.push(a),50===s.length)break;const t=e.filter((e=>{var s;return null===(s=e.name+e.chatId)||void 0===s?void 0:s.replace(/[\u0435\u0451]/g,"(\u0435|\u0451)").toLowerCase().includes(i.replace(/[\u0435\u0451]/g,"(\u0435|\u0451)").toLowerCase())}));n(""===i?s:t)}),[i]);return(0,v.jsxs)("aside",{className:"sidebarB",children:[(0,v.jsxs)("header",{className:"headerB",children:[(0,v.jsx)("div",{className:"sidebar__avatar-wrapper",children:(0,v.jsx)("img",{src:o,alt:"U.L.E.Y",className:"avatar-adm"})}),(0,v.jsx)("div",{children:"\u0421\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u044b"}),(0,v.jsx)("div",{className:"sidebar__actions",children:(0,v.jsx)(f.Z,{className:"sidebar__action",ariaLabel:"Menu",iconId:"menu",iconClassName:"sidebar__action-icon",onSelected:e=>{switch(e){case 0:console.log("\u041f\u0440\u043e\u0444\u0438\u043b\u044c");break;case 1:console.log("1");break;case 4:x("/dashboard");break;default:console.log("\u0412 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435")}},options:["\u041f\u0440\u043e\u0444\u0438\u043b\u044c"]})})]}),(0,v.jsxs)("div",{className:"search-wrapper",children:[(0,v.jsxs)("div",{className:"search-icons",children:[(0,v.jsx)(r.Z,{id:"search",className:"search-icon"}),(0,v.jsx)("button",{className:"search__back-btn",children:(0,v.jsx)(r.Z,{id:"back"})})]}),(0,v.jsx)("input",{className:"search",placeholder:"\u041f\u043e\u0438\u0441\u043a \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u0430",onChange:e=>d(e.target.value)})]}),(0,v.jsx)("div",{className:"sidebar__contacts",children:h?(0,v.jsx)(c.LQ,{style:{margin:"50%"}}):t.map(((e,t)=>"1775583141"!==e.chatId&&(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(_,{contact:e,worker:s.filter((s=>s.chatId===e.chatId))})})))})]})};const I=t(30888).Z,y=e=>{let{id:s,...t}=e;const a=I[s];return a?a(t):null},A=[{icon:"recent",label:"Recent emojis",active:!0},{icon:"emojiPeople",label:"People emojis",active:!1},{icon:"emojiNature",label:"Nature emojis",active:!1},{icon:"emojiFood",label:"Food emojis",active:!1},{icon:"emojiActivity",label:"Activity emojis",active:!1},{icon:"emojiTravel",label:"Travel emojis",active:!1},{icon:"emojiObjects",label:"Object emojis",active:!1},{icon:"emojiSymbols",label:"Symbol emojis",active:!1},{icon:"emojiFlags",label:"Flag emojis",active:!1}],H=e=>{let{showEmojis:s,newMessage:t,setNewMessage:a}=e;return(0,v.jsxs)("div",{className:"emojis__wrapper ".concat(s?"emojis__wrapper--active":""),children:[(0,v.jsx)("div",{className:"emojis__tabs",children:A.map((e=>(0,v.jsx)("div",{className:"emojis__tab ".concat(e.active?"emojis__tab--active":""),children:(0,v.jsx)("button",{"aria-label":e.label,children:(0,v.jsx)(y,{id:e.icon,className:"emojis__tab-icon"})},e.icon)},e.label)))}),(0,v.jsxs)("div",{className:"emojis__content",children:[(0,v.jsx)("input",{className:"emojis__search",placeholder:"Search Emoji"}),(0,v.jsxs)("h4",{className:"emojis__label",children:[" Smileys ","&"," People "]}),(0,v.jsx)("div",{className:"emojis__grid",children:new Array(6).fill(null).map(((e,s)=>new Array(11).fill(null).map(((e,t)=>(0,v.jsx)("div",{role:"img","aria-label":"emoji",className:"emoji emojis__emoji",style:{backgroundPositionX:-3-44.2*t,backgroundPositionY:-6-52*s}},"".concat(s,"-").concat(t))))))}),(0,v.jsxs)("h4",{className:"emojis__label",children:[" Animals ","&"," Nature "]}),(0,v.jsx)("div",{className:"emojis__grid",children:new Array(6).fill(null).map(((e,s)=>new Array(11).fill(null).map(((e,t)=>(0,v.jsx)("div",{role:"img","aria-label":"emoji",className:"emoji emojis__emoji",style:{backgroundPositionX:-3-44.2*t,backgroundPositionY:-6-52*s}},"".concat(s,"-").concat(t))))))})]})]})};t(24846);const G=(e,s)=>{(0,a.useEffect)((()=>{if(e){e.style.height="0px";const s=e.scrollHeight-40;e.style.height=s+"px"}}),[e,s])};var Y=t(52007),O=t.n(Y),B=t(93152),D=t(87485),M=t(42223);const k=O().oneOf(["start","end"]),R=O().oneOfType([k,O().shape({sm:k}),O().shape({md:k}),O().shape({lg:k}),O().shape({xl:k}),O().shape({xxl:k}),O().object]),C={id:O().string,href:O().string,onClick:O().func,title:O().node.isRequired,disabled:O().bool,align:R,menuRole:O().string,renderMenuOnMount:O().bool,rootCloseEvent:O().string,menuVariant:O().oneOf(["dark"]),flip:O().bool,bsPrefix:O().string,variant:O().string,size:O().string},S=a.forwardRef(((e,s)=>{let{title:t,children:a,bsPrefix:c,rootCloseEvent:n,variant:i,size:l,menuRole:o,renderMenuOnMount:r,disabled:d,href:h,id:m,menuVariant:x,flip:p,...j}=e;return(0,v.jsxs)(B.Z,{ref:s,...j,children:[(0,v.jsx)(D.Z,{id:m,href:h,size:l,variant:i,disabled:d,childBsPrefix:c,children:t}),(0,v.jsx)(M.Z,{role:o,renderOnMount:r,rootCloseEvent:n,variant:x,flip:p,children:a})]})}));S.displayName="DropdownButton",S.propTypes=C;const E=S;var W=t(81694),F=t.n(W),Z=t(10162);const L=a.forwardRef(((e,s)=>{let{bsPrefix:t,size:a,vertical:c=!1,className:n,role:i="group",as:l="div",...o}=e;const r=(0,Z.vE)(t,"btn-group");let d=r;return c&&(d="".concat(r,"-vertical")),(0,v.jsx)(l,{...o,ref:s,role:i,className:F()(n,d,a&&"".concat(r,"-").concat(a))})}));L.displayName="ButtonGroup";const T=L,P=e=>{let{showAttach:s,setShowAttach:t,showEmojis:c,setShowEmojis:n,mess:i,setMess:l,submitNewMessage:o,onFileChange:r,setSelectedElement:d}=e;const h=(0,a.useRef)(null);G(h.current,i);a.forwardRef(((e,s)=>{let{children:t,onClick:a}=e;return(0,v.jsxs)("button",{"aria-label":"Message options",ref:s,onClick:e=>{e.preventDefault(),a(e)},children:[t,(0,v.jsx)(y,{id:"downArrow"})]})})).displayName="Search";const m=a.forwardRef(((e,s)=>{let{children:t,style:c,className:n,"aria-labelledby":i}=e;const[l,o]=(0,a.useState)("");return(0,v.jsx)("div",{ref:s,style:{backgroundColor:"#20272b"},className:n,"aria-labelledby":i,children:(0,v.jsx)("ul",{className:"list-unstyled",children:a.Children.toArray(t).filter((e=>{var s;return!l||(null===(s=e.props.children)||void 0===s?void 0:s.toLowerCase().startsWith(l))}))})})}));m.displayName=m;return(0,v.jsxs)("div",{className:"chat__input-wrapper",children:[c&&(0,v.jsx)("button",{"aria-label":"Close emojis",onClick:()=>n(!1),children:(0,v.jsx)(y,{id:"cancel",className:"chat__input-icon"})}),(0,v.jsx)("button",{"aria-label":"Emojis",onClick:()=>n(!0),children:(0,v.jsx)(y,{id:"smiley",className:"chat__input-icon ".concat(c?"chat__input-icon--highlight":"")})}),c&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("button",{"aria-label":"Choose GIF",children:(0,v.jsx)(y,{id:"gif",className:"chat__input-icon"})}),(0,v.jsx)("button",{"aria-label":"Choose sticker",children:(0,v.jsx)(y,{id:"sticker",className:"chat__input-icon"})})]}),(0,v.jsxs)("div",{className:"pos-rel",children:[(0,v.jsx)("button",{"aria-label":"Attach",onClick:()=>t(!s),children:(0,v.jsx)(y,{id:"attach",className:"chat__input-icon ".concat(s?"chat__input-icon--pressed":"")})}),(0,v.jsxs)("div",{className:"chat__attach ".concat(s?"chat__attach--active":""),children:[(0,v.jsxs)("button",{className:"chat__attach-btn","aria-label":"Choose document",children:[(0,v.jsx)("label",{htmlFor:"fileInput2",children:(0,v.jsx)(y,{id:"attachDocument",className:"chat__attach-icon"})}),(0,v.jsx)("input",{type:"file",id:"fileInput2",name:"photo",style:{display:"none"},onChange:e=>r(e,"doc")})]},"Choose document"),(0,v.jsxs)("button",{className:"chat__attach-btn","aria-label":"attachImage",children:[(0,v.jsx)("label",{htmlFor:"fileInput",children:(0,v.jsx)(y,{id:"attachImage",className:"chat__attach-icon"})}),(0,v.jsx)("input",{type:"file",id:"fileInput",name:"photo",style:{display:"none"},onChange:e=>r(e,"image")})]},"attachImage")]})]}),(0,v.jsx)("div",{style:{marginLeft:"8px",marginRight:"8px"},children:(0,v.jsxs)(E,{onSelect:async e=>{d(e)},as:T,id:"dropdown-button-drop-up",drop:"up",variant:"secondary",title:"",children:[(0,v.jsx)(B.Z.Item,{class:"dropdown-menu",eventKey:"0",children:"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442"}),(0,v.jsx)(B.Z.Item,{eventKey:"1",children:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442"}),(0,v.jsx)(B.Z.Item,{eventKey:"2",children:"\u041a\u043d\u043e\u043f\u043a\u0430 \u0441 \u043d\u043e\u043c\u0435\u0440\u043e\u043c"}),(0,v.jsx)(B.Z.Item,{eventKey:"3",children:"\u0417\u0430\u043f\u0430\u0441"}),(0,v.jsx)(B.Z.Item,{eventKey:"4",children:"\u041e\u0444\u0438\u0441 U.L.E.Y"}),(0,v.jsx)(B.Z.Item,{eventKey:"5",children:"\u041e\u043f\u043b\u0430\u0442\u0430 / \u0441\u043c\u0435\u0442\u0430"}),(0,v.jsx)(B.Z.Item,{eventKey:"6",children:"\u0417\u0430\u044f\u0432\u043a\u0430 \u043e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u0430"}),(0,v.jsx)(B.Z.Item,{eventKey:"7",children:"\u0417\u0430\u044f\u0432\u043a\u0430 \u043e\u0434\u043e\u0431\u0440\u0435\u043d\u0430"}),(0,v.jsx)(B.Z.Item,{eventKey:"8",children:"\u0417\u0430\u043f\u0440\u043e\u0441 \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445"}),(0,v.jsx)(B.Z.Divider,{}),(0,v.jsx)(B.Z.Item,{eventKey:"9",children:"\u041f\u0435\u0440\u0432\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442"}),(0,v.jsx)(B.Z.Item,{eventKey:"10",children:"\u041f\u043e\u0441\u0442\u0435\u0440"})]})}),(0,v.jsx)("textarea",{className:"chat__input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",value:i,onChange:e=>{console.log(e.target.value),l(e.target.value)},ref:h,rows:1}),(0,v.jsx)("button",{"aria-label":"Send message",onClick:o,children:(0,v.jsx)(y,{id:"send",className:"chat__input-icon"})})]})},Q=e=>{let{msgId:s,className:t,iconId:c,iconClassName:n,ariaLabel:i,options:l=[],position:o="left",showPressed:r=!0,onSelected:d,...h}=e;const[m,x]=(0,a.useState)(!1);return(0,v.jsxs)("div",{className:"pos-rel",children:[(0,v.jsx)("button",{"aria-label":i,className:"options-btn ".concat(m&&r?"options-btn--pressed":""," ").concat(t||""),onClick:()=>x(!m),...h,children:(0,v.jsx)(y,{id:c,className:n})}),(0,v.jsx)("ul",{className:"options-btn__options ".concat(m?"options-btn__options--active":""," ").concat("right"===o?"options-btn__options--right":""),children:l.map(((e,t)=>(0,v.jsx)("li",{className:"options-btn__option",onClick:()=>d(t,s),children:e},t)))})]})},V=e=>{let{user:s,openProfileSidebar:t,openSearchSidebar:a,closeSidebar:n,showCloseButton:i,clearFile:l,setClearFile:o,clickClearFile:r}=e;return(0,v.jsxs)("header",{className:"headerB chat__header",children:[(0,v.jsx)("div",{className:"chat__avatar-wrapper",onClick:t,children:s.avatar?(0,v.jsx)("img",{src:"".concat(s.avatar),onError:e=>{e.target.src=x},alt:null===s||void 0===s?void 0:s.name,className:"avatar-adm"}):(0,v.jsx)("img",{src:x,alt:null===s||void 0===s?void 0:s.name,className:"avatar-adm"})}),(0,v.jsxs)("div",{className:"chat__contact-wrapper",onClick:t,children:[(0,v.jsxs)("h2",{className:"chat__contact-name",children:[" ",null===s||void 0===s?void 0:s.name]}),(0,v.jsx)("p",{className:"chat__contact-desc",children:s.typing?"\u043f\u0435\u0447\u0430\u0442\u0430\u0435\u0442...":"\u0434\u0430\u043d\u043d\u044b\u0435 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0430"})]}),(0,v.jsxs)("div",{className:"chat__actions",children:[l?(0,v.jsx)(c.u5,{color:"danger",onClick:r,children:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"}):"",(0,v.jsx)("button",{className:"chat__action","aria-label":"Search",onClick:a,children:(0,v.jsx)(y,{id:"search",className:"chat__action-icon chat__action-icon--search"})}),(0,v.jsx)(Q,{className:"chat__action",ariaLabel:"Menu",iconId:"menu",iconClassName:"chat__action-icon",onSelected:e=>{switch(e){case 0:t();break;case 1:console.log("1");break;default:console.log("\u0412 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435")}},options:["\u0414\u0430\u043d\u043d\u044b\u0435 \u043e \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435","\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043f\u0435\u0440\u0435\u043f\u0438\u0441\u043a\u0443","\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0447\u0430\u0442"]}),(0,v.jsx)("button",{onClick:n,style:{marginLeft:"15px",display:i?"block":"none"},children:(0,v.jsx)(y,{id:"cancel",className:"chat-sidebar__header-icon-close"})})]})]})},X=e=>{let{active:s,closeSidebar:t,heading:a,children:c}=e;return(0,v.jsxs)("aside",{className:"chat-sidebar ".concat(s?"chat-sidebar--active":""),children:[(0,v.jsxs)("header",{className:"header chat-sidebar__header",children:[(0,v.jsx)("button",{onClick:t,children:(0,v.jsx)(y,{id:"cancel",className:"chat-sidebar__header-icon"})}),(0,v.jsxs)("h2",{className:"chat-sidebar__heading",children:[" ",a]})]}),(0,v.jsx)("div",{className:"chat-sidebar__content",children:c})]})},U=()=>(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"search-wrapper",children:[(0,v.jsxs)("div",{className:"search-icons",children:[(0,v.jsx)(y,{id:"search",className:"search-icon"}),(0,v.jsx)("button",{className:"search__back-btn",children:(0,v.jsx)(y,{id:"back"})})]}),(0,v.jsx)("input",{className:"search",placeholder:"\u041f\u043e\u0438\u0441\u043a..."})]}),(0,v.jsx)("div",{className:"chat-sidebar__search-results",children:(0,v.jsx)("p",{children:" \u041f\u043e\u0438\u0441\u043a \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u0432 \u0447\u0430\u0442\u0435"})})]});t(50882);t(94810);var q=t(50989),z=t(23353);const J=t.p+"static/media/ishod.fc5ad9bb6c30a60e14cd.mp3",K=e=>{var s;let{user:t,closeSidebar:c}=e;const[n,i]=(0,a.useState)(""),[l,o]=(0,a.useState)(""),[r,d]=(0,a.useState)(""),[h,p]=(0,a.useState)(!1),{addNewName:j,addNewAvatar:g}=(0,u.Z)(),{userWorkers:_}=(0,u.Z)(),{addNewMessage2:f}=(0,u.Z)(),{setPersonW:w}=(0,a.useContext)(m.w),[I,A]=(0,a.useState)(null),[H,G]=(0,a.useState)(!1),[Y,O]=(a.useRef(),(0,a.useState)("")),[B,D]=(0,a.useState)(!1),[M,k]=(0,a.useState)(!1),[R,C]=(0,a.useState)(!1),S=(new Audio(z),new Audio(J)),[E,W]=(0,a.useState)(""),[F,Z]=(0,a.useState)(""),[L,T]=(0,a.useState)({}),P=(0,a.useRef)(null),[Q,V]=(0,a.useState)(""),[X,U]=(0,a.useState)(""),[q,K]=(0,a.useState)("");(0,a.useEffect)((()=>{A("".concat("https://proj.uley.team").concat(t.avatar));(async()=>{const e=await(0,b.YL)(t.chatId);o(e[0]),d(t.avatar)})()}),[t]),(0,a.useEffect)((()=>{setTimeout((()=>{T(P.current.getBoundingClientRect());var e=new Image;e.onload=function(){e.height,e.width},e.src=null===t||void 0===t?void 0:t.avatar}),2e3),O(t.phone)}),[t]),(0,a.useEffect)((()=>{(async()=>{const e=await(0,b.Ob)(t.chatId);if(e.length>0){var s,a,c,n,i,l;const t=null===(s=e[e.length-1])||void 0===s?void 0:s.projectId,o=null===(a=e[e.length-2])||void 0===a?void 0:a.projectId,r=null===(c=e[e.length-3])||void 0===c?void 0:c.projectId,d=await(0,b.fE)(t),h=await(0,b.fE)(o),m=await(0,b.fE)(r),x=null!==d&&void 0!==d&&d.properties?null===d||void 0===d||null===(n=d.properties)||void 0===n?void 0:n.Crm_ID.rich_text[0].plain_text:"\u2014",p=null!==d&&void 0!==d&&d.properties?null===h||void 0===h||null===(i=h.properties)||void 0===i?void 0:i.Crm_ID.rich_text[0].plain_text:"\u2014",j=null!==d&&void 0!==d&&d.properties?null===m||void 0===m||null===(l=m.properties)||void 0===l?void 0:l.Crm_ID.rich_text[0].plain_text:"\u2014";V(x),U(p),K(j)}else V("\u2014");const o=await(0,b.Sl)(t.chatId);k(!(null===o||void 0===o||!o.block)&&(null===o||void 0===o?void 0:o.block))})()}),[t]);return(0,v.jsxs)("div",{className:"profile",children:[(0,v.jsxs)("div",{className:"profile__sectionW profile__sectionW--personal",children:[(0,v.jsx)("div",{className:"profile__avatar-wrapperW profile__avatar-worker",ref:P,children:null!==t&&void 0!==t&&t.avatar?(0,v.jsx)("img",{src:null===t||void 0===t?void 0:t.avatar,onError:e=>{e.target.src=x},alt:null===t||void 0===t?void 0:t.name,width:"100%",height:L.width,style:{objectFit:"cover"}}):(0,v.jsx)("img",{src:x,alt:null===t||void 0===t?void 0:t.name,width:"100%",height:L.width,style:{objectFit:"cover"}})}),(0,v.jsx)("h2",{className:"profile__name",style:{textAlign:"center"},children:t.name})]}),(0,v.jsxs)("ul",{className:"profile__sectionW profile__section--actions",children:[(0,v.jsx)("li",{className:"profile__actionW",children:(0,v.jsxs)("p",{className:"profile__actionW-left",children:[(0,v.jsx)("span",{className:"profile__action-text--bottom",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),(0,v.jsx)("span",{className:"profile__action-text--top profile__notion",children:t&&""!==t.phone?t.phone:"\u2014"})]})}),(0,v.jsx)("li",{className:"profile__actionW",children:(0,v.jsxs)("p",{className:"profile__actionW-left",children:[(0,v.jsx)("span",{className:"profile__action-text--bottom",children:"\u0413\u043e\u0440\u043e\u0434"}),(0,v.jsx)("span",{className:"profile__action-text--top profile__notion",children:t&&""!==t.city?t.city:"\u2014"})]})}),(0,v.jsx)("li",{className:"profile__actionW",children:(0,v.jsxs)("p",{className:"profile__actionW-left",children:[(0,v.jsx)("span",{className:"profile__action-text--bottom",children:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"}),(0,v.jsx)("span",{className:"profile__action-text--top profile__notion",children:t&&""!==t.age?t.age:"\u2014"})]})}),(0,v.jsx)("li",{className:"profile__actionW",children:(0,v.jsxs)("p",{className:"profile__actionW-left",children:[(0,v.jsx)("span",{className:"profile__action-text--bottom",children:"Telegram ID"}),(0,v.jsxs)("span",{className:"profile__action-text--top profile__notion",children:[t.chatId,(0,v.jsx)("div",{style:{fontSize:"16px",color:"#656565"},children:t.username?"@".concat(t.username):t.username})]})]})}),(0,v.jsx)("li",{className:"profile__actionW",children:(0,v.jsxs)("p",{className:"profile__actionW-left",children:[(0,v.jsx)("span",{className:"profile__action-text--bottom",children:"\u0421\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c"}),(0,v.jsx)("span",{className:"profile__action-text--top",style:{textAlign:"right"},children:(0,v.jsx)("table",{className:"table-noborder",children:l?null===(s=l.spec)||void 0===s?void 0:s.map(((e,s)=>(0,v.jsx)("tr",{children:(0,v.jsx)("td",{children:e.name})},s))):"\u2014"})})]})}),(0,v.jsx)("li",{className:"profile__actionW",children:(0,v.jsxs)("p",{className:"profile__actionW-left",children:[(0,v.jsx)("span",{className:"profile__action-text--bottom",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u043e\u0442\u043a\u043b\u0438\u043a \u043d\u0430 \u043f\u0440\u043e\u0435\u043a\u0442"}),(0,v.jsx)("span",{className:"profile__action-text--top profile__notion",children:q}),(0,v.jsx)("span",{className:"profile__action-text--top profile__notion",children:X}),(0,v.jsx)("span",{className:"profile__action-text--top profile__notion",children:Q})]})})]}),(0,v.jsxs)("div",{className:"profile__sectionW profile__section--success",onClick:()=>(async e=>{C(!0),console.log(R),setTimeout((()=>C(!1)),200),S.play(),await(0,N.wx)(e)})(t.chatId),style:{cursor:"pointer",backgroundColor:R?"#0e1518":"#131c21"},children:[(0,v.jsx)(y,{id:"phone",className:"profile__success-icon"}),(0,v.jsx)("p",{className:"profile__success-text profile__worker",children:"\u041f\u043e\u0437\u0432\u043e\u043d\u0438\u0442\u044c"})]}),(0,v.jsxs)("div",{className:"profile__sectionW profile__sectionW--danger",children:[(0,v.jsx)(y,{id:"block",className:"profile__danger-icon"}),(0,v.jsx)("p",{className:"profile__danger-text profile__worker",style:{cursor:"pointer"},onClick:()=>{k(!M),(0,b.kK)(t.chatId)},children:M?"\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c":"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]}),(0,v.jsxs)("div",{className:"profile__sectionW profile__sectionW--danger",children:[(0,v.jsx)(y,{id:"delete",className:"profile__danger-icon"}),(0,v.jsx)("p",{className:"profile__danger-text profile__worker",children:" \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0447\u0430\u0442 "})]})]})};var $=t(76443),ee=t(43506);const se=t.p+"static/media/sp-i-m-image-placeholder.747d6db2c3e802991d67cf945923e1db.svg",te=e=>{let{lastMsgRef:s,messages:t,convId:n}=e;const{personW:i}=(0,a.useContext)(m.w),l="1775583141",[o,r]=(0,a.useState)([!1]),[d,x]=(0,a.useState)(!1),[p,j]=(0,a.useState)([]),[g,N]=(0,a.useState)([]),[_,f]=(0,a.useState)(0),w=(0,a.useRef)([]);let I,A=[];const{delWMessageContext:H}=(0,u.Z)();(0,a.useEffect)((()=>{N(Object.keys(t)),j(t);Object.keys(t).map(((e,s)=>{A.push(...t[e])})),f(A.length)}),[t]),(0,a.useEffect)((()=>{N(Object.keys(p))}),[p]);const G=async()=>{console.log("convId: ",n),x(!d),console.log("array: ",_);const e=await(0,b.SV)(n,20,_);console.log("newMessages: ",e.length+_),f(e.length+_);const s=[],t=[];e&&e.map((e=>{const a=new Date(e.createdAt),c=a.getFullYear(),n=String(a.getMonth()+1).padStart(2,"0"),i=String(a.getDate()).padStart(2,"0"),l=a.getHours(),o=String(a.getMinutes()).padStart(2,"0"),r="".concat(i,".").concat(n,".").concat(c),d={date:r,content:e.text,image:"image"===e.type,descript:e.buttons?e.buttons:"",sender:e.senderId,time:l+" : "+o,status:"sent",id:e.messageId,reply:e.replyId};s.push(d),t.push(r)}));const a=[...t].filter(((e,s)=>s===t.indexOf(e)));let c={};for(let n=0;n<a.length;n++){const e=[];for(let t=0;t<s.length;t++)s[t].date===a[n]&&e.push(s[t]);c[a[n]]=e}console.log("obj: ",c),j(c),x(!1)},Y=a.forwardRef(((e,s)=>{let{children:t,onClick:a}=e;return(0,v.jsxs)("button",{"aria-label":"Message options",className:"chat__msg-options",style:{right:"0",top:"0px"},ref:s,onClick:e=>{e.preventDefault(),a(e)},children:[t,(0,v.jsx)(y,{id:"downArrow",className:"chat__msg-options-icon"})]})})),O=a.forwardRef(((e,s)=>{let{children:t,onClick:a}=e;return(0,v.jsxs)("button",{"aria-label":"Message options",className:"chat__msg-options",style:{right:"0",top:"-35px"},ref:s,onClick:e=>{e.preventDefault(),a(e)},children:[t,(0,v.jsx)(y,{id:"downArrow",className:"chat__msg-options-icon"})]})})),D=a.forwardRef(((e,s)=>{let{children:t,onClick:a}=e;return(0,v.jsxs)("button",{"aria-label":"Message options",className:"chat__msg-options",style:{right:"0",top:"-20px"},ref:s,onClick:e=>{e.preventDefault(),a(e)},children:[t,(0,v.jsx)(y,{id:"downArrow",className:"chat__msg-options-icon"})]})}));Y.displayName="Del",D.displayName="Del2",O.displayName="Del3";const M=a.forwardRef(((e,s)=>{let{children:t,style:c,className:n,"aria-labelledby":i}=e;const[l,o]=(0,a.useState)("");return(0,v.jsx)("div",{ref:s,style:{backgroundColor:"#20272b",left:0,borderRadius:"15px",padding:"0 0 0 0",fontSize:"14px",top:"10px",minWidth:"50px"},className:n,"aria-labelledby":i,children:(0,v.jsx)("ul",{className:"list-unstyled",style:{marginBottom:"0"},children:a.Children.toArray(t).filter((e=>{var s;return!l||(null===(s=e.props.children)||void 0===s?void 0:s.toLowerCase().startsWith(l))}))})})})),k=a.forwardRef(((e,s)=>{let{children:t,style:c,className:n,"aria-labelledby":i}=e;const[l,o]=(0,a.useState)("");return(0,v.jsx)("div",{ref:s,style:{backgroundColor:"#20272b",right:0,borderRadius:"15px",padding:"0 0 0 0",fontSize:"14px",top:"10px",minWidth:"50px"},className:n,"aria-labelledby":i,children:(0,v.jsx)("ul",{className:"list-unstyled",style:{marginBottom:"0"},children:a.Children.toArray(t).filter((e=>{var s;return!l||(null===(s=e.props.children)||void 0===s?void 0:s.toLowerCase().startsWith(l))}))})})})),R=a.forwardRef(((e,s)=>{let{children:t,style:c,className:n,"aria-labelledby":i}=e;const[l,o]=(0,a.useState)("");return(0,v.jsx)("div",{ref:s,style:{backgroundColor:"#20272b",right:0,borderRadius:"15px",padding:"0 0 0 0",fontSize:"14px",bottom:"-28px",minWidth:"50px"},className:n,"aria-labelledby":i,children:(0,v.jsx)("ul",{className:"list-unstyled",style:{marginBottom:"0"},children:a.Children.toArray(t).filter((e=>{var s;return!l||(null===(s=e.props.children)||void 0===s?void 0:s.toLowerCase().startsWith(l))}))})})}));M.displayName=M,k.displayName=k,R.displayName=R;const C=async e=>{const s=JSON.parse(e);console.log("message: ",s),H(s.id,s.date,s.chatId),await(0,b.fn)(s.id);const t="https://api.telegram.org/bot".concat("6242919149:AAGqHGSudmw37vXWYNezhzk-rb7ah5vxTp8","/deleteMessage?chat_id=").concat(i.id,"&message_id=").concat(s.id),a=await q.y_.get(t);console.log("\u0423\u0434\u0430\u043b\u044f\u0435\u043c\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435: ",s.id),console.log("\u0414\u0430\u0442\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f: ",s.date),a?console.log("\u0412\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u043e \u0438\u0437 \u0442\u0435\u043b\u0435\u0433\u0440\u0430\u043c! ",a):console.log("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437.")};return g.map(((e,t)=>{const a=p[e];return(0,v.jsxs)("div",{children:[0===t&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"chat__date-wrapper",children:d&&(0,v.jsx)(c.LQ,{})}),(0,v.jsx)("div",{className:"chat__date-wrapper",style:{cursor:"pointer",textAlign:"end"},children:(0,v.jsx)("span",{className:"chat__date",onClick:G,children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0449\u0451"})})]}),(0,v.jsx)("div",{className:"chat__date-wrapper",children:(0,v.jsxs)("span",{className:"chat__date",children:[" ",e]})},t),0===t&&(0,v.jsxs)("p",{className:"chat__encryption-msg",children:[(0,v.jsx)(y,{id:"lock",className:"chat__encryption-icon"}),"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0448\u0438\u0444\u0440\u0443\u044e\u0442\u0441\u044f \u0441\u043a\u0432\u043e\u0437\u043d\u044b\u043c \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c. \u041d\u0438\u043a\u0442\u043e \u0437\u0430 \u043f\u0440\u0435\u0434\u0435\u043b\u0430\u043c\u0438 \u044d\u0442\u043e\u0433\u043e \u0447\u0430\u0442\u0430 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0447\u0438\u0442\u0430\u0442\u044c \u0438\u043b\u0438 \u0441\u043b\u0443\u0448\u0430\u0442\u044c \u0438\u0445"]}),(0,v.jsx)("div",{className:"chat__msg-group",children:a.map(((e,c)=>{var n,d,m,x,p;null!==(n=e.content)&&void 0!==n&&n.includes("_reply_")&&(I=null===e||void 0===e?void 0:e.content.split("_reply_")[0]);const j=()=>t===g.length-1&&c===a.length-1?s:void 0;return(0,v.jsx)(v.Fragment,{children:e.image?(0,v.jsx)("div",{className:"chat__msg chat__img-wrapper ".concat(e.sender!==l?"chat__msg_img--rxd":"chat__msg_img--sent"),ref:j(),children:e.content.endsWith(".pdf")?(0,v.jsx)("figure",{children:(0,v.jsx)("iframe",{src:e.content,height:"235px",width:"100%",title:"myFramePdf"})}):e.content.endsWith(".xlsx")?(0,v.jsxs)("figure",{children:[(0,v.jsx)("img",{src:ee,width:30}),(0,v.jsx)("a",{href:e.content,target:"_blank",rel:"noreferrer",children:e.content})]}):e.content.endsWith(".docx")?(0,v.jsxs)("figure",{children:[(0,v.jsx)("img",{src:$,width:30}),(0,v.jsx)("a",{href:e.content,target:"_blank",rel:"noreferrer",children:e.content})]}):(0,v.jsxs)("figure",{style:{margin:o[c+i.id]?"0 0 3rem":"0 0 1rem",position:"relative"},children:[o[c+i.id]?(0,v.jsx)("a",{href:e.content,target:"_blank",rel:"noreferrer",children:(0,v.jsx)("img",{src:e.content,alt:"",className:"chat__img"})}):(0,v.jsx)("div",{onClick:()=>{return e=c+i.id,window.event.stopPropagation(),r((s=>({...s,[e]:!s[e]}))),void setTimeout((()=>{r(!1)}),3e4);var e},style:{width:"100%",height:"100px",backgroundColor:"#3179a3",borderRadius:"10px",padding:"25px 75px",textAlign:"center",position:"relative",cursor:"pointer"},children:(0,v.jsx)("div",{onClick:()=>console.log("console"),children:(0,v.jsx)("img",{src:se,alt:"",className:"chat__img",style:{width:"50px"}})})}),(0,v.jsxs)("span",{className:"chat__msg_img-footer",children:[(0,v.jsx)("span",{children:(0,h.Z)(e.time)}),!e.sender&&(0,v.jsx)(y,{id:"sent"===(null===e||void 0===e?void 0:e.status)?"singleTick":"doubleTick","aria-label":null===e||void 0===e?void 0:e.status,className:"chat__msg-status-icon ".concat("read"===(null===e||void 0===e?void 0:e.status)?"chat__msg-status-icon--blue":"")})]}),(0,v.jsxs)(B.Z,{onSelect:C,children:[(0,v.jsx)(B.Z.Toggle,{as:O,id:"dropdown-custom-components"}),(0,v.jsx)(B.Z.Menu,{as:R,children:(0,v.jsx)(B.Z.Item,{eventKey:JSON.stringify({id:e.id,date:e.date,chatId:i.id}),children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]})]})}):e.sender!==l?(0,v.jsxs)("p",{className:"chat__msg chat__msg--rxd",ref:j(),children:[(0,v.jsxs)("div",{className:"flex-row",ref:s=>w.current[e.id]=s,children:[null!==(d=e.content)&&void 0!==d&&d.includes("_reply_")?(0,v.jsx)("div",{className:"chat__msg--reply",onClick:()=>{return s=e.reply,console.log(s),console.log(w.current),void w.current[s].scrollIntoView({transition:"smooth"});var s},children:(0,v.jsx)("div",{className:"reply__content",children:(0,v.jsxs)("div",{className:"reply__full",children:[(0,v.jsx)("span",{className:"reply__left"}),(0,v.jsxs)("div",{className:"reply__pad",children:[(0,v.jsx)("div",{className:"reply__contact",children:"U.L.E.Y"}),(0,v.jsx)("div",{className:"reply__text",children:null!==(m=I)&&void 0!==m&&m.startsWith("http")?(0,v.jsx)("a",{href:I,target:"_blank",rel:"noreferrer",children:(0,v.jsx)("img",{src:I,alt:"",width:"50px",height:"50px"})}):I})]})]})})}):(0,v.jsx)(v.Fragment,{}),(0,v.jsx)("span",{children:null!==(x=e.content)&&void 0!==x&&x.includes("_reply_")?e.content.split("_reply_")[1]:e.content}),(0,v.jsx)("span",{className:"chat__msg-filler",children:" "}),(0,v.jsx)("span",{className:"chat__msg-footer",children:(0,h.Z)(e.time)})]}),(0,v.jsxs)(B.Z,{onSelect:C,children:[(0,v.jsx)(B.Z.Toggle,{as:Y,id:"dropdown-custom-components"}),(0,v.jsx)(B.Z.Menu,{as:M,children:(0,v.jsx)(B.Z.Item,{eventKey:JSON.stringify({id:e.id,date:e.date,chatId:i.id}),children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]})]}):(0,v.jsx)("p",{className:"chat__msg chat__msg--sent",ref:j(),children:(0,v.jsxs)("div",{ref:s=>w.current[e.id]=s,children:[(0,v.jsx)("span",{children:null!==(p=e.content)&&void 0!==p&&p.startsWith("http")?(0,v.jsx)("a",{className:"chat__href",href:e.content,target:"_blank",rel:"noreferrer",children:e.content}):e.content}),(0,v.jsx)("span",{className:"chat__msg-filler",children:" "}),(0,v.jsxs)("span",{className:"chat__msg-footer",children:[(0,v.jsxs)("span",{children:[" ",(0,h.Z)(e.time)," "]}),(0,v.jsx)(y,{id:"sent"===(null===e||void 0===e?void 0:e.status)?"singleTick":"doubleTick","aria-label":null===e||void 0===e?void 0:e.status,className:"chat__msg-status-icon ".concat("read"===(null===e||void 0===e?void 0:e.status)?"chat__msg-status-icon--blue":"")})]}),(0,v.jsxs)(B.Z,{onSelect:C,children:[(0,v.jsx)(B.Z.Toggle,{as:D,id:"dropdown-custom-components"}),(0,v.jsx)(B.Z.Menu,{as:k,children:(0,v.jsx)(B.Z.Item,{eventKey:JSON.stringify({id:e.id,date:e.date,chatId:i.id}),children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]})]})})})}))})]},t)}))},ae=e=>{let{active:s,closeSidebar:t,heading:a,children:c}=e;return(0,v.jsx)("aside",{className:"chat-sidebar ".concat(s?"chat-sidebar--active":""),children:(0,v.jsx)("div",{className:"chat-sidebar__content",children:c})})},ce="1775583141",ne="6242919149:AAGqHGSudmw37vXWYNezhzk-rb7ah5vxTp8",ie="https://proj.uley.team",le=()=>{const{userWorkers:e,setUserAsUnread:s,addNewMessage2:t}=(0,u.Z)(),{personW:n}=(0,a.useContext)(m.w),{setCountMessage:i}=(0,u.Z)(),l=n.id;let o=e.filter((e=>e.chatId===l.toString()))[0];const r=(0,a.useRef)(null),[d,h]=(0,a.useState)(!1),[x,p]=(0,a.useState)(!1),[j,g]=(0,a.useState)(!1),[_,f]=(0,a.useState)(!1),[w,I]=(0,a.useState)(),[A,G]=(0,a.useState)(""),[Y,O]=(0,a.useState)(""),[B,D]=(0,a.useState)(""),[M,k]=(0,a.useState)(!1),[R,C]=(0,a.useState)(!1),[S,E]=(0,a.useState)(!1),[W,F]=(0,a.useState)(""),[Z,L]=(0,a.useState)(""),[T,Q]=(0,a.useState)({name:"",path:""}),[J,$]=(0,a.useState)(0),ee=((0,a.useRef)(),new Audio(z)),[se,le]=(0,a.useState)("");(0,a.useEffect)((()=>{if(o){oe(),s(o.chatId),i(0);const e=(0,N.ai)();(0,N.Iy)(e-1)}}),[]),(0,a.useEffect)((()=>{o&&oe()}),[e]),(0,a.useEffect)((()=>{console.log(W),F(W),L(W);let e="";"0"===W?(e="".concat(o.name.split(" ")[1],", \u044f \u044e\u043d\u044b\u0439 \u0447\u0430\u0442-\u0431\u043e\u0442 \u0438 \u0435\u0449\u0435 \u043d\u0435 \u0432\u0441\u0451 \u0443\u043c\u0435\u044e. \u041b\u044e\u0431\u043e\u0439 \u0432\u043e\u043f\u0440\u043e\u0441 \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u0440\u0435\u0448\u0438\u0442\u044c \u043d\u0430\u0448 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440: +7 (499) 500-14-11"),O(e)):"1"===W?(e="\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430...",O(e)):"2"===W?(e="+7 (499) 500-14-11 - \u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 U.L.E.Y",O(e)):"3"===W?(e="".concat(o.name.split(" ")[1],", \u043c\u044b \u0433\u043e\u0442\u043e\u0432\u044b \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0412\u0430\u0441 \u0432 \u0437\u0430\u043f\u0430\u0441 \u043d\u0430 \u044d\u0442\u043e\u0442 \u043f\u0440\u043e\u0435\u043a\u0442. \u0417\u0430\u043f\u0430\u0441 \u043e\u043f\u043b\u0430\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f.\n\t\t\t\u0421\u0443\u043c\u043c\u0443 \u043c\u043e\u0436\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u0443\u0442\u043e\u0447\u043d\u0438\u0442\u044c \u0443 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430. \u0421 \u0431\u043e\u043b\u044c\u0448\u043e\u0439 \u0432\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c\u044e \u0412\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u043d\u0430 \u043d\u0451\u043c \u0437\u0430\u0434\u0435\u0439\u0441\u0442\u0432\u043e\u0432\u0430\u043d\u044b, \n\t\t\t\u043d\u043e \u0434\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u043f\u0440\u0438\u0434\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u0441\u043d\u0443\u0442\u044c\u0441\u044f \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u043c \u0441\u043e\u0441\u0442\u0430\u0432\u043e\u043c \u0438 \u0431\u044b\u0442\u044c \u0433\u043e\u0442\u043e\u0432\u044b\u043c \u0432\u044b\u0439\u0442\u0438 \u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0443. \u0413\u043e\u0442\u043e\u0432\u044b?"),O(e)):"4"===W?(e="\u041e\u0444\u0438\u0441 | U.L.E.Y\n\n\t\t\t\u0410\u0434\u0440\u0435\u0441: \u0433. \u041c\u043e\u0441\u043a\u0432\u0430, \u0443\u043b. \u0414\u0435\u0440\u0431\u0435\u043d\u0435\u0432\u0441\u043a\u0430\u044f \u043d\u0430\u0431\u0435\u0440\u0435\u0436\u043d\u0430\u044f, \u0434. 7, \u0441\u0442\u0440. 2\n\t\t\t\t\t\n\t\t\t\u041a\u0430\u0440\u0442\u0430: https://goo.gl/maps/uFrAfV5NmE2rUXsT8",O(e)):"5"===W?(e="\u0414\u043b\u044f \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043e\u043f\u043b\u0430\u0442\u044b: \n\t\t\thttps://t.me/ULEY_Office_Bot",O(e)):"6"===W?(e="\u0414\u043e\u0431\u0440\u044b\u0439 \u0434\u0435\u043d\u044c, ".concat(o.name.split(" ")[1],". \u0421\u043f\u0430\u0441\u0438\u0431\u043e, \u0447\u0442\u043e \u043e\u0442\u043a\u043b\u0438\u043a\u043d\u0443\u043b\u0438\u0441\u044c \u043d\u0430 \u044d\u0442\u0443 \u0437\u0430\u044f\u0432\u043a\u0443. \n\t\t\t\u0412 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0438\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0441\u043e\u0441\u0442\u0430\u0432 \u0443\u0436\u0435 \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d.\n\t\t\t\u0414\u043e \u0432\u0441\u0442\u0440\u0435\u0447\u0438 \u043d\u0430 \u043d\u043e\u0432\u044b\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u0445!"),O(e)):"7"===W?(e="\u0414\u043e\u0431\u0440\u044b\u0439 \u0434\u0435\u043d\u044c, ".concat(o.name.split(" ")[1],". \u0421\u043f\u0430\u0441\u0438\u0431\u043e, \u0447\u0442\u043e \u043e\u0442\u043a\u043b\u0438\u043a\u043d\u0443\u043b\u0438\u0441\u044c \u043d\u0430 \u0437\u0430\u044f\u0432\u043a\u0443. \n\t\t\t\u0414\u043b\u044f \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u044f \u0442\u0435\u0445. \u0437\u0430\u0434\u0430\u0447\u0438 \u043d\u0430 \u043f\u0440\u043e\u0435\u043a\u0442 \u043f\u043e\u0437\u0432\u043e\u043d\u0438\u0442\u0435 \u043f\u043e \u043d\u043e\u043c\u0435\u0440\u0443:\n\t\t\t+7 (499) 500-14-11"),O(e)):"8"===W?(e="\u0414\u043e\u0431\u0440\u044b\u0439 \u0434\u0435\u043d\u044c, ".concat(o.name.split(" ")[1],". \u0412\u044b \u0432\u043f\u0435\u0440\u0432\u044b\u0435 \u043e\u0442\u043a\u043b\u0438\u043a\u043d\u0443\u043b\u0438\u0441\u044c \u043d\u0430 \u0437\u0430\u044f\u0432\u043a\u0443 \u043e\u0442 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 U.L.E.Y\n\t\t\t\u0427\u0442\u043e\u0431\u044b \u043c\u044b \u0441\u043c\u043e\u0433\u043b\u0438 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u0412\u0430\u043c \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430 \u044d\u0442\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435 \u043f\u0440\u0438\u0448\u043b\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u0441\u0435\u0431\u0435:\n\t\t\t\t\t\n\t\t\t\u2705 \u0424\u0418\u041e\n\t\t\t\t\t\n\t\t\t\u2705 \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b \u0434\u043b\u044f \u0441\u0432\u044f\u0437\u0438\n\t\t\t\t\t\n\t\t\t\u2705 \u0413\u043e\u0434 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f\n\t\t\t\t\t\n\t\t\t\u2705 \u0421\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c"),O(e)):"9"===W?(e='\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u044f "\u041f\u0435\u0440\u0432\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442"...',O(e)):"10"===W&&(le("https://proj.uley.team/upload/2024-05-21T06:26:45.939Z.jpg"),e="https://proj.uley.team/upload/2024-05-21T06:26:45.939Z.jpg",O(e))}),[W]);const oe=()=>{var e;null===(e=r.current)||void 0===e||e.scrollIntoView({transition:"smooth"})};(0,a.useEffect)((()=>{(async()=>{if(w){const e=new FormData;e.append("name",w.name),e.append("photo",w);let s=await(0,b.cT)(e);console.log("response: ",s),G(s.data.path.split(".team")[1]),O(ie+s.data.path.split(".team")[1])}})()}),[w]);const re=e=>{g(!1),f(!1),C(!0),e(!0)},de=async()=>{console.log("send passport");let s=e.filter((e=>e.chatId===o.chatId))[0];const a=JSON.stringify({inline_keyboard:[[{text:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0430\u043d\u043a\u0435\u0442\u0443",web_app:{url:"https://proj.uley.team:7001/anketa"}}]]});let c;if("1"===W){let e="https://proj.uley.team/upload/2023-11-10T15:12:36.770Z.png";const s="https://api.telegram.org/bot".concat(ne,"/sendPhoto?chat_id=").concat(o.chatId,"&photo=").concat(e,"&reply_markup=").concat(a);console.log(s),c=await q.y_.get(s)}let n={};n={senderId:ce,receiverId:o.chatId,conversationId:s.conversationId,type:"text",text:"",messageId:c.data.result.message_id,buttons:"\u0421\u043e\u0433\u043b\u0430\u0441\u0435\u043d \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"},await(0,b.rW)(n),t(o.chatId,"","text","\u0421\u043e\u0433\u043b\u0430\u0441\u0435\u043d \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",s.conversationId,c.data.result.message_id)},he=async()=>{console.log("send rule");let s=e.filter((e=>e.chatId===o.chatId))[0];JSON.stringify({inline_keyboard:[[{text:"\u041f\u0440\u043e\u0447\u0438\u0442\u0430\u043b \u043f\u0440\u0430\u0432\u0438\u043b\u0430",callback_data:"/accept_rule"}]]});let a;let c="\ud83d\udd35 <b>\u041f\u0440\u0430\u0432\u0438\u043b\u0430 \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u043f\u0440\u043e\u0435\u043a\u0442\u0430</b>\n\n\u0412\u041d\u0418\u041c\u0410\u0422\u0415\u041b\u042c\u041d\u041e \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0439\u0442\u0435 \u043f\u0435\u0440\u0435\u0434 \u0432\u044b\u0445\u043e\u0434\u043e\u043c \u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0443!\n\n\u2705 <b>\u041e\u0431\u0449\u0438\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u0430:</b>\n\u2022 \u041d\u0435 \u043e\u043f\u0430\u0437\u0434\u044b\u0432\u0430\u0442\u044c | \u041d\u0435 \u0444\u043b\u0443\u0434\u0438\u0442\u044c\n\u2022 \u041d\u0435 \u043f\u043e\u043a\u0438\u0434\u0430\u0442\u044c \u0447\u0430\u0442 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0431\u0435\u0437 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u044f\n\u2022 \u041f\u043e\u0441\u043b\u0435 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f \u0443\u0447\u0430\u0441\u0442\u0438\u044f \u0432\u044b\u0445\u043e\u0434 \u043d\u0430 \u043f\u0440\u043e\u0435\u043a\u0442 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d\n\u2022 \u0424\u043e\u0440\u0441-\u043c\u0430\u0436\u043e\u0440 \u2014 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043d\u0430\u0439\u0442\u0438 \u0441\u0435\u0431\u0435 \u0437\u0430\u043c\u0435\u043d\u0443\n\u2022 \u041d\u0435 \u043d\u0430\u0448\u043b\u0438 \u0437\u0430\u043c\u0435\u043d\u0443 \u2014 \u0435\u0434\u0435\u0442\u0435 \u043d\u0430 \u043f\u0440\u043e\u0435\u043a\u0442 \u043b\u0438\u0447\u043d\u043e\n\u2022 \u041d\u0435\u0432\u044b\u0445\u043e\u0434 \u2014 \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u0432\u043d\u043e\u0441\u0438\u0442 \u0432 \u0447\u0451\u0440\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a\n\u2022 \u0420\u0430\u0441\u0445\u043e\u0434\u044b \u043d\u0430 \u0442\u0430\u043a\u0441\u0438 \u0432 \u043d\u043e\u0447\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f \u0431\u0435\u0440\u0435\u0442 \u043d\u0430 \u0441\u0435\u0431\u044f\n\u2022 \u0412\u0441\u0435\u0433\u0434\u0430 \u0441 \u0441\u043e\u0431\u043e\u0439:\n\u2014 \u041f\u0430\u0441\u043f\u043e\u0440\u0442\n\u2014 \u0417\u0430\u0440\u044f\u0434\u043d\u043e\u0435 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u043e / Power Bank\n\u2014 \u041c\u0435\u0440\u0447 [\u043e\u0434\u0435\u0436\u0434\u0430 \u0441 \u043b\u043e\u0433\u043e\u0442\u0438\u043f\u043e\u043c \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 | \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0435 \u0432 \u043e\u0444\u0438\u0441\u0435 \u043f\u043e\u0441\u043b\u0435 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u043e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u044b\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432]\n\u2022 \u0420\u0430\u0441\u0441\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u0432\u0440\u0435\u043c\u044f \u043f\u0440\u0438\u0431\u044b\u0442\u0438\u044f \u043d\u0430 \u043f\u043b\u043e\u0449\u0430\u0434\u043a\u0443 \u0437\u0430\u0440\u0430\u043d\u0435\u0435\n\u2022 \u0412\u0435\u0441\u0442\u0438 \u0441\u0435\u0431\u044f \u043a\u0443\u043b\u044c\u0442\u0443\u0440\u043d\u043e \u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u0437\u0430\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u0447\u0438\u043a\u0430\n\u2022 \u0414\u043e \u0432\u044b\u0445\u043e\u0434\u0430 \u043d\u0430 \u043f\u0440\u043e\u0435\u043a\u0442 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f, \u043e\u0442\u0432\u0435\u0442\u0438\u0432 \u043d\u0430 \u0432\u043e\u043f\u0440\u043e\u0441\u044b:\nhttps://t.me/ULEY_Office_Bot\n\n\u2705 <b>\u0414\u0435\u043d\u044c \u043f\u0440\u043e\u0435\u043a\u0442\u0430:</b>\n\u2022 \u0412\u044b\u0439\u0442\u0438 \u043d\u0430 \u0441\u0432\u044f\u0437\u044c \u0432 \u0447\u0430\u0442 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 \u0437\u0430 2 \u0447\u0430\u0441\u0430 \u0434\u043e \u043d\u0430\u0447\u0430\u043b\u0430\n\u2022 \u041a\u043d\u043e\u043f\u043a\u0430 \xab\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c\xbb \u2014 \u043d\u0430\u0436\u0430\u0442\u0438\u0435 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0430\u0435\u0442, \u0447\u0442\u043e \u0432\u044b \u043d\u0430 \u0441\u0432\u044f\u0437\u0438 [\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e]\n\u2022 \u041a\u043d\u043e\u043f\u043a\u0430 \xab\u0412 \u043f\u0443\u0442\u0438\xbb \u2014 \u043d\u0430\u0436\u0430\u0442\u044c \u0432 \u043c\u043e\u043c\u0435\u043d\u0442 \u0432\u044b\u0445\u043e\u0434\u0430 \u0438\u0437 \u0434\u043e\u043c\u0430\n\u2022 \u041a\u043d\u043e\u043f\u043a\u0430 \xab\u041d\u0430 \u043c\u0435\u0441\u0442\u0435\xbb \u2014 \u043f\u043e\u0441\u043b\u0435 \u043f\u0440\u0438\u0431\u044b\u0442\u0438\u044f \u043d\u0430 \u0430\u0434\u0440\u0435\u0441\n\u2022 \u0412\u0441\u0442\u0440\u0435\u0442\u0438\u0442\u044c\u0441\u044f \u0441 \u043a\u043e\u043b\u043b\u0435\u0433\u0430\u043c\u0438 \u0432 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u043c \u043c\u0435\u0441\u0442\u0435\n\u2022 \u041f\u043e\u0437\u0432\u043e\u043d\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437\u0447\u0438\u043a\u0443\n\n\u2705 <b>\u041d\u0430 \u043f\u0440\u043e\u0435\u043a\u0442\u0435:</b>\n\u2022 \u041a\u043d\u043e\u043f\u043a\u0430 \xab\u041d\u0430\u0447\u0430\u043b \u0440\u0430\u0431\u043e\u0442\u0443\xbb \u2014 \u043d\u0430\u0436\u0430\u0442\u044c \u043f\u043e\u0441\u043b\u0435 \u043d\u0430\u0447\u0430\u043b\u0430 \u0440\u0430\u0431\u043e\u0442\u044b | \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u043a\u043d\u043e\u043f\u043a\u043e\u0439 \xab\u0414\u0430\xbb\n\u2022 \u041a\u043d\u043e\u043f\u043a\u0430 \xab\u0417\u0430\u043a\u043e\u043d\u0447\u0438\u043b \u0440\u0430\u0431\u043e\u0442\u0443\xbb \u2014 \u043d\u0430\u0436\u0430\u0442\u044c \u043f\u043e \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044e \u0440\u0430\u0431\u043e\u0442 | \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u043a\u043d\u043e\u043f\u043a\u043e\u0439 \xab\u0414\u0430\xbb\n\u2022 \u0412\u0441\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u0432 \u0447\u0430\u0442 \u043f\u0440\u043e\u0435\u043a\u0442\u0430, \u0438\u043b\u0438 \u043f\u043e \u043d\u043e\u043c\u0435\u0440\u0443: +7(499)500-14-11\n\u2022 \u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441\u044b \u2014 \u0432\u043b\u0438\u044f\u0435\u0442 \u043d\u0430 \u0441\u0432\u043e\u0435\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e \u043e\u043f\u043b\u0430\u0442\u0443\n\u2022 \u041e\u043f\u043b\u0430\u0442\u0430 \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 1-3 \u0440\u0430\u0431\u043e\u0447\u0438\u0445 \u0434\u043d\u0435\u0439".replace(/\n/g,"%0A");c=c.replace(/#/g,"%23"),c=c.replace(/&/g,"%26"),c=c.replace(/\+/g,"%2b"),c=c.replace(/>/g,"%3e"),c=c.replace(/</g,"%3c");const n="https://api.telegram.org/bot".concat(ne,"/sendMessage?chat_id=").concat(o.chatId,"&parse_mode=html&text=").concat(c);a=await q.y_.get(n);let i={};i={senderId:ce,receiverId:o.chatId,conversationId:s.conversationId,type:"text",text:'\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u0439 "\u041f\u0435\u0440\u0432\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442"',isBot:null,messageId:a.data.result.message_id,buttons:""},await(0,b.rW)(i),t(o.chatId,'\u0421\u0446\u0435\u043d\u0430\u0440\u0438\u0439 "\u041f\u0435\u0440\u0432\u044b\u0439 \u043f\u0440\u043e\u0435\u043a\u0442"',"text","",s.conversationId,a.data.result.message_id)},me=async()=>{console.log("send poster");let s=e.filter((e=>e.chatId===o.chatId))[0];const a=JSON.stringify({inline_keyboard:[[{text:"\u041f\u0440\u0438\u043d\u044f\u0442\u043e / \u041f\u043e\u043d\u044f\u0442\u043e",callback_data:"/poster_accept"}]]});let c;const n="https://api.telegram.org/bot".concat(ne,"/sendPhoto?chat_id=").concat(o.chatId,"&photo=").concat(se,"&reply_markup=").concat(a);console.log(n),c=await q.y_.get(n);let i={};i={senderId:ce,receiverId:o.chatId,conversationId:s.conversationId,type:"image",text:se,isBot:null,messageId:c.data.result.message_id,buttons:""},await(0,b.rW)(i),t(o.chatId,se,"image","",s.conversationId,c.data.result.message_id)};return(0,v.jsxs)("div",{className:"chat",children:[(0,v.jsxs)("div",{className:"chat__body",children:[(0,v.jsx)("div",{className:"chat__bg"}),(0,v.jsx)(V,{user:n,openProfileSidebar:()=>re(g),openSearchSidebar:()=>re(f),closeSidebar:()=>{return e=g,g(!1),C(!1),void e(!1);var e},showCloseButton:R,setClearFile:k,clearFile:M,clickClearFile:()=>{console.log("clear file..."),k(!1)}}),(0,v.jsxs)("div",{className:"chat__content",children:[(0,v.jsx)(te,{lastMsgRef:r,messages:o.messages,convId:o.conversationId}),(0,v.jsxs)(c.Tk,{alignment:"center",visible:S,onClose:()=>E(!1),children:[(0,v.jsx)(c.p0,{children:(0,v.jsx)(c.fl,{children:"\u041f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0435"})}),(0,v.jsx)(c.sD,{children:"..."}),(0,v.jsx)(c.Ym,{children:(0,v.jsx)(c.u5,{color:"primary",onClick:()=>E(!1),children:"\u041e\u041a"})})]})]}),(0,v.jsx)("footer",{className:"chat__footer",children:(0,v.jsxs)("div",{className:"chat__footer-wrapper",children:[(0,v.jsx)("button",{className:"chat__scroll-btn","aria-label":"scroll down",onClick:oe,children:(0,v.jsx)(y,{id:"downArrow"})}),(0,v.jsx)(H,{showEmojis:x,mess:Y,setMess:O}),(0,v.jsx)(P,{showEmojis:x,setShowEmojis:p,showAttach:d,setShowAttach:h,onFileChange:(e,s)=>{$(0);const t=e.target.files[0];console.log("key: ",s),D(s),console.log(t),I(t),h(!1)},mess:Y,setMess:O,submitNewMessage:()=>{ee.play(),(async()=>{if(console.log("selectedElement: ",W),"1"===W)console.log("\u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u044f: ",W),de();else if("9"===W)console.log("\u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u044f: ",W),he();else if("10"===W)console.log("\u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u044f: ",W),me();else{let e,s,a=Y.replace(/\n/g,"%0A");if(a=a.replace(/#/g,"%23"),a=a.replace(/&/g,"%26"),a=a.replace(/\+/g,"%2b"),a=a.replace(/>/g,"%3e"),a=a.replace(/</g,"%3c"),w){if("doc"===B)if("ocx"===A.slice(-3)||"doc"===A.slice(-3)||"lsx"===A.slice(-3)||"xls"===A.slice(-3)||"iff"===A.slice(-3)||"IFF"===A.slice(-3)){const e="https://api.telegram.org/bot".concat(ne,"/sendMessage?chat_id=").concat(n.id,"&parse_mode=html&text=").concat(ie+A);s=await q.y_.get(e)}else if("png"===A.slice(-3)||"jpg"===A.slice(-3)||"peg"===A.slice(-3)||"PNG"!==A.slice(-3)||"JPG"!==A.slice(-3)||"PEG"!==A.slice(-3))E(!0);else{const e="https://api.telegram.org/bot".concat(ne,"/sendDocument?chat_id=").concat(n.id,"&document=").concat(ie+A);s=await q.y_.get(e)}else if("image"===B){const e="https://api.telegram.org/bot".concat(ne,"/sendPhoto?chat_id=").concat(n.id,"&photo=").concat(ie+A);s=await q.y_.get(e)}}else{const s="https://api.telegram.org/bot".concat(ne,"/sendMessage?chat_id=").concat(n.id,"&parse_mode=html&text=").concat(a);e=await q.y_.get(s)}e?console.log("\u0421\u043f\u0430\u0441\u0438\u0431\u043e! \u0412\u0430\u0448\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e! ",e.data.result.message_id):console.log("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437.");let c={};w?(c={senderId:ce,receiverId:o.chatId,conversationId:o.conversationId,type:"image",text:ie+A,isBot:null,messageId:s.data.result.message_id},t(o.chatId,ie+A,"image","",o.conversationId,s.data.result.message_id)):(c={senderId:ce,receiverId:o.chatId,conversationId:o.conversationId,type:"text",text:Y,isBot:null,messageId:e.data.result.message_id},t(o.chatId,Y,"text","",o.conversationId,e.data.result.message_id)),console.log("message send button: ",c),await(0,b.rW)(c)}})(),O(""),oe(),I(""),G(""),F("")},setSelectedElement:F})]})})]}),(0,v.jsx)(X,{heading:"\u041f\u043e\u0438\u0441\u043a \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",active:_,closeSidebar:()=>f(!1),children:(0,v.jsx)(U,{})}),(0,v.jsx)(ae,{active:j,children:(0,v.jsx)(K,{user:o})})]})},oe=()=>{const{personW:e}=(0,a.useContext)(m.w);return(0,a.useEffect)((()=>{document.body.classList.add("dark-theme")})),(0,v.jsxs)("div",{children:[(0,v.jsx)(n.S8,{}),(0,v.jsxs)("div",{className:"wrapper d-flex flex-column min-vh-100 bg-uley",children:[(0,v.jsx)(n.xF,{}),(0,v.jsx)("div",{className:"body flex-grow-1 px-3",children:(0,v.jsx)(c.KB,{lg:!0,children:(0,v.jsx)(a.Suspense,{fallback:(0,v.jsx)(c.LQ,{color:"primary"}),children:(0,v.jsxs)("div",{className:"app",children:[(0,v.jsx)("p",{className:"app__mobile-message",children:" \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0435 \ud83d\ude0a. "}),(0,v.jsxs)("div",{className:"app-content",children:[(0,v.jsx)(w,{}),Object.keys(e).length?(0,v.jsx)(le,{}):(0,v.jsx)(i.Z,{})]})]})})})}),(0,v.jsx)(n.qh,{})]})]})}}}]);
//# sourceMappingURL=275.fb727cf6.chunk.js.map