"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[4129,6591,9511],{69511:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var s=a(65043),r=a(10381),l=a(58786),n=a(93946),d=a(6574),o=(a(85416),a(70579));const c=[{name:"\u0414\u0430\u0442\u0430/\u0432\u0440\u0435\u043c\u044f",selector:e=>e.date,sortable:!0},{name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430",selector:e=>e.title,sortable:!0},{name:"\u0417\u0430\u043a\u0430\u0437\u0447\u0438\u043a",selector:e=>e.receiverId,sortable:!0},{name:"\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440",selector:e=>e.managerId,sortable:!0},{name:"\u0410\u0434\u0440\u0435\u0441",selector:e=>e.address},{name:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b",selector:e=>e.contacts,sortable:!0}],i={rows:{style:{}},headCells:{style:{fontSize:"16px"}},cells:{style:{}}};(0,l.an)("solarized",{text:{primary:"#fff",secondary:"#2aa198"},background:{default:"#131c21"},context:{background:"#cb4b16",text:"#FFFFFF"},divider:{default:"#ffffff13"},action:{button:"rgba(0,0,0,.54)",hover:"rgba(0,0,0,.08)",disabled:"rgba(0,0,0,.12)"}},"dark");const u=()=>{const{projects:e}=(0,d.d)(),{managers:t}=(0,d.d)(),{companys:a}=(0,d.d)(),{setNewProject:u,setCountProjects:f}=(0,d.d)(),[g,m]=(0,s.useState)([]),[p,x]=(0,s.useState)(!0),[h,v]=(0,s.useState)("");return(0,s.useEffect)((()=>{const e=[...g].filter((e=>{var t;return null===(t=e.title+e.id+e.chatId)||void 0===t?void 0:t.replace(/[\u0435\u0451]/g,"(\u0435|\u0451)").toLowerCase().includes(h.replace(/[\u0435\u0451]/g,"(\u0435|\u0451)").toLowerCase())}));m(""===h?g:e)}),[h]),(0,s.useEffect)((()=>{const s=[];f(0);(async()=>{e.map((async e=>{const r=[...t][null===t||void 0===t?void 0:t.findIndex((t=>t.id===e.managerId))],l=null!==r&&void 0!==r&&r.fio?r.fio:"",n=null!==r&&void 0!==r&&r.phone?null===r||void 0===r?void 0:r.phone:"";let d=null===a||void 0===a?void 0:a.find((t=>t.id===e.companyId));const o=d?null===d||void 0===d?void 0:d.title:"",c=new Date(e.createdAt),i=c.getFullYear(),u=String(c.getMonth()+1).padStart(2,"0"),f={date:`${String(c.getDate()).padStart(2,"0")}.${u}.${i} ${c.getHours()}:${String(c.getMinutes()).padStart(2,"0")}`,title:e.name,receiverId:o,managerId:l,address:e.geo,contacts:n};s.push(f)})),m(s),x(!1)})()}),[e]),(0,o.jsxs)("div",{className:"dark-theme",children:[(0,o.jsx)(r.GK,{}),(0,o.jsxs)("div",{className:"wrapper d-flex flex-column min-vh-100 bg-uley",children:[(0,o.jsx)(r.jJ,{}),(0,o.jsx)("div",{className:"body flex-grow-1 px-3",children:(0,o.jsx)(n.T5,{lg:!0,children:(0,o.jsxs)(s.Suspense,{fallback:(0,o.jsx)(n.JT,{color:"primary"}),children:[(0,o.jsx)("h2",{children:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"}),(0,o.jsx)(n.sK,{className:"mb-3",children:(0,o.jsx)(n.UF,{sm:3,children:(0,o.jsx)(n.OG,{placeholder:"\u041f\u043e\u0438\u0441\u043a...","aria-label":"City",onChange:e=>v(e.target.value)})})}),(0,o.jsx)(l.Ay,{columns:c,data:g,fixedHeader:!0,pagination:!0,theme:"solarized",progressPending:p,progressComponent:(0,o.jsx)(n.JT,{}),customStyles:i})]})})}),(0,o.jsx)(r.jI,{})]})]})}}}]);
//# sourceMappingURL=4129.783165d3.chunk.js.map