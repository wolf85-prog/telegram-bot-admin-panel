"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[6970,1321,8532,1170],{81165:function(e,t,n){n(72791);t.Z=n.p+"static/media/arrowDown.de82dd32eecdb5b4cb2e3b8d4d1e1b89.svg"},81170:function(e,t,n){n.r(t);var r=n(4942),s=n(1413),c=n(74165),i=n(15861),l=n(29439),a=n(72791),o=n(10935),d=(n(43513),n(78983)),u=n(26213),x=n(81165),p=n(75749),h=n(69835),m=n(80184);t.default=function(){var e=(0,u.Z)(),t=e.setCountPretendent,n=e.pretendents,f=e.setPretendents,j=(0,a.useState)([]),v=(0,l.Z)(j,2),w=(v[0],v[1],(0,a.useState)([])),N=(0,l.Z)(w,2),g=N[0],y=N[1],Z=(0,a.useState)(!0),k=(0,l.Z)(Z,2),b=(k[0],k[1],(0,a.useState)(!0)),S=(0,l.Z)(b,2),I=S[0],C=S[1],A=(0,a.useState)([]),D=(0,l.Z)(A,2),T=D[0],z=D[1],E=(0,a.useState)([]),F=(0,l.Z)(E,2),L=F[0],Q=F[1],V=(0,a.useState)(""),H=(0,l.Z)(V,2),M=(H[0],H[1]);(0,a.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,c.Z)().mark((function e(){return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("workers-pretendent: ",n),y(n),C(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[n]),(0,a.useEffect)((0,i.Z)((0,c.Z)().mark((function e(){var n,r;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],t(0),r=function(){var e=(0,i.Z)((0,c.Z)().mark((function e(){var t,r,s;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p._s)(20,0);case 2:return t=e.sent,console.log("pretendents workers: ",t),e.next=6,(0,p.bQ)();case 6:return r=e.sent,e.next=9,(0,h.mW)();case 9:s=e.sent,t.map(function(){var e=(0,i.Z)((0,c.Z)().mark((function e(t,i){var l,a,o,d,u,x,p,h,m,j,v,w,N,g,Z;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=s.find((function(e){return e.id===t.projectId})),a=null===l||void 0===l?void 0:l.title,o=r.find((function(e){return e.chatId===t.receiverId})),(null===o||void 0===o?void 0:o.userfamily)+" "+(null===o||void 0===o?void 0:o.username),d=null!==o&&void 0!==o&&o.worklist?JSON.parse(null===o||void 0===o?void 0:o.worklist):"",u=null!==o&&void 0!==o&&o.rank?null===o||void 0===o?void 0:o.rank:"",x=null!==o&&void 0!==o&&o.comment?null===o||void 0===o?void 0:o.comment:"",p=null===o||void 0===o?void 0:o.phone,h=new Date(t.createdAt).getTime(),m=new Date(h),j=String(m.getMonth()+1).padStart(2,"0"),v=String(m.getDate()).padStart(2,"0"),w=m.getHours(),N=String(m.getMinutes()).padStart(2,"0"),g="".concat(v,".").concat(j," ").concat(w,":").concat(N),Z={workerId:t.workerId,date:g,projectId:t.projectId,project:a,workerFamily:null===o||void 0===o?void 0:o.userfamily,workerName:null===o||void 0===o?void 0:o.username,worklist:d,rang:u,comment:x,phone:p,accept:t.accept},n.push(Z),y(n),f(n);case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),C(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r();case 4:case"end":return e.stop()}}),e)}))),[]);var O=function(){var e=(0,i.Z)((0,c.Z)().mark((function e(){var t;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p._s)(20,n.length);case 2:t=e.sent,console.log("pretendent size: ",t.length),[],console.log("\u0412\u0441\u0435\u0433\u043e \u0441\u0435\u0439\u0447\u0430\u0441: ",t.length);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,m.jsxs)("div",{className:"dark-theme",children:[(0,m.jsx)(o.S8,{}),(0,m.jsxs)("div",{className:"wrapper d-flex flex-column min-vh-100 bg-uley",children:[(0,m.jsx)(o.tf,{}),(0,m.jsx)("div",{className:"body flex-grow-1 px-3",children:(0,m.jsx)(d.KB,{lg:!0,children:(0,m.jsxs)(a.Suspense,{fallback:(0,m.jsx)(d.LQ,{color:"primary"}),children:[(0,m.jsx)(d.rb,{className:"mb-3",children:(0,m.jsx)(d.b7,{sm:3,children:(0,m.jsx)(d.jO,{placeholder:"\u041f\u043e\u0438\u0441\u043a...",onChange:function(e){return M(e.target.value)},"aria-label":"spec"})})}),(0,m.jsx)(d.rb,{children:(0,m.jsx)(d.b7,{style:{textAlign:"center"},children:(0,m.jsx)(d.xH,{className:"mb-4",children:(0,m.jsxs)(d.sl,{children:[I?(0,m.jsx)(d.LQ,{}):(0,m.jsxs)(d.Sx,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[(0,m.jsx)(d.V,{className:"table-light",children:(0,m.jsxs)(d.T6,{children:[(0,m.jsx)(d.is,{className:"text-center",style:{width:"200px"},children:"\u0414\u0430\u0442\u0430"}),(0,m.jsx)(d.is,{className:"text-center",style:{width:"320px"},children:"\u041f\u0440\u043e\u0435\u043a\u0442"}),(0,m.jsx)(d.is,{className:"text-center",style:{width:"370px"},children:"\u0424\u0418\u041e"}),(0,m.jsx)(d.is,{className:"text-center",style:{width:"160px"},children:"\u0421\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c"}),(0,m.jsx)(d.is,{className:"text-center",style:{width:"100px"},children:"U.L.E.Y"}),(0,m.jsx)(d.is,{className:"text-center",children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"}),(0,m.jsx)(d.is,{className:"text-center",style:{width:"250px"},children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"})]})}),(0,m.jsx)(d.NR,{children:g.map((function(e,t){return(0,m.jsxs)(d.T6,{"v-for":"item in tableItems",children:[(0,m.jsx)(d.NN,{className:"text-center",style:{color:e.accept&&"red"},children:e.date}),(0,m.jsx)(d.NN,{className:"text-center",style:{color:e.accept&&"red"},children:(0,m.jsx)(d.If,{content:e.projectId,placement:"top",children:(0,m.jsx)("div",{children:e.project})})}),(0,m.jsx)(d.NN,{className:"text-center",style:{color:e.dateborn>=2005||e.accept?"red":""},children:(0,m.jsx)(d.If,{content:e.workerId,placement:"top",children:(0,m.jsx)("div",{children:e.workerFamily+" "+e.workerName})})}),(0,m.jsxs)(d.NN,{style:{fontSize:"13px",textAlign:"left"},children:[(0,m.jsx)("div",{onClick:function(){return e=t,console.log(e,T[e]),void z((function(t){return(0,s.Z)((0,s.Z)({},t),{},(0,r.Z)({},e,!t[e]))}));var e},style:{cursor:"pointer"},children:T[t]?(0,m.jsx)("br",{}):"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c"}),(0,m.jsx)(d.V9,{visible:T[t],children:(0,m.jsx)("table",{children:e.worklist?e.worklist.map((function(e,t){return(0,m.jsx)("tr",{children:(0,m.jsxs)("td",{children:["- ",e.spec]})},t)})):""})})]}),(0,m.jsx)(d.NN,{className:"text-center",style:{color:e.accept&&"red"},children:e.rang}),(0,m.jsxs)(d.NN,{style:{fontSize:"13px",textAlign:"left"},children:[(0,m.jsx)("div",{onClick:function(){return e=t,void Q((function(t){return(0,s.Z)((0,s.Z)({},t),{},(0,r.Z)({},e,!t[e]))}));var e},style:{cursor:"pointer"},children:L[t]?(0,m.jsx)("br",{}):e.comment?"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c":""}),(0,m.jsx)(d.V9,{visible:L[t],children:e.comment?e.comment:(0,m.jsx)(m.Fragment,{})})]}),(0,m.jsx)(d.NN,{className:"text-center",style:{color:e.accept&&"red"},children:(0,m.jsx)("div",{children:e.phone})})]},t)}))})]}),(0,m.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,m.jsx)("img",{src:x.Z,alt:"",onClick:function(){return O()},style:{width:"50px",marginTop:"15px",cursor:"pointer"}})})]})})})})]})})}),(0,m.jsx)(o.qh,{})]})]})}}}]);
//# sourceMappingURL=6970.220a6c46.chunk.js.map