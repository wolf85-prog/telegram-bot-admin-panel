{"version":3,"file":"static/js/7270.edd0ee23.chunk.js","mappings":"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","sources":["pages/Notifications.js","../node_modules/@emotion/is-prop-valid/dist/emotion-is-prop-valid.esm.js","../node_modules/@emotion/memoize/dist/emotion-memoize.esm.js"],"sourcesContent":["import React, { Suspense, useEffect, useState } from 'react'\nimport { AppSidebar, AppFooter, AppHeader } from '../components/index'\nimport DataTable, { createTheme } from 'react-data-table-component';\nimport { \n  CContainer, \n  CSpinner, \n  CCol,\n  CRow,\n  CFormInput,\n} from '@coreui/react'\nimport { useUsersContext } from \"./../chat-app-new/context/usersContext\";\n\nimport { newCountProjects } from './../http/adminAPI'\n\nconst columns = [\n  {\n      name: 'Дата/время',\n      selector: row => row.date,\n      sortable: true,\n  },\n  {\n      name: 'Название проекта',\n      selector: row => row.title,\n      sortable: true,\n  },\n  {\n      name: 'Заказчик',\n      selector: row => row.receiverId,\n      sortable: true,\n  },\n  {\n      name: 'Менеджер',\n      selector: row => row.managerId,\n      sortable: true,\n  },\n  {\n      name: 'Адрес',\n      selector: row => row.address,\n  },\n  {\n      name: 'Контакты',\n      selector: row => row.contacts,\n      sortable: true,\n  },\n];\n\n//  Internally, customStyles will deep merges your customStyles with the default styling.\nconst customStyles = {\n  rows: {\n      style: {\n          //minHeight: '72px', // override the row height\n      },\n  },\n  headCells: {\n      style: {\n          fontSize: '16px',\n          //paddingLeft: '8px', // override the cell padding for head cells\n          //paddingRight: '8px',\n      },\n  },\n  cells: {\n      style: {\n          //paddingLeft: '8px', // override the cell padding for data cells\n          //paddingRight: '8px',\n      },\n  },\n};\n\ncreateTheme('solarized', {\n  text: {\n    primary: '#fff',\n    secondary: '#2aa198',\n  },\n  background: {\n    default: '#131c21',\n  },\n  context: {\n    background: '#cb4b16',\n    text: '#FFFFFF',\n  },\n  divider: {\n    default: '#ffffff13',\n  },\n  action: {\n    button: 'rgba(0,0,0,.54)',\n    hover: 'rgba(0,0,0,.08)',\n    disabled: 'rgba(0,0,0,.12)',\n  },\n}, 'dark');\n\nconst Notifications = () => {\n\n  const { projects: notifications } = useUsersContext();\n  const { managers: zakazchiki } = useUsersContext();\n  const { companys: comps } = useUsersContext();\n  const { setNewProject, setCountProjects } = useUsersContext();\n\n  const [projects, setProjects] = useState([]); \n  const [pending, setPending] = useState(true); \n\n  const [text, setText]= useState(\"\");\n\n  //поиск\n  useEffect(() => {\n\t\tconst filteredData = [...projects].filter(item=> (item.title + item.id + item.chatId)?.replace(/[её]/g, '(е|ё)').toLowerCase().includes(text.replace(/[её]/g, '(е|ё)').toLowerCase()));\n    //setSortWorkers(text === '' ? workersAll : filteredData); \n    setProjects(text === '' ? projects : filteredData) \n    //setWorkers(text === '' ? workers : filteredData);  \n  }, [text]);\n\n  //get Projects\n  useEffect(() => {\n    const arrProjects = []\n\n    setCountProjects(0)\n\n    const fetchData = async () => {\n      // console.log(\"companys: \", comps)\n      // console.log(\"managers: \", zakazchiki)\n      // console.log(\"notifications: \", notifications)\n\n      notifications.map(async (project) => {\n\n        const manager = [...zakazchiki];\n        let userIndex2 = zakazchiki?.findIndex((man) => man.id === project.managerId);  \n        const userObject2 = manager[userIndex2];\n        const managerName = userObject2?.fio ? userObject2.fio : ''\n        const managerPhone = userObject2?.phone ? userObject2?.phone : ''\n        \n        let userObject = comps?.find((company) => company.id === project.companyId);  \n        const companyName = userObject ? userObject?.title : ''\n\n        const d = new Date(project.createdAt);\n\t\t\t\tconst year = d.getFullYear();\n\t\t\t\tconst month = String(d.getMonth()+1).padStart(2, \"0\");\n\t\t\t\tconst day = String(d.getDate()).padStart(2, \"0\");\n\t\t\t\tconst chas = d.getHours();\n\t\t\t\tconst minut = String(d.getMinutes()).padStart(2, \"0\");\n\t\t\t\tconst newDateMessage = `${day}.${month}.${year} ${chas}:${minut}`\n\n        const newProject = {\n          date: newDateMessage,\n          title: project.name,\n          receiverId: companyName,\n          managerId: managerName,\n          address: project.geo,\n          contacts: managerPhone,\n\t\t\t\t}\n        arrProjects.push(newProject)\n      })\n\n      setProjects(arrProjects) \n\n      setPending(false);\n    }\n\n    fetchData();\n    \n  }, [notifications])\n\n  return (\n    <div className='dark-theme'>\n      <AppSidebar />\n      <div className=\"wrapper d-flex flex-column min-vh-100 bg-uley\">\n        <AppHeader />\n        <div className=\"body flex-grow-1 px-3\">\n\n            <CContainer lg>\n                <Suspense fallback={<CSpinner color=\"primary\" />}>\n                    <h2>Уведомления</h2>\n                    \n                    <CRow className=\"mb-3\">\n                      <CCol sm={3} >\n                        <CFormInput placeholder=\"Поиск...\" aria-label=\"City\" onChange={(e)=>setText(e.target.value)}/>\n                      </CCol>\n                    </CRow>\n\n                    <DataTable\n                      columns={columns}\n                      data={projects}\n                      fixedHeader\n                      pagination\n                      theme=\"solarized\"\n                      progressPending={pending}\n\t\t\t                progressComponent={<CSpinner />}\n                      customStyles={customStyles}\n                    />\n                  </Suspense>\n            </CContainer>\n\n        </div>\n        <AppFooter />\n      </div>\n    </div>\n  )\n}\n\nexport default Notifications\n","import memoize from '@emotion/memoize';\n\nvar reactPropsRegex = /^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/; // https://esbench.com/bench/5bfee68a4cd7e6009ef61d23\n\nvar isPropValid = /* #__PURE__ */memoize(function (prop) {\n  return reactPropsRegex.test(prop) || prop.charCodeAt(0) === 111\n  /* o */\n  && prop.charCodeAt(1) === 110\n  /* n */\n  && prop.charCodeAt(2) < 91;\n}\n/* Z+1 */\n);\n\nexport default isPropValid;\n","function memoize(fn) {\n  var cache = Object.create(null);\n  return function (arg) {\n    if (cache[arg] === undefined) cache[arg] = fn(arg);\n    return cache[arg];\n  };\n}\n\nexport default memoize;\n"],"names":["columns","name","selector","row","date","sortable","title","receiverId","managerId","address","contacts","customStyles","rows","style","headCells","fontSize","cells","createTheme","text","primary","secondary","background","default","context","divider","action","button","hover","disabled","notifications","useUsersContext","projects","zakazchiki","managers","comps","companys","setCountProjects","setNewProject","useState","setProjects","pending","setPending","setText","useEffect","filteredData","filter","item","id","chatId","replace","toLowerCase","includes","arrProjects","fetchData","map","project","manager","userIndex2","findIndex","man","userObject2","managerName","fio","managerPhone","phone","userObject","find","company","companyId","companyName","d","Date","createdAt","year","getFullYear","month","String","getMonth","padStart","day","getDate","chas","getHours","minut","getMinutes","newDateMessage","newProject","geo","push","className","lg","Suspense","fallback","color","sm","placeholder","onChange","e","target","value","data","fixedHeader","pagination","theme","progressPending","progressComponent","reactPropsRegex","isPropValid","memoize","prop","test","charCodeAt","fn","cache","Object","create","arg","undefined"],"sourceRoot":""}