"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[5194],{15194:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var s=a(72791),o=a(1934),n=a(43513),l=a(78983),r=a(26213),c=(a(69835),a(80184));const d=[{name:"\u0414\u0430\u0442\u0430/\u0432\u0440\u0435\u043c\u044f",selector:e=>e.date,sortable:!0},{name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430",selector:e=>e.title,sortable:!0},{name:"\u0417\u0430\u043a\u0430\u0437\u0447\u0438\u043a",selector:e=>e.receiverId,sortable:!0},{name:"\u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440",selector:e=>e.managerId,sortable:!0},{name:"\u0410\u0434\u0440\u0435\u0441",selector:e=>e.address},{name:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b",selector:e=>e.contacts,sortable:!0}],i={rows:{style:{}},headCells:{style:{fontSize:"16px"}},cells:{style:{}}};(0,n.jG)("solarized",{text:{primary:"#fff",secondary:"#2aa198"},background:{default:"#131c21"},context:{background:"#cb4b16",text:"#FFFFFF"},divider:{default:"#ffffff13"},action:{button:"rgba(0,0,0,.54)",hover:"rgba(0,0,0,.08)",disabled:"rgba(0,0,0,.12)"}},"dark");const u=()=>{const{projects:e}=(0,r.Z)(),{managers:t}=(0,r.Z)(),{companys:a}=(0,r.Z)(),{setNewProject:u,setCountProjects:g}=(0,r.Z)(),[f,m]=(0,s.useState)([]),[p,h]=(0,s.useState)(!0),[x,b]=(0,s.useState)("");return(0,s.useEffect)((()=>{const e=[...f].filter((e=>{var t;return null===(t=e.title+e.id+e.chatId)||void 0===t?void 0:t.replace(/[\u0435\u0451]/g,"(\u0435|\u0451)").toLowerCase().includes(x.replace(/[\u0435\u0451]/g,"(\u0435|\u0451)").toLowerCase())}));m(""===x?f:e)}),[x]),(0,s.useEffect)((async()=>{const s=[];g(0);(async()=>{console.log("companys: ",a),console.log("managers: ",t),console.log("notifications: ",e),e.map((async e=>{const o=[...t][null===t||void 0===t?void 0:t.findIndex((t=>t.id===e.managerId))],n=null!==o&&void 0!==o&&o.fio?o.fio:"",l=null!==o&&void 0!==o&&o.phone?null===o||void 0===o?void 0:o.phone:"";let r=null===a||void 0===a?void 0:a.find((t=>t.id===e.companyId));const c=r?null===r||void 0===r?void 0:r.title:"",d=new Date(e.createdAt),i=d.getFullYear(),u=String(d.getMonth()+1).padStart(2,"0"),g=String(d.getDate()).padStart(2,"0"),f=d.getHours(),m=String(d.getMinutes()).padStart(2,"0"),p={date:"".concat(g,".").concat(u,".").concat(i," ").concat(f,":").concat(m),title:e.name,receiverId:c,managerId:n,address:e.geo,contacts:l};s.push(p)})),m(s),h(!1)})()}),[e]),(0,c.jsxs)("div",{className:"dark-theme",children:[(0,c.jsx)(o.S8,{}),(0,c.jsxs)("div",{className:"wrapper d-flex flex-column min-vh-100 bg-uley",children:[(0,c.jsx)(o.tf,{}),(0,c.jsx)("div",{className:"body flex-grow-1 px-3",children:(0,c.jsx)(l.KB,{lg:!0,children:(0,c.jsxs)(s.Suspense,{fallback:(0,c.jsx)(l.LQ,{color:"primary"}),children:[(0,c.jsx)("h2",{children:"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f"}),(0,c.jsx)(l.rb,{className:"mb-3",children:(0,c.jsx)(l.b7,{sm:3,children:(0,c.jsx)(l.jO,{placeholder:"\u041f\u043e\u0438\u0441\u043a...","aria-label":"City",onChange:e=>b(e.target.value)})})}),(0,c.jsx)(n.ZP,{columns:d,data:f,fixedHeader:!0,pagination:!0,theme:"solarized",progressPending:p,progressComponent:(0,c.jsx)(l.LQ,{}),customStyles:i})]})})}),(0,c.jsx)(o.qh,{})]})]})}}}]);
//# sourceMappingURL=5194.f0a0873c.chunk.js.map