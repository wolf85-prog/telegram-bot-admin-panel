"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[6637],{96563:function(e,t,s){s.r(t),s.d(t,{default:function(){return je}});var a=s(29439),n=s(72791),i=s(78983),c=s(84688),r=(s(41167),s(82755),s(52036)),o=s(93433),l=s(57689),d=s(75421),u=s(36223),h=s(74165),m=s(15861),p=s(11087),x=s(48463),_=s(64941),f=s(27839),j=s.p+"static/media/uncheck.fa6532ee31160cda0676.png",v=s(80225),g=s(80184),b=function(e){var t=e.contact,s=e.worker,a=(0,n.useContext)(_.w).setPersonW,i=(0,v.Z)(),c=i.setUserWorkerAsUnread,r=i.setCountMessageWork,l=function(){var e=(0,m.Z)((0,h.Z)().mark((function e(){return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({name:t.name,id:t.chatId,avatar:t.avatar}),c(t.chatId),r(0);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e,s=Object.keys(t.messages);e=0!==s.length?s[s.length-1]:"2000-01-01";var a=[];if("{}"!==JSON.stringify(t.messages)&&(a=(0,o.Z)(t.messages[e])),a.length)return a.pop();return""}();return(0,g.jsxs)(p.rU,{className:"sidebar-contact",onClick:function(){return l()},children:[(0,g.jsxs)("div",{className:"sidebar-contact__avatar-wrapper",style:{position:"relative"},children:[t.avatar?(0,g.jsx)("img",{src:"".concat(t.avatar),alt:"",className:"avatar-adm"}):(0,g.jsx)("img",{src:f,alt:"",className:"avatar-adm"}),0!==s.length&&0===JSON.parse(s[0].worklist).findIndex((function(e){return"Blacklist"===e.spec}))?(0,g.jsx)("img",{src:j,alt:"",width:18,style:{position:"absolute",top:"34px",left:"32px"}}):""]}),(0,g.jsxs)("div",{className:"sidebar-contact__content",children:[(0,g.jsxs)("div",{className:"sidebar-contact__top-content",children:[(0,g.jsx)("h2",{className:"sidebar-contact__name",children:t.name}),(0,g.jsx)("span",{className:"sidebar-contact__time",children:""===d?"":(0,x.Z)(d.time)})]}),(0,g.jsxs)("div",{className:"sidebar-contact__bottom-content",children:[(0,g.jsxs)("p",{className:"sidebar-contact__message-wrapper",children:[d.status&&(0,g.jsx)(u.Z,{id:"sent"===(null===d||void 0===d?void 0:d.status)?"singleTick":"doubleTick","aria-label":null===d||void 0===d?void 0:d.status,className:"sidebar-contact__message-icon ".concat("read"===(null===d||void 0===d?void 0:d.status)?"sidebar-contact__message-icon--blue":"")}),(0,g.jsx)("span",{className:"sidebar-contact__message ".concat(t.unread?"sidebar-contact__message--unread":""),children:t.typing?(0,g.jsx)("i",{children:" \u043f\u0435\u0447\u0430\u0442\u0430\u0435\u0442..."}):null===d||void 0===d?void 0:d.content})]}),(0,g.jsxs)("div",{className:"sidebar-contact__icons",children:[t.pinned&&(0,g.jsx)(u.Z,{id:"pinned",className:"sidebar-contact__icon"}),!!t.unread&&(0,g.jsx)("span",{className:"sidebar-contact__unread",children:t.unread}),(0,g.jsx)("button",{"aria-label":"sidebar-contact__btn",children:(0,g.jsx)(u.Z,{id:"downArrow",className:"sidebar-contact__icon sidebar-contact__icon--dropdown"})})]})]})]})]})},N=s(30549),w=function(){var e=(0,v.Z)(),t=e.userWorkers,s=e.workers,c=(0,n.useState)([]),r=(0,a.Z)(c,2),h=r[0],m=r[1],p=(0,n.useState)(""),x=(0,a.Z)(p,2),_=x[0],f=x[1],j=(0,n.useState)(!0),w=(0,a.Z)(j,2),y=w[0],Z=w[1],k=(0,l.s0)();(0,n.useEffect)((function(){var e=(0,o.Z)(t).sort((function(e,t){var s=new Date(e.date);return new Date(t.date)-s}));m(e),t.length>0&&Z(!1)}),[t]),(0,n.useEffect)((function(){var e=t.filter((function(e){var t;return null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(_.toLowerCase())}));m(e)}),[_]);return(0,g.jsxs)("aside",{className:"sidebarB",children:[(0,g.jsxs)("header",{className:"headerB",children:[(0,g.jsx)("div",{className:"sidebar__avatar-wrapper",children:(0,g.jsx)("img",{src:d,alt:"U.L.E.Y",className:"avatar-adm"})}),(0,g.jsx)("div",{children:"\u0421\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u044b"}),(0,g.jsx)("div",{className:"sidebar__actions",children:(0,g.jsx)(N.Z,{className:"sidebar__action",ariaLabel:"Menu",iconId:"menu",iconClassName:"sidebar__action-icon",onSelected:function(e){switch(e){case 0:console.log("\u041f\u0440\u043e\u0444\u0438\u043b\u044c");break;case 1:console.log("1");break;case 4:k("/dashboard");break;default:console.log("\u0412 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435")}},options:["\u041f\u0440\u043e\u0444\u0438\u043b\u044c"]})})]}),(0,g.jsxs)("div",{className:"search-wrapper",children:[(0,g.jsxs)("div",{className:"search-icons",children:[(0,g.jsx)(u.Z,{id:"search",className:"search-icon"}),(0,g.jsx)("button",{className:"search__back-btn",children:(0,g.jsx)(u.Z,{id:"back"})})]}),(0,g.jsx)("input",{className:"search",placeholder:"\u041f\u043e\u0438\u0441\u043a \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u0430",onChange:function(e){return f(e.target.value)}})]}),(0,g.jsx)("div",{className:"sidebar__contacts",children:y?(0,g.jsx)(i.LQ,{style:{margin:"50%"}}):h.map((function(e){return"1775583141"!==e.chatId&&(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(b,{contact:e,worker:s.filter((function(t){return t.chatId===e.chatId}))})})}))})]})},y=s(45987),Z=s(30888),k=["id"],S=Z.Z,I=function(e){var t=e.id,s=(0,y.Z)(e,k),a=S[t];return a?a(s):null},C=[{icon:"recent",label:"Recent emojis",active:!0},{icon:"emojiPeople",label:"People emojis",active:!1},{icon:"emojiNature",label:"Nature emojis",active:!1},{icon:"emojiFood",label:"Food emojis",active:!1},{icon:"emojiActivity",label:"Activity emojis",active:!1},{icon:"emojiTravel",label:"Travel emojis",active:!1},{icon:"emojiObjects",label:"Object emojis",active:!1},{icon:"emojiSymbols",label:"Symbol emojis",active:!1},{icon:"emojiFlags",label:"Flag emojis",active:!1}],W=function(e){var t=e.showEmojis;e.newMessage,e.setNewMessage;return(0,g.jsxs)("div",{className:"emojis__wrapper ".concat(t?"emojis__wrapper--active":""),children:[(0,g.jsx)("div",{className:"emojis__tabs",children:C.map((function(e){return(0,g.jsx)("div",{className:"emojis__tab ".concat(e.active?"emojis__tab--active":""),children:(0,g.jsx)("button",{"aria-label":e.label,children:(0,g.jsx)(I,{id:e.icon,className:"emojis__tab-icon"})},e.icon)},e.label)}))}),(0,g.jsxs)("div",{className:"emojis__content",children:[(0,g.jsx)("input",{className:"emojis__search",placeholder:"Search Emoji"}),(0,g.jsxs)("h4",{className:"emojis__label",children:[" Smileys ","&"," People "]}),(0,g.jsx)("div",{className:"emojis__grid",children:new Array(6).fill(null).map((function(e,t){return new Array(11).fill(null).map((function(e,s){return(0,g.jsx)("div",{role:"img","aria-label":"emoji",className:"emoji emojis__emoji",style:{backgroundPositionX:-3-44.2*s,backgroundPositionY:-6-52*t}},"".concat(t,"-").concat(s))}))}))}),(0,g.jsxs)("h4",{className:"emojis__label",children:[" Animals ","&"," Nature "]}),(0,g.jsx)("div",{className:"emojis__grid",children:new Array(6).fill(null).map((function(e,t){return new Array(11).fill(null).map((function(e,s){return(0,g.jsx)("div",{role:"img","aria-label":"emoji",className:"emoji emojis__emoji",style:{backgroundPositionX:-3-44.2*s,backgroundPositionY:-6-52*t}},"".concat(t,"-").concat(s))}))}))})]})]})},E=(s(24846),function(e,t){(0,n.useEffect)((function(){if(e){e.style.height="0px";var t=e.scrollHeight-40;e.style.height=t+"px"}}),[e,t])}),A=s(1413),M=s(52007),R=s.n(M),L=s(68612),P=s(87485),O=s(42223),F=R().oneOf(["start","end"]),T=R().oneOfType([F,R().shape({sm:F}),R().shape({md:F}),R().shape({lg:F}),R().shape({xl:F}),R().shape({xxl:F}),R().object]),K=["title","children","bsPrefix","rootCloseEvent","variant","size","menuRole","renderMenuOnMount","disabled","href","id","menuVariant","flip"],B={id:R().string,href:R().string,onClick:R().func,title:R().node.isRequired,disabled:R().bool,align:T,menuRole:R().string,renderMenuOnMount:R().bool,rootCloseEvent:R().string,menuVariant:R().oneOf(["dark"]),flip:R().bool,bsPrefix:R().string,variant:R().string,size:R().string},U=n.forwardRef((function(e,t){var s=e.title,a=e.children,n=e.bsPrefix,i=e.rootCloseEvent,c=e.variant,r=e.size,o=e.menuRole,l=e.renderMenuOnMount,d=e.disabled,u=e.href,h=e.id,m=e.menuVariant,p=e.flip,x=(0,y.Z)(e,K);return(0,g.jsxs)(L.Z,(0,A.Z)((0,A.Z)({ref:t},x),{},{children:[(0,g.jsx)(P.Z,{id:h,href:u,size:r,variant:c,disabled:d,childBsPrefix:n,children:s}),(0,g.jsx)(O.Z,{role:o,renderOnMount:l,rootCloseEvent:i,variant:m,flip:p,children:a})]}))}));U.displayName="DropdownButton",U.propTypes=B;var Y=U,D=s(81694),z=s.n(D),J=s(10162),V=["bsPrefix","size","vertical","className","role","as"],X=n.forwardRef((function(e,t){var s=e.bsPrefix,a=e.size,n=e.vertical,i=void 0!==n&&n,c=e.className,r=e.role,o=void 0===r?"group":r,l=e.as,d=void 0===l?"div":l,u=(0,y.Z)(e,V),h=(0,J.vE)(s,"btn-group"),m=h;return i&&(m="".concat(h,"-vertical")),(0,g.jsx)(d,(0,A.Z)((0,A.Z)({},u),{},{ref:t,role:o,className:z()(c,m,a&&"".concat(h,"-").concat(a))}))}));X.displayName="ButtonGroup";var q=X,G=[{icon:"attachDocument",label:"Choose document",click:"doc"},{icon:"attachImage",label:"Choose image",click:"image"}],Q=function(e){var t=e.showAttach,s=e.setShowAttach,i=e.showEmojis,c=e.setShowEmojis,r=e.mess,o=e.setMess,l=e.submitNewMessage,d=e.onFileChange,u=e.setSelectedElement,p=(0,n.useRef)(null);E(p.current,r);n.forwardRef((function(e,t){var s=e.children,a=e.onClick;return(0,g.jsxs)("button",{"aria-label":"Message options",ref:t,onClick:function(e){e.preventDefault(),a(e)},children:[s,(0,g.jsx)(I,{id:"downArrow"})]})})).displayName="Search";var x=n.forwardRef((function(e,t){var s=e.children,i=(e.style,e.className),c=e["aria-labelledby"],r=(0,n.useState)(""),o=(0,a.Z)(r,2),l=o[0];o[1];return(0,g.jsx)("div",{ref:t,style:{backgroundColor:"#20272b"},className:i,"aria-labelledby":c,children:(0,g.jsx)("ul",{className:"list-unstyled",children:n.Children.toArray(s).filter((function(e){var t;return!l||(null===(t=e.props.children)||void 0===t?void 0:t.toLowerCase().startsWith(l))}))})})}));x.displayName=x;var _=function(){var e=(0,m.Z)((0,h.Z)().mark((function e(t){return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,g.jsxs)("div",{className:"chat__input-wrapper",children:[i&&(0,g.jsx)("button",{"aria-label":"Close emojis",onClick:function(){return c(!1)},children:(0,g.jsx)(I,{id:"cancel",className:"chat__input-icon"})}),(0,g.jsx)("button",{"aria-label":"Emojis",onClick:function(){return c(!0)},children:(0,g.jsx)(I,{id:"smiley",className:"chat__input-icon ".concat(i?"chat__input-icon--highlight":"")})}),i&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("button",{"aria-label":"Choose GIF",children:(0,g.jsx)(I,{id:"gif",className:"chat__input-icon"})}),(0,g.jsx)("button",{"aria-label":"Choose sticker",children:(0,g.jsx)(I,{id:"sticker",className:"chat__input-icon"})})]}),(0,g.jsxs)("div",{className:"pos-rel",children:[(0,g.jsx)("button",{"aria-label":"Attach",onClick:function(){return s(!t)},children:(0,g.jsx)(I,{id:"attach",className:"chat__input-icon ".concat(t?"chat__input-icon--pressed":"")})}),(0,g.jsx)("div",{className:"chat__attach ".concat(t?"chat__attach--active":""),children:G.map((function(e){return(0,g.jsxs)("button",{className:"chat__attach-btn","aria-label":e.label,children:[(0,g.jsx)("label",{htmlFor:"fileInput",children:(0,g.jsx)(I,{id:e.icon,className:"chat__attach-icon"})}),(0,g.jsx)("input",{type:"file",id:"fileInput",name:"photo",style:{display:"none"},onChange:function(e){return d(e)}})]},e.label)}))})]}),(0,g.jsx)("div",{style:{marginLeft:"8px",marginRight:"8px"},children:(0,g.jsxs)(Y,{onSelect:_,as:q,id:"dropdown-button-drop-up",drop:"up",variant:"secondary",title:"",children:[(0,g.jsx)(L.Z.Item,{class:"dropdown-menu",eventKey:"0",children:"\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442"}),(0,g.jsx)(L.Z.Item,{eventKey:"1",children:"\u041f\u0430\u0441\u043f\u043e\u0440\u0442"}),(0,g.jsx)(L.Z.Item,{eventKey:"2",children:"\u041a\u043d\u043e\u043f\u043a\u0430 \u0441 \u043d\u043e\u043c\u0435\u0440\u043e\u043c"}),(0,g.jsx)(L.Z.Item,{eventKey:"3",children:"\u0417\u0430\u043f\u0430\u0441"}),(0,g.jsx)(L.Z.Item,{eventKey:"4",children:"\u041e\u0444\u0438\u0441 U.L.E.Y"}),(0,g.jsx)(L.Z.Item,{eventKey:"5",children:"\u041e\u043f\u043b\u0430\u0442\u0430 / \u0441\u043c\u0435\u0442\u0430"}),(0,g.jsx)(L.Z.Item,{eventKey:"6",children:"\u0417\u0430\u044f\u0432\u043a\u0430 \u043e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u0430"}),(0,g.jsx)(L.Z.Item,{eventKey:"7",children:"\u0417\u0430\u044f\u0432\u043a\u0430 \u043e\u0434\u043e\u0431\u0440\u0435\u043d\u0430"}),(0,g.jsx)(L.Z.Item,{eventKey:"8",children:"\u0417\u0430\u043f\u0440\u043e\u0441 \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445"}),(0,g.jsx)(L.Z.Divider,{}),(0,g.jsx)(L.Z.Item,{eventKey:"9"})]})}),(0,g.jsx)("textarea",{className:"chat__input",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",value:r,onChange:function(e){console.log(e.target.value),o(e.target.value)},ref:p,rows:1}),(0,g.jsx)("button",{"aria-label":"Send message",onClick:l,children:(0,g.jsx)(I,{id:"send",className:"chat__input-icon"})})]})},H=["msgId","className","iconId","iconClassName","ariaLabel","options","position","showPressed","onSelected"],$=function(e){var t=e.msgId,s=e.className,i=e.iconId,c=e.iconClassName,r=e.ariaLabel,o=e.options,l=void 0===o?[]:o,d=e.position,u=void 0===d?"left":d,h=e.showPressed,m=void 0===h||h,p=e.onSelected,x=(0,y.Z)(e,H),_=(0,n.useState)(!1),f=(0,a.Z)(_,2),j=f[0],v=f[1];return(0,g.jsxs)("div",{className:"pos-rel",children:[(0,g.jsx)("button",(0,A.Z)((0,A.Z)({"aria-label":r,className:"options-btn ".concat(j&&m?"options-btn--pressed":""," ").concat(s||""),onClick:function(){return v(!j)}},x),{},{children:(0,g.jsx)(I,{id:i,className:c})})),(0,g.jsx)("ul",{className:"options-btn__options ".concat(j?"options-btn__options--active":""," ").concat("right"===u?"options-btn__options--right":""),children:l.map((function(e,s){return(0,g.jsx)("li",{className:"options-btn__option",onClick:function(){return p(s,t)},children:e},s)}))})]})},ee=function(e){var t=e.user,s=e.openProfileSidebar,a=e.openSearchSidebar,n=e.closeSidebar,i=e.showCloseButton;return(0,g.jsxs)("header",{className:"headerB chat__header",children:[(0,g.jsx)("div",{className:"chat__avatar-wrapper",onClick:s,children:t.avatar?(0,g.jsx)("img",{src:"".concat(t.avatar),alt:null===t||void 0===t?void 0:t.name,className:"avatar-adm"}):(0,g.jsx)("img",{src:f,alt:null===t||void 0===t?void 0:t.name,className:"avatar-adm"})}),(0,g.jsxs)("div",{className:"chat__contact-wrapper",onClick:s,children:[(0,g.jsxs)("h2",{className:"chat__contact-name",children:[" ",null===t||void 0===t?void 0:t.name]}),(0,g.jsx)("p",{className:"chat__contact-desc",children:t.typing?"\u043f\u0435\u0447\u0430\u0442\u0430\u0435\u0442...":"\u0434\u0430\u043d\u043d\u044b\u0435 \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0430"})]}),(0,g.jsxs)("div",{className:"chat__actions",children:[(0,g.jsx)("button",{className:"chat__action","aria-label":"Search",onClick:a,children:(0,g.jsx)(I,{id:"search",className:"chat__action-icon chat__action-icon--search"})}),(0,g.jsx)($,{className:"chat__action",ariaLabel:"Menu",iconId:"menu",iconClassName:"chat__action-icon",onSelected:function(e){switch(e){case 0:s();break;case 1:console.log("1");break;default:console.log("\u0412 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435")}},options:["\u0414\u0430\u043d\u043d\u044b\u0435 \u043e \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0435","\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043f\u0435\u0440\u0435\u043f\u0438\u0441\u043a\u0443","\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0447\u0430\u0442"]}),(0,g.jsx)("button",{onClick:n,style:{marginLeft:"15px",display:i?"block":"none"},children:(0,g.jsx)(I,{id:"cancel",className:"chat-sidebar__header-icon-close"})})]})]})},te=function(e){var t=e.active,s=e.closeSidebar,a=e.heading,n=e.children;return(0,g.jsxs)("aside",{className:"chat-sidebar ".concat(t?"chat-sidebar--active":""),children:[(0,g.jsxs)("header",{className:"header chat-sidebar__header",children:[(0,g.jsx)("button",{onClick:s,children:(0,g.jsx)(I,{id:"cancel",className:"chat-sidebar__header-icon"})}),(0,g.jsxs)("h2",{className:"chat-sidebar__heading",children:[" ",a]})]}),(0,g.jsx)("div",{className:"chat-sidebar__content",children:n})]})},se=function(){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"search-wrapper",children:[(0,g.jsxs)("div",{className:"search-icons",children:[(0,g.jsx)(I,{id:"search",className:"search-icon"}),(0,g.jsx)("button",{className:"search__back-btn",children:(0,g.jsx)(I,{id:"back"})})]}),(0,g.jsx)("input",{className:"search",placeholder:"\u041f\u043e\u0438\u0441\u043a..."})]}),(0,g.jsx)("div",{className:"chat-sidebar__search-results",children:(0,g.jsx)("p",{children:" \u041f\u043e\u0438\u0441\u043a \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u0432 \u0447\u0430\u0442\u0435"})})]})},ae=(s(50882),s(94810)),ne=s(75749),ie=s(50989),ce=s(23353),re=function(e){var t,s,i,c,r,o=e.user,l=(e.closeSidebar,(0,n.useState)("")),d=(0,a.Z)(l,2),u=(d[0],d[1],(0,n.useState)("")),p=(0,a.Z)(u,2),x=p[0],j=p[1],b=(0,n.useState)(""),N=(0,a.Z)(b,2),w=(N[0],N[1],(0,n.useState)(!1)),y=(0,a.Z)(w,2),Z=(y[0],y[1],(0,v.Z)()),k=(Z.addNewName,Z.addNewAvatar,(0,v.Z)().userWorkers,(0,v.Z)().addNewMessage2,(0,n.useContext)(_.w).setPersonW,(0,n.useState)(null)),S=(0,a.Z)(k,2),C=(S[0],S[1]),W=(0,n.useState)(!1),E=(0,a.Z)(W,2),A=(E[0],E[1],n.useRef(),(0,n.useState)("")),M=(0,a.Z)(A,2),R=M[0],L=M[1],P=(0,n.useState)(!1),O=(0,a.Z)(P,2),F=(O[0],O[1],new Audio(ce),(0,n.useState)("")),T=(0,a.Z)(F,2),K=(T[0],T[1],(0,n.useState)("")),B=(0,a.Z)(K,2),U=(B[0],B[1],(0,n.useState)({})),Y=(0,a.Z)(U,2),D=Y[0],z=Y[1],J=(0,n.useRef)(null),V=(0,n.useState)(""),X=(0,a.Z)(V,2),q=X[0],G=X[1];return(0,n.useEffect)((function(){C("".concat("https://proj.uley.team").concat(o.avatar));var e=function(){var e=(0,m.Z)((0,h.Z)().mark((function e(){var t;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ne.YL)(o.chatId);case 2:t=e.sent,console.log("worker: ",t[0]),j(t[0]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[o]),(0,n.useEffect)((function(){setTimeout((function(){z(J.current.getBoundingClientRect())}),2e3),L(o.phone)}),[o]),(0,n.useEffect)((function(){var e=function(){var e=(0,m.Z)((0,h.Z)().mark((function e(){var t,s,a,n;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ne.Ob)(o.chatId);case 2:if(t=e.sent,console.log("pretendentArray: ",t),!(t.length>0)){e.next=13;break}return s=t[t.length-1].projectId,e.next=8,(0,ne.fE)(s);case 8:a=e.sent,n=a.properties.Crm_ID.rich_text[0].plain_text,G(n),e.next=14;break;case 13:G("-");case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[o]),(0,g.jsxs)("div",{className:"profile",children:[(0,g.jsxs)("div",{className:"profile__sectionW profile__sectionW--personal",children:[(0,g.jsx)("div",{className:"profile__avatar-wrapper profile__avatar-worker",ref:J,children:null!==o&&void 0!==o&&o.avatar?(0,g.jsx)("img",{src:null===o||void 0===o?void 0:o.avatar,alt:null===o||void 0===o?void 0:o.name,width:"100%",height:D.width,style:{objectFit:"cover"}}):(0,g.jsx)("img",{src:f,alt:null===o||void 0===o?void 0:o.name,width:"100%",height:D.width,style:{objectFit:"cover"}})}),(0,g.jsx)("h2",{className:"profile__name",style:{textAlign:"center"},children:o.name})]}),(0,g.jsxs)("ul",{className:"profile__sectionW profile__section--actions",children:[(0,g.jsx)("li",{className:"profile__actionW",children:(0,g.jsxs)("p",{className:"profile__actionW-left",children:[(0,g.jsx)("span",{className:"profile__action-text profile__action-text--bottom",children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),(0,g.jsx)("span",{className:"profile__action-text profile__action-text--top profile__notion",children:R})]})}),(0,g.jsx)("li",{className:"profile__actionW",children:(0,g.jsxs)("p",{className:"profile__actionW-left",children:[(0,g.jsx)("span",{className:"profile__action-text profile__action-text--bottom",children:"\u0413\u043e\u0440\u043e\u0434"}),(0,g.jsx)("span",{className:"profile__action-text profile__action-text--top profile__notion",children:o.city?o.city:"-"})]})}),(0,g.jsx)("li",{className:"profile__actionW",children:(0,g.jsxs)("p",{className:"profile__actionW-left",children:[(0,g.jsx)("span",{className:"profile__action-text profile__action-text--bottom",children:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"}),(0,g.jsx)("span",{className:"profile__action-text profile__action-text--top profile__notion",children:null!==(t=o.age)&&void 0!==t&&t.start?"".concat(null===(s=o.age)||void 0===s?void 0:s.start.split("-")[2],".").concat(null===(i=o.age)||void 0===i?void 0:i.start.split("-")[1],".").concat(null===(c=o.age)||void 0===c?void 0:c.start.split("-")[0]):"-"})]})}),(0,g.jsx)("li",{className:"profile__actionW",children:(0,g.jsxs)("p",{className:"profile__actionW-left",children:[(0,g.jsx)("span",{className:"profile__action-text profile__action-text--bottom",children:"Telegram ID"}),(0,g.jsxs)("span",{className:"profile__action-text profile__action-text--top profile__notion",children:[o.chatId,(0,g.jsx)("div",{style:{fontSize:"16px",color:"#656565"},children:o.username?"@".concat(o.username):o.username})]})]})}),(0,g.jsx)("li",{className:"profile__actionW",children:(0,g.jsxs)("p",{className:"profile__actionW-left",children:[(0,g.jsx)("span",{className:"profile__action-text profile__action-text--bottom",children:"\u0421\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c"}),(0,g.jsx)("span",{className:"profile__action-text profile__action-text--top",children:(0,g.jsx)("table",{className:"table-noborder",children:x?null===(r=x.spec)||void 0===r?void 0:r.map((function(e,t){return(0,g.jsx)("tr",{children:(0,g.jsx)("td",{children:e.name})},t)})):"-"})})]})}),(0,g.jsx)("li",{className:"profile__actionW",children:(0,g.jsxs)("p",{className:"profile__actionW-left",children:[(0,g.jsx)("span",{className:"profile__action-text profile__action-text--bottom",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u043e\u0442\u043a\u043b\u0438\u043a \u043d\u0430 \u043f\u0440\u043e\u0435\u043a\u0442"}),(0,g.jsx)("span",{className:"profile__action-text profile__action-text--top profile__notion",children:q})]})})]}),(0,g.jsxs)("div",{className:"profile__sectionW profile__section--danger",children:[(0,g.jsx)(I,{id:"block",className:"profile__danger-icon"}),(0,g.jsx)("p",{className:"profile__danger-text profile__worker",children:" \u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c "})]}),(0,g.jsxs)("div",{className:"profile__sectionW profile__section--danger",children:[(0,g.jsx)(I,{id:"delete",className:"profile__danger-icon"}),(0,g.jsx)("p",{className:"profile__danger-text profile__worker",children:" \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0447\u0430\u0442 "})]})]})},oe=s(4942),le=s(76443),de=s(43506);var ue=s.p+"static/media/sp-i-m-image-placeholder.747d6db2c3e802991d67cf945923e1db.svg",he=function(e){var t,s=e.lastMsgRef,i=e.messages,c=(0,n.useContext)(_.w).personW,r=Object.keys(i),o="1775583141",l=(0,n.useState)([!1]),d=(0,a.Z)(l,2),u=d[0],p=d[1],f=(0,n.useRef)([]),j=(0,v.Z)().delMessageContext,b=n.forwardRef((function(e,t){var s=e.children,a=e.onClick;return(0,g.jsxs)("button",{"aria-label":"Message options",className:"chat__msg-options",ref:t,onClick:function(e){e.preventDefault(),a(e)},children:[s,(0,g.jsx)(I,{id:"downArrow",className:"chat__msg-options-icon"})]})}));b.displayName="Search";var N=n.forwardRef((function(e,t){var s=e.children,i=(e.style,e.className),c=e["aria-labelledby"],r=(0,n.useState)(""),o=(0,a.Z)(r,2),l=o[0];o[1];return(0,g.jsx)("div",{ref:t,style:{backgroundColor:"#20272b"},className:i,"aria-labelledby":c,children:(0,g.jsx)("ul",{className:"list-unstyled",children:n.Children.toArray(s).filter((function(e){var t;return!l||(null===(t=e.props.children)||void 0===t?void 0:t.toLowerCase().startsWith(l))}))})})}));N.displayName=N;var w=function(){var e=(0,m.Z)((0,h.Z)().mark((function e(t){var s,a,n;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=JSON.parse(t),j(s.id,s.date,s.chatId),(0,ae.Kp)(s.id),a="https://api.telegram.org/bot".concat("5836103512:AAFoXHwI8PsQ6_xeqcx0IawMbc7njLwJydQ","/deleteMessage?chat_id=").concat(c.id,"&message_id=").concat(s.id),e.next=6,ie.y_.get(a);case 6:n=e.sent,console.log("\u0423\u0434\u0430\u043b\u044f\u0435\u043c\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435: ",s.id),console.log("\u0414\u0430\u0442\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f: ",s.date),n?console.log("\u0412\u0430\u0448\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u043e \u0438\u0437 \u0442\u0435\u043b\u0435\u0433\u0440\u0430\u043c! ",n):console.log("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437.");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e){p((function(t){return(0,A.Z)((0,A.Z)({},t),{},(0,oe.Z)({},e,!t[e]))}))};return r.map((function(e,a){var n=i[e];return(0,g.jsxs)("div",{children:[(0,g.jsx)("div",{className:"chat__date-wrapper",children:(0,g.jsxs)("span",{className:"chat__date",children:[" ",e]})}),0===a&&(0,g.jsxs)("p",{className:"chat__encryption-msg",children:[(0,g.jsx)(I,{id:"lock",className:"chat__encryption-icon"}),"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0448\u0438\u0444\u0440\u0443\u044e\u0442\u0441\u044f \u0441\u043a\u0432\u043e\u0437\u043d\u044b\u043c \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c. \u041d\u0438\u043a\u0442\u043e \u0437\u0430 \u043f\u0440\u0435\u0434\u0435\u043b\u0430\u043c\u0438 \u044d\u0442\u043e\u0433\u043e \u0447\u0430\u0442\u0430 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0447\u0438\u0442\u0430\u0442\u044c \u0438\u043b\u0438 \u0441\u043b\u0443\u0448\u0430\u0442\u044c \u0438\u0445"]}),(0,g.jsx)("div",{className:"chat__msg-group",children:n.map((function(e,i){var l,d,h,m,p;null!==(l=e.content)&&void 0!==l&&l.includes("_reply_")&&(t=null===e||void 0===e?void 0:e.content.split("_reply_")[0]);var _=function(){return a===r.length-1&&i===n.length-1?s:void 0};return(0,g.jsx)(g.Fragment,{children:e.image?(0,g.jsxs)("div",{className:"chat__msg chat__img-wrapper ".concat(e.sender!==o?"chat__msg--rxd":"chat__msg--sent"),ref:_(),children:[e.content.endsWith(".pdf")?(0,g.jsx)("figure",{children:(0,g.jsx)("iframe",{src:e.content,height:"235px",width:"100%",title:"myFramePdf"})}):e.content.endsWith(".xlsx")?(0,g.jsxs)("figure",{children:[(0,g.jsx)("img",{src:de,width:30}),(0,g.jsx)("a",{href:e.content,target:"_blank",rel:"noreferrer",children:e.content})]}):e.content.endsWith(".docx")?(0,g.jsxs)("figure",{children:[(0,g.jsx)("img",{src:le,width:30}),(0,g.jsx)("a",{href:e.content,target:"_blank",rel:"noreferrer",children:e.content})]}):(0,g.jsxs)("figure",{style:{margin:u[i+c.id]?"0 0 3rem":"0 0 1rem"},children:[u[i+c.id]?(0,g.jsx)("a",{href:e.content,target:"_blank",rel:"noreferrer",children:(0,g.jsx)("img",{src:e.content,alt:"",className:"chat__img"})}):(0,g.jsx)("div",{onClick:function(){return y(i+c.id)},style:{width:"100%",height:"100px",backgroundColor:"#3179a3",borderRadius:"10px",padding:"25px 75px",textAlign:"center",position:"relative",cursor:"pointer"},children:(0,g.jsx)("img",{src:ue,alt:"",className:"chat__img",onClick:function(){return y(i+c.id)},style:{width:"50px"}})}),(0,g.jsxs)("figcaption",{style:{textAlign:"center",borderRadius:"5px"},children:[e.descript,(0,g.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",padding:"10px 0"},children:[(0,g.jsx)("div",{style:{width:"100px",height:"30px",backgroundColor:"#7b7777",borderRadius:"10px",padding:"3px 0"},children:"\u041f\u0440\u0438\u043d\u044f\u0442\u044c"}),(0,g.jsx)("div",{style:{width:"100px",height:"30px",backgroundColor:"#7b7777",borderRadius:"10px",padding:"3px 0"},children:"\u041e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c"})]})]})]}),(0,g.jsxs)("span",{className:"chat__msg-footer",children:[(0,g.jsx)("span",{children:(0,x.Z)(e.time)}),!e.sender&&(0,g.jsx)(I,{id:"sent"===(null===e||void 0===e?void 0:e.status)?"singleTick":"doubleTick","aria-label":null===e||void 0===e?void 0:e.status,className:"chat__msg-status-icon ".concat("read"===(null===e||void 0===e?void 0:e.status)?"chat__msg-status-icon--blue":"")})]}),(0,g.jsxs)(L.Z,{onSelect:w,children:[(0,g.jsx)(L.Z.Toggle,{as:b,id:"dropdown-custom-components"}),(0,g.jsx)(L.Z.Menu,{as:N,children:(0,g.jsx)(L.Z.Item,{eventKey:JSON.stringify({id:e.id,date:e.date,chatId:c.id}),children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"})})]})]}):e.sender!==o?(0,g.jsxs)("p",{className:"chat__msg chat__msg--rxd",ref:_(),children:[(0,g.jsxs)("div",{className:"flex-row",ref:function(t){return f.current[e.id]=t},children:[null!==(d=e.content)&&void 0!==d&&d.includes("_reply_")?(0,g.jsx)("div",{className:"chat__msg--reply",onClick:function(){return t=e.reply,console.log(t),console.log(f.current),void f.current[t].scrollIntoView({transition:"smooth"});var t},children:(0,g.jsx)("div",{className:"reply__content",children:(0,g.jsxs)("div",{className:"reply__full",children:[(0,g.jsx)("span",{className:"reply__left"}),(0,g.jsxs)("div",{className:"reply__pad",children:[(0,g.jsx)("div",{className:"reply__contact",children:"U.L.E.Y"}),(0,g.jsx)("div",{className:"reply__text",children:null!==(h=t)&&void 0!==h&&h.startsWith("http")?(0,g.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",children:(0,g.jsx)("img",{src:t,alt:"",width:"50px",height:"50px"})}):t})]})]})})}):(0,g.jsx)(g.Fragment,{}),(0,g.jsx)("span",{children:null!==(m=e.content)&&void 0!==m&&m.includes("_reply_")?e.content.split("_reply_")[1]:e.content}),(0,g.jsx)("span",{className:"chat__msg-filler",children:" "}),(0,g.jsx)("span",{className:"chat__msg-footer",children:(0,x.Z)(e.time)})]}),(0,g.jsxs)(L.Z,{onSelect:w,children:[(0,g.jsx)(L.Z.Toggle,{as:b,id:"dropdown-custom-components"}),(0,g.jsx)(L.Z.Menu,{as:N,children:(0,g.jsx)(L.Z.Item,{eventKey:JSON.stringify({id:e.id,date:e.date,chatId:c.id}),children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"})})]})]}):(0,g.jsx)("p",{className:"chat__msg chat__msg--sent",ref:_(),children:(0,g.jsxs)("div",{ref:function(t){return f.current[e.id]=t},children:[(0,g.jsx)("span",{children:null!==(p=e.content)&&void 0!==p&&p.startsWith("http")?(0,g.jsx)("a",{className:"chat__href",href:e.content,target:"_blank",rel:"noreferrer",children:e.content}):e.content}),(0,g.jsx)("span",{className:"chat__msg-filler",children:" "}),(0,g.jsxs)("span",{className:"chat__msg-footer",children:[(0,g.jsxs)("span",{children:[" ",(0,x.Z)(e.time)," "]}),(0,g.jsx)(I,{id:"sent"===(null===e||void 0===e?void 0:e.status)?"singleTick":"doubleTick","aria-label":null===e||void 0===e?void 0:e.status,className:"chat__msg-status-icon ".concat("read"===(null===e||void 0===e?void 0:e.status)?"chat__msg-status-icon--blue":"")})]}),(0,g.jsxs)(L.Z,{onSelect:w,children:[(0,g.jsx)(L.Z.Toggle,{as:b,id:"dropdown-custom-components"}),(0,g.jsx)(L.Z.Menu,{as:N,children:(0,g.jsx)(L.Z.Item,{eventKey:JSON.stringify({id:e.id,date:e.date,chatId:c.id}),children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"})})]})]})})})}))})]},a)}))},me=function(e){var t=e.active,s=(e.closeSidebar,e.heading,e.children);return(0,g.jsx)("aside",{className:"chat-sidebar ".concat(t?"chat-sidebar--active":""),children:(0,g.jsx)("div",{className:"chat-sidebar__content",children:s})})},pe="1775583141",xe="6242919149:AAGqHGSudmw37vXWYNezhzk-rb7ah5vxTp8",_e="https://proj.uley.team",fe=function(){var e=(0,v.Z)(),t=e.userWorkers,s=e.setUserAsUnread,i=e.addNewMessage2,c=(0,n.useContext)(_.w).personW,r=(0,v.Z)().setCountMessage,o=c.id,l=t.filter((function(e){return e.chatId===o.toString()}))[0],d=(0,n.useRef)(null),u=(0,n.useState)(!1),p=(0,a.Z)(u,2),x=p[0],f=p[1],j=(0,n.useState)(!1),b=(0,a.Z)(j,2),N=b[0],w=b[1],y=(0,n.useState)(!1),Z=(0,a.Z)(y,2),k=Z[0],S=Z[1],C=(0,n.useState)(!1),E=(0,a.Z)(C,2),A=E[0],M=E[1],R=(0,n.useState)(),L=(0,a.Z)(R,2),P=L[0],O=L[1],F=(0,n.useState)(""),T=(0,a.Z)(F,2),K=T[0],B=T[1],U=(0,n.useState)(""),Y=(0,a.Z)(U,2),D=Y[0],z=Y[1],J=(0,n.useState)(!1),V=(0,a.Z)(J,2),X=V[0],q=V[1],G=(0,n.useState)(""),H=(0,a.Z)(G,2),$=H[0],ae=H[1],oe=(0,n.useState)(""),le=(0,a.Z)(oe,2),de=(le[0],le[1]),ue=(0,n.useState)({name:"",path:""}),fe=(0,a.Z)(ue,2),je=(fe[0],fe[1],(0,n.useState)(0)),ve=(0,a.Z)(je,2),ge=(ve[0],ve[1]),be=((0,n.useRef)(),new Audio(ce));(0,n.useEffect)((function(){l&&(Ne(),s(l.chatId),r(0))}),[]),(0,n.useEffect)((function(){l&&Ne()}),[t]),(0,n.useEffect)((function(){console.log($),ae($),de($);var e="";"0"===$?(e="".concat(l.name.split(" ")[1],", \u044f \u044e\u043d\u044b\u0439 \u0447\u0430\u0442-\u0431\u043e\u0442 \u0438 \u0435\u0449\u0435 \u043d\u0435 \u0432\u0441\u0451 \u0443\u043c\u0435\u044e. \u041b\u044e\u0431\u043e\u0439 \u0432\u043e\u043f\u0440\u043e\u0441 \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u0440\u0435\u0448\u0438\u0442\u044c \u043d\u0430\u0448 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440: +7 (499) 500-14-11"),z(e)):"1"===$?z(e="\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430..."):"2"===$?z(e="+7 (499) 500-14-11 - \u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 U.L.E.Y"):"3"===$?(e="".concat(l.name.split(" ")[1],", \u043c\u044b \u0433\u043e\u0442\u043e\u0432\u044b \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0412\u0430\u0441 \u0432 \u0437\u0430\u043f\u0430\u0441 \u043d\u0430 \u044d\u0442\u043e\u0442 \u043f\u0440\u043e\u0435\u043a\u0442. \u0417\u0430\u043f\u0430\u0441 \u043e\u043f\u043b\u0430\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f.\n\t\t\t\u0421\u0443\u043c\u043c\u0443 \u043c\u043e\u0436\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u0443\u0442\u043e\u0447\u043d\u0438\u0442\u044c \u0443 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440\u0430. \u0421 \u0431\u043e\u043b\u044c\u0448\u043e\u0439 \u0432\u0435\u0440\u043e\u044f\u0442\u043d\u043e\u0441\u0442\u044c\u044e \u0412\u044b \u0431\u0443\u0434\u0435\u0442\u0435 \u043d\u0430 \u043d\u0451\u043c \u0437\u0430\u0434\u0435\u0439\u0441\u0442\u0432\u043e\u0432\u0430\u043d\u044b, \n\t\t\t\u043d\u043e \u0434\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430 \u043f\u0440\u0438\u0434\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u0441\u043d\u0443\u0442\u044c\u0441\u044f \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 \u043e\u0441\u043d\u043e\u0432\u043d\u044b\u043c \u0441\u043e\u0441\u0442\u0430\u0432\u043e\u043c \u0438 \u0431\u044b\u0442\u044c \u0433\u043e\u0442\u043e\u0432\u044b\u043c \u0432\u044b\u0439\u0442\u0438 \u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0443. \u0413\u043e\u0442\u043e\u0432\u044b?"),z(e)):"4"===$?z(e="\u041e\u0444\u0438\u0441 | U.L.E.Y\n\n\t\t\t\u0410\u0434\u0440\u0435\u0441: \u0433. \u041c\u043e\u0441\u043a\u0432\u0430, \u0443\u043b. \u0414\u0435\u0440\u0431\u0435\u043d\u0435\u0432\u0441\u043a\u0430\u044f \u043d\u0430\u0431\u0435\u0440\u0435\u0436\u043d\u0430\u044f, \u0434. 7, \u0441\u0442\u0440. 2\n\t\t\t\t\t\n\t\t\t\u041a\u0430\u0440\u0442\u0430: https://goo.gl/maps/uFrAfV5NmE2rUXsT8"):"5"===$?z(e="\u0414\u043b\u044f \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043e\u043f\u043b\u0430\u0442\u044b: \n\t\t\thttps://t.me/ULEY_Office_Bot"):"6"===$?(e="\u0414\u043e\u0431\u0440\u044b\u0439 \u0434\u0435\u043d\u044c, ".concat(l.name.split(" ")[1],". \u0421\u043f\u0430\u0441\u0438\u0431\u043e, \u0447\u0442\u043e \u043e\u0442\u043a\u043b\u0438\u043a\u043d\u0443\u043b\u0438\u0441\u044c \u043d\u0430 \u044d\u0442\u0443 \u0437\u0430\u044f\u0432\u043a\u0443. \n\t\t\t\u0412 \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0438\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0441\u043e\u0441\u0442\u0430\u0432 \u0443\u0436\u0435 \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d.\n\t\t\t\u0414\u043e \u0432\u0441\u0442\u0440\u0435\u0447\u0438 \u043d\u0430 \u043d\u043e\u0432\u044b\u0445 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u0445!"),z(e)):"7"===$?(e="\u0414\u043e\u0431\u0440\u044b\u0439 \u0434\u0435\u043d\u044c, ".concat(l.name.split(" ")[1],". \u0421\u043f\u0430\u0441\u0438\u0431\u043e, \u0447\u0442\u043e \u043e\u0442\u043a\u043b\u0438\u043a\u043d\u0443\u043b\u0438\u0441\u044c \u043d\u0430 \u0437\u0430\u044f\u0432\u043a\u0443. \n\t\t\t\u0414\u043b\u044f \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u044f \u0442\u0435\u0445. \u0437\u0430\u0434\u0430\u0447\u0438 \u043d\u0430 \u043f\u0440\u043e\u0435\u043a\u0442 \u043f\u043e\u0437\u0432\u043e\u043d\u0438\u0442\u0435 \u043f\u043e \u043d\u043e\u043c\u0435\u0440\u0443:\n\t\t\t+7 (499) 500-14-11"),z(e)):"8"===$&&(e="\u0414\u043e\u0431\u0440\u044b\u0439 \u0434\u0435\u043d\u044c, ".concat(l.name.split(" ")[1],". \u0412\u044b \u0432\u043f\u0435\u0440\u0432\u044b\u0435 \u043e\u0442\u043a\u043b\u0438\u043a\u043d\u0443\u043b\u0438\u0441\u044c \u043d\u0430 \u0437\u0430\u044f\u0432\u043a\u0443 \u043e\u0442 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 U.L.E.Y\n\t\t\t\u0427\u0442\u043e\u0431\u044b \u043c\u044b \u0441\u043c\u043e\u0433\u043b\u0438 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442\u044c \u0412\u0430\u043c \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430 \u044d\u0442\u043e\u043c \u043f\u0440\u043e\u0435\u043a\u0442\u0435 \u043f\u0440\u0438\u0448\u043b\u0438\u0442\u0435, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043d\u0435\u043c\u043d\u043e\u0433\u043e \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u0441\u0435\u0431\u0435:\n\t\t\t\t\t\n\t\t\t\u2705 \u0424\u0418\u041e\n\t\t\t\t\t\n\t\t\t\u2705 \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b \u0434\u043b\u044f \u0441\u0432\u044f\u0437\u0438\n\t\t\t\t\t\n\t\t\t\u2705 \u0413\u043e\u0434 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f\n\t\t\t\t\t\n\t\t\t\u2705 \u0421\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c"),z(e))}),[$]);var Ne=function(){var e;null===(e=d.current)||void 0===e||e.scrollIntoView({transition:"smooth"})};(0,n.useEffect)((function(){var e=function(){var e=(0,m.Z)((0,h.Z)().mark((function e(){var t,s;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!P){e.next=10;break}return(t=new FormData).append("name",P.name),t.append("photo",P),e.next=6,(0,ne.cT)(t);case 6:s=e.sent,console.log("response: ",s),B(s.data.path.split(".team")[1]),z(_e+s.data.path.split(".team")[1]);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[P]);var we=function(e){S(!1),M(!1),q(!0),e(!0)},ye=function(){var e=(0,m.Z)((0,h.Z)().mark((function e(){var t,s,a,n;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("selectedElement: ",$),"1"!==$){e.next=6;break}console.log("\u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u044f: ",$),Ze(),e.next=22;break;case 6:return t=(t=(t=(t=(t=(t=D.replace(/\n/g,"%0A")).replace(/#/g,"%23")).replace(/&/g,"%26")).replace(/\+/g,"%2b")).replace(/>/g,"%3e")).replace(/</g,"%3c"),s="https://api.telegram.org/bot".concat(xe,"/sendMessage?chat_id=").concat(c.id,"&parse_mode=html&text=").concat(t),e.next=15,ie.y_.get(s);case 15:return(a=e.sent)?console.log("\u0421\u043f\u0430\u0441\u0438\u0431\u043e! \u0412\u0430\u0448\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e! ",a.data.result.message_id):console.log("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437."),n={},P?(n={senderId:pe,receiverId:l.chatId,conversationId:l.conversationId,type:"image",text:_e+K,isBot:null,messageId:a.data.result.message_id},i(l.chatId,_e+K,"image","",l.conversationId,a.data.result.message_id)):(n={senderId:pe,receiverId:l.chatId,conversationId:l.conversationId,type:"text",text:D,isBot:null,messageId:a.data.result.message_id},i(l.chatId,D,"text","",l.conversationId,a.data.result.message_id)),console.log("message send button: ",n),e.next=22,(0,ne.rW)(n);case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ze=function(){var e=(0,m.Z)((0,h.Z)().mark((function e(){var s,a,n,c,r,o;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("send passport"),be.play(),s=t.filter((function(e){return e.chatId===l.chatId}))[0],a=JSON.stringify({inline_keyboard:[[{text:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0430\u043d\u043a\u0435\u0442\u0443",web_app:{url:"https://proj.uley.team:7001/anketa"}}]]}),c="","1"!==$){e.next=12;break}return"https://proj.uley.team/upload/2023-11-10T15:12:36.770Z.png",r="https://api.telegram.org/bot".concat(xe,"/sendPhoto?chat_id=").concat(l.chatId,"&photo=").concat("https://proj.uley.team/upload/2023-11-10T15:12:36.770Z.png","&reply_markup=").concat(a),console.log(r),e.next=11,ie.y_.get(r);case 11:n=e.sent;case 12:return{},o={senderId:pe,receiverId:l.chatId,conversationId:s.conversationId,type:"text",text:c,messageId:n.data.result.message_id,buttons:"\u0421\u043e\u0433\u043b\u0430\u0441\u0435\u043d \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"},e.next=16,(0,ne.rW)(o);case 16:i(l.chatId,c,"text","\u0421\u043e\u0433\u043b\u0430\u0441\u0435\u043d \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",s.conversationId,n.data.result.message_id);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,g.jsxs)("div",{className:"chat",children:[(0,g.jsxs)("div",{className:"chat__body",children:[(0,g.jsx)("div",{className:"chat__bg"}),(0,g.jsx)(ee,{user:c,openProfileSidebar:function(){return we(S)},openSearchSidebar:function(){return we(M)},closeSidebar:function(){return e=S,S(!1),q(!1),void e(!1);var e},showCloseButton:X}),(0,g.jsx)("div",{className:"chat__content",children:(0,g.jsx)(he,{lastMsgRef:d,messages:l.messages})}),(0,g.jsx)("footer",{className:"chat__footer",children:(0,g.jsxs)("div",{className:"chat__footer-wrapper",children:[(0,g.jsx)("button",{className:"chat__scroll-btn","aria-label":"scroll down",onClick:Ne,children:(0,g.jsx)(I,{id:"downArrow"})}),(0,g.jsx)(W,{showEmojis:N,mess:D,setMess:z}),(0,g.jsx)(Q,{showEmojis:N,setShowEmojis:w,showAttach:x,setShowAttach:f,onFileChange:function(e){ge(0);var t=e.target.files[0];console.log(t),O(t)},mess:D,setMess:z,submitNewMessage:function(){be.play(),ye(),z(""),Ne(),O(""),B("")},setSelectedElement:ae})]})})]}),(0,g.jsx)(te,{heading:"\u041f\u043e\u0438\u0441\u043a \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",active:A,closeSidebar:function(){return M(!1)},children:(0,g.jsx)(se,{})}),(0,g.jsx)(me,{active:k,children:(0,g.jsx)(re,{user:l})})]})},je=function(){var e=(0,n.useContext)(_.w).personW,t=(0,v.Z)(),s=(t.userWorkers,t.setUserWorkers,(0,n.useState)([])),o=(0,a.Z)(s,2);o[0],o[1];return(0,n.useEffect)((function(){document.body.classList.add("dark-theme")})),(0,g.jsxs)("div",{children:[(0,g.jsx)(c.S8,{}),(0,g.jsxs)("div",{className:"wrapper d-flex flex-column min-vh-100 bg-uley",children:[(0,g.jsx)(c.xF,{}),(0,g.jsx)("div",{className:"body flex-grow-1 px-3",children:(0,g.jsx)(i.KB,{lg:!0,children:(0,g.jsx)(n.Suspense,{fallback:(0,g.jsx)(i.LQ,{color:"primary"}),children:(0,g.jsxs)("div",{className:"app",children:[(0,g.jsx)("p",{className:"app__mobile-message",children:" \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 \u043a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u0435 \ud83d\ude0a. "}),(0,g.jsxs)("div",{className:"app-content",children:[(0,g.jsx)(w,{}),Object.keys(e).length?(0,g.jsx)(fe,{}):(0,g.jsx)(r.Z,{})]})]})})})}),(0,g.jsx)(c.qh,{})]})]})}}}]);
//# sourceMappingURL=6637.64e9f4e2.chunk.js.map