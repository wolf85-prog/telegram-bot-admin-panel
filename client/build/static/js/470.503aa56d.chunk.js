"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[470],{77543:function(e,t,s){s.r(t);var i=s(74165),r=s(15861),a=s(29439),l=s(72791),n=s(57689),c=s(11087),d=s(78983),o=s(6665),x=s(69835),j=s(80184);t.default=function(){var e=(0,n.TH)(),t=(0,l.useState)([]),s=(0,a.Z)(t,2),p=(s[0],s[1],e.state.project),h=(0,l.useState)(6),m=(0,a.Z)(h,2),v=m[0],u=m[1],f=(0,l.useState)(6),N=(0,a.Z)(f,2),b=N[0],S=N[1],y=(0,l.useState)(6),g=(0,a.Z)(y,2),Z=g[0],w=g[1],k=(0,l.useState)(0),T=(0,a.Z)(k,2),C=T[0],I=T[1],D=(0,l.useState)(0),R=(0,a.Z)(D,2),E=R[0],V=R[1],L=(0,l.useState)(0),F=(0,a.Z)(L,2),_=F[0],A=F[1],H=(0,l.useState)(0),J=(0,a.Z)(H,2),K=J[0],M=J[1],O=(0,l.useState)(0),Q=(0,a.Z)(O,2),q=Q[0],B=Q[1],P=(0,l.useState)(0),U=(0,a.Z)(P,2),W=U[0],z=U[1],G=(0,l.useState)(0),X=(0,a.Z)(G,2),Y=X[0],$=X[1],ee=(0,l.useState)(0),te=(0,a.Z)(ee,2),se=te[0],ie=te[1],re=(0,l.useState)(0),ae=(0,a.Z)(re,2),le=ae[0],ne=ae[1],ce=(0,l.useState)(0),de=(0,a.Z)(ce,2),oe=de[0],xe=de[1],je=(0,l.useState)(0),pe=(0,a.Z)(je,2),he=pe[0],me=pe[1],ve=(0,l.useState)(0),ue=(0,a.Z)(ve,2),fe=ue[0],Ne=ue[1],be=(0,l.useState)(0),Se=(0,a.Z)(be,2),ye=Se[0],ge=Se[1],Ze=(0,l.useState)(0),we=(0,a.Z)(Ze,2),ke=we[0],Te=we[1],Ce=(0,l.useState)(0),Ie=(0,a.Z)(Ce,2),De=Ie[0],Re=Ie[1],Ee=(0,l.useState)(0),Ve=(0,a.Z)(Ee,2),Le=Ve[0],Fe=Ve[1],_e=(0,l.useState)(0),Ae=(0,a.Z)(_e,2),He=Ae[0],Je=Ae[1],Ke=(0,l.useState)(0),Me=(0,a.Z)(Ke,2),Oe=Me[0],Qe=Me[1],qe=new Date,Be=String(qe.getMonth()+1).padStart(2,"0"),Pe=String(qe.getDate()).padStart(2,"0"),Ue="".concat(Pe,".").concat(Be);qe.setDate(qe.getDate()+1);var We=String(qe.getMonth()+1).padStart(2,"0"),ze=String(qe.getDate()).padStart(2,"0"),Ge=("".concat(ze,".").concat(We),(0,l.useState)([{date:Ue,time:"06:00",proj:"",save:!1},{date:Ue,time:"07:00",proj:"",save:!1},{date:Ue,time:"08:00",proj:"",save:!1},{date:Ue,time:"09:00",proj:"",save:!1},{date:Ue,time:"10:00",proj:"",save:!1},{date:Ue,time:"11:00",proj:"",save:!1}])),Xe=(0,a.Z)(Ge,2),Ye=Xe[0],$e=Xe[1],et=(0,l.useState)([{date:Ue,time:"12:00",proj:"",save:!1},{date:Ue,time:"13:00",proj:"",save:!1},{date:Ue,time:"14:00",proj:"",save:!1},{date:Ue,time:"15:00",proj:"",save:!1},{date:Ue,time:"16:00",proj:"",save:!1},{date:Ue,time:"17:00",proj:"",save:!1}]),tt=(0,a.Z)(et,2),st=tt[0],it=tt[1],rt=(0,l.useState)([{date:Ue,time:"18:00",proj:"",save:!1},{date:Ue,time:"19:00",proj:"",save:!1},{date:Ue,time:"20:00",proj:"",save:!1},{date:Ue,time:"21:00",proj:"",save:!1},{date:Ue,time:"22:00",proj:"",save:!1},{date:Ue,time:"23:00",proj:"",save:!1}]),at=(0,a.Z)(rt,2),lt=at[0],nt=at[1],ct=(0,l.useState)(""),dt=(0,a.Z)(ct,2),ot=dt[0],xt=dt[1],jt=(0,l.useState)(!1),pt=(0,a.Z)(jt,2),ht=pt[0],mt=pt[1],vt=(0,l.useState)([!1,!1,!1,!1,!1,!1,!1]),ut=(0,a.Z)(vt,2),ft=ut[0],Nt=ut[1],bt=(0,l.useState)([!1,!1,!1,!1,!1,!1,!1]),St=(0,a.Z)(bt,2),yt=St[0],gt=St[1],Zt=(0,l.useState)([!1,!1,!1,!1,!1,!1,!1]),wt=(0,a.Z)(Zt,2),kt=wt[0],Tt=wt[1],Ct=(0,l.useState)(!0),It=(0,a.Z)(Ct,2),Dt=It[0],Rt=It[1],Et=(0,l.useState)(0),Vt=(0,a.Z)(Et,2),Lt=Vt[0],Ft=Vt[1],_t=(0,l.useRef)(),At=[];(0,l.useEffect)((function(){var e=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(){var t,s,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.fE)(p);case 2:r=e.sent,console.log("\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u043f\u0440\u043e\u0435\u043a\u0442: ",null===(t=r.properties.Name.title[0])||void 0===t?void 0:t.plain_text),Rt(!1),xt(null===(s=r.properties.Name.title[0])||void 0===s?void 0:s.plain_text);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,l.useEffect)((function(){var e=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(){var t,s,r,a,l,n,c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,x.Wh)((new Date).toLocaleDateString());case 2:t=e.sent,console.log(t),null!==t&&(s=JSON.parse(t.times),console.log("planTimes: ",s),r=s.findIndex((function(e){return"12:00"===e.time})),a=s.findIndex((function(e){return"18:00"===e.time})),console.log("\u0418\u043d\u0434\u0435\u043a\u0441 1: ",r),console.log("\u0418\u043d\u0434\u0435\u043a\u0441 2: ",a),l=s.slice(0,r),n=s.slice(r,a),c=s.slice(a,s.length),l.map((function(e,t){e.save&&(ft[t]=!0,Nt(ft))})),n.map((function(e,t){e.save&&(yt[t]=!0,gt(yt))})),c.map((function(e,t){e.save&&(kt[t]=!0,Tt(kt))})),$e(l),it(n),nt(c),u(r),S(a-r),w(s.length-a));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var Ht=function(e,t){1===t&&(ft[e]?(ft[e]=!1,Ye[e].proj="",Ye[e].save=!1):(ft[e]=!0,Ye[e].proj=ot,Ye[e].save=!0),$e(Ye),Nt(ft)),2===t&&(yt[e]?(yt[e]=!1,st[e].proj="",Ye[e].save=!1):(yt[e]=!0,st[e].proj=ot,st[e].save=!0),it(st),gt(yt)),3===t&&(kt[e]?(kt[e]=!1,lt[e].proj="",lt[e].save=!1):(kt[e]=!0,lt[e].proj=ot,lt[e].save=!0),nt(lt),Tt(kt)),mt(!ht)},Jt=function(e,t,s){if("06:00"===e&&1===s&&(I(C+1),C<1)){u(v+1),At=Ye.slice(0);var i={date:Ue,time:"06:30",proj:"",save:!1};At.splice(t+1,0,i),console.log(At),$e(At)}if("07:00"===e&&1===s&&(V(E+1),E<1)){u(v+1),At=Ye.slice(0);var r={date:Ue,time:"07:30",proj:"",save:!1};At.splice(t+1,0,r),$e(At)}if("08:00"===e&&1===s&&(A(_+1),_<1)){u(v+1),At=Ye.slice(0);var a={date:Ue,time:"08:30",proj:"",save:!1};At.splice(t+1,0,a),$e(At)}if("09:00"===e&&1===s&&(M(K+1),K<1)){u(v+1),At=Ye.slice(0);var l={date:Ue,time:"09:30",proj:""};At.splice(t+1,0,l),$e(At)}if("10:00"===e&&1===s&&(B(q+1),q<1)){u(v+1),At=Ye.slice(0);var n={date:Ue,time:"10:30",proj:"",save:!1};At.splice(t+1,0,n),$e(At)}if("11:00"===e&&1===s&&(z(W+1),W<1)){u(v+1),At=Ye.slice(0);var c={date:Ue,time:"11:30",proj:"",save:!1};At.splice(t+1,0,c),$e(At)}if("12:00"===e&&2===s&&($(Y+1),Y<1)){S(b+1),At=st.slice(0);var d={date:Ue,time:"12:30",proj:"",save:!1};At.splice(t+1,0,d),it(At)}if("13:00"===e&&2===s&&(ie(se+1),se<1)){S(b+1),At=st.slice(0);var o={date:Ue,time:"13:30",proj:"",save:!1};At.splice(t+1,0,o),it(At)}if("14:00"===e&&2===s&&(ne(le+1),le<1)){S(b+1),At=st.slice(0);var x={date:Ue,time:"14:30",proj:"",save:!1};At.splice(t+1,0,x),it(At)}if("15:00"===e&&2===s&&(xe(oe+1),oe<1)){S(b+1),At=st.slice(0);var j={date:Ue,time:"15:30",proj:"",save:!1};At.splice(t+1,0,j),it(At)}if("16:00"===e&&2===s&&(me(he+1),he<1)){S(b+1),At=st.slice(0);var p={date:Ue,time:"16:30",proj:"",save:!1};At.splice(t+1,0,p),it(At)}if("17:00"===e&&2===s&&(Ne(fe+1),fe<1)){S(b+1),At=st.slice(0);var h={date:Ue,time:"17:30",proj:"",save:!1};At.splice(t+1,0,h),it(At)}if("18:00"===e&&3===s&&(ge(ye+1),ye<1)){w(Z+1),At=lt.slice(0);var m={date:Ue,time:"18:30",proj:"",save:!1};At.splice(t+1,0,m),nt(At)}if("19:00"===e&&3===s&&(Te(ke+1),ke<1)){w(Z+1),At=lt.slice(0);var f={date:Ue,time:"19:30",proj:"",save:!1};At.splice(t+1,0,f),nt(At)}if("20:00"===e&&3===s&&(Re(De+1),De<1)){w(Z+1),At=lt.slice(0);var N={date:Ue,time:"20:30",proj:"",save:!1};At.splice(t+1,0,N),nt(At)}if("21:00"===e&&3===s&&(Fe(Le+1),Le<1)){w(Z+1),At=lt.slice(0);var y={date:Ue,time:"21:30",proj:"",save:!1};At.splice(t+1,0,y),nt(At)}if("22:00"===e&&3===s&&(Je(He+1),He<1)){w(Z+1),At=lt.slice(0);var g={date:Ue,time:"22:30",proj:""};At.splice(t+1,0,g),nt(At)}if("23:00"===e&&3===s&&(Qe(Oe+1),Oe<1)){w(Z+1),At=lt.slice(0);var k={date:Ue,time:"23:30",proj:""};At.splice(t+1,0,k),nt(At)}},Kt=(0,j.jsx)(d.oo,{autohide:!1,visible:!0,color:"success",className:"text-white align-items-center",children:(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsx)(d.S3,{children:"\u041f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e!"}),(0,j.jsx)(d.Pv,{className:"me-2 m-auto",white:!0})]})}),Mt=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(){var t,s,r,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ft(Kt),t=[].concat(Ye,st,lt),s=JSON.stringify(t),r=(new Date).toLocaleDateString(),a={datestart:r,times:s},e.next=7,(0,x.A0)(a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,n.s0)();return(0,j.jsxs)("div",{className:"dark-theme",children:[(0,j.jsx)(o.S8,{}),(0,j.jsxs)("div",{className:"wrapper d-flex flex-column min-vh-100 bg-uley",children:[(0,j.jsx)(o.tf,{}),(0,j.jsx)("div",{className:"body flex-grow-1 px-3",children:(0,j.jsx)(d.KB,{lg:!0,children:(0,j.jsx)(l.Suspense,{fallback:(0,j.jsx)(d.LQ,{color:"primary"}),children:(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("h2",{children:"\u041f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0440\u0430\u0441\u0441\u044b\u043b\u043e\u043a"}),(0,j.jsx)("br",{}),(0,j.jsx)(d.rb,{children:(0,j.jsx)(d.b7,{xs:!0,children:(0,j.jsxs)(d.xH,{className:"mb-4",children:[(0,j.jsx)(d.bn,{children:"\u0413\u0440\u0430\u0444\u0438\u043a \u0440\u0430\u0441\u0441\u044b\u043b\u043e\u043a"}),(0,j.jsxs)(d.sl,{children:[(0,j.jsx)("br",{}),Dt?(0,j.jsx)("div",{style:{textAlign:"center"},children:(0,j.jsx)(d.LQ,{})}):(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(d.rb,{children:[(0,j.jsx)(d.b7,{xs:!0,children:(0,j.jsxs)("div",{style:{float:"left",display:"flex"},children:[(0,j.jsxs)(d.Sx,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,bordered:!0,style:{float:"left"},children:[(0,j.jsx)(d.V,{className:"table-dark",children:(0,j.jsx)(d.T6,{children:(0,j.jsx)(d.is,{className:"text-center",style:{width:"70px"},children:"\u0414\u0430\u0442\u0430"})})}),(0,j.jsx)(d.NR,{children:(0,j.jsx)(d.T6,{"v-for":"item in tableItems",children:(0,j.jsx)(d.NN,{className:"text-center",style:{width:"50px",height:"".concat(41*v,"px")},children:(0,j.jsx)("div",{children:Ue})})})})]}),(0,j.jsxs)(d.Sx,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,bordered:!0,children:[(0,j.jsx)(d.V,{className:"table-dark",children:(0,j.jsxs)(d.T6,{children:[(0,j.jsx)(d.is,{className:"text-center",children:"\u0412\u0440\u0435\u043c\u044f"}),(0,j.jsx)(d.is,{className:"text-center",children:"\u041f\u0440\u043e\u0435\u043a\u0442"}),(0,j.jsx)(d.is,{className:"text-center",children:"\u0421\u0442\u0430\u0442\u0443\u0441"})]})}),(0,j.jsx)(d.NR,{children:Ye.map((function(e,t){return(0,j.jsxs)(d.T6,{"v-for":"item in tableItems",children:[(0,j.jsx)(d.NN,{className:"text-center",style:{width:"50px"},children:(0,j.jsx)("div",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:(0,j.jsx)("div",{onClick:function(){return Jt("".concat(e.time),t,1)},children:e.time})})}),(0,j.jsx)(d.NN,{style:{width:"180px"},children:(0,j.jsx)("div",{style:{display:e.proj?"block":"none"},children:e.proj})}),(0,j.jsx)(d.NN,{className:"text-center",style:{width:"50px"},children:(0,j.jsx)(d.EC,{id:"rowCheckTab1",checked:ft[t],onChange:function(){return Ht(t,1)},disabled:ot===e.proj||""===e.proj?"":"disabled"})})]},t)}))})]})]})}),(0,j.jsx)(d.b7,{xs:!0,children:(0,j.jsxs)("div",{style:{float:"left",display:"flex"},children:[(0,j.jsxs)(d.Sx,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,bordered:!0,style:{float:"left"},children:[(0,j.jsx)(d.V,{className:"table-dark",children:(0,j.jsx)(d.T6,{children:(0,j.jsx)(d.is,{className:"text-center",style:{width:"70px"},children:"\u0414\u0430\u0442\u0430"})})}),(0,j.jsx)(d.NR,{children:(0,j.jsx)(d.T6,{"v-for":"item in tableItems",children:(0,j.jsx)(d.NN,{className:"text-center",style:{width:"50px",height:"".concat(41*b,"px")},children:(0,j.jsx)("div",{children:Ue})})})})]}),(0,j.jsxs)(d.Sx,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,bordered:!0,children:[(0,j.jsx)(d.V,{className:"table-dark",children:(0,j.jsxs)(d.T6,{children:[(0,j.jsx)(d.is,{className:"text-center",children:"\u0412\u0440\u0435\u043c\u044f"}),(0,j.jsx)(d.is,{className:"text-center",children:"\u041f\u0440\u043e\u0435\u043a\u0442"}),(0,j.jsx)(d.is,{className:"text-center",children:"\u0421\u0442\u0430\u0442\u0443\u0441"})]})}),(0,j.jsx)(d.NR,{children:st.map((function(e,t){return(0,j.jsxs)(d.T6,{"v-for":"item in tableItems",children:[(0,j.jsx)(d.NN,{className:"text-center",style:{width:"50px"},children:(0,j.jsx)("div",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:(0,j.jsx)("div",{onClick:function(){return Jt("".concat(e.time),t,2)},children:e.time})})}),(0,j.jsx)(d.NN,{style:{width:"180px"},children:(0,j.jsx)("div",{style:{display:e.proj?"block":"none"},children:e.proj})}),(0,j.jsx)(d.NN,{className:"text-center",style:{width:"50px"},children:(0,j.jsx)(d.EC,{id:"rowCheckTab2",checked:yt[t],onChange:function(){return Ht(t,2)},disabled:ot===e.proj||""===e.proj?"":"disabled"})})]},t)}))})]})]})}),(0,j.jsx)(d.b7,{xs:!0,children:(0,j.jsxs)("div",{style:{float:"left",display:"flex"},children:[(0,j.jsxs)(d.Sx,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,bordered:!0,style:{float:"left"},children:[(0,j.jsx)(d.V,{className:"table-dark",children:(0,j.jsx)(d.T6,{children:(0,j.jsx)(d.is,{className:"text-center",style:{width:"70px"},children:"\u0414\u0430\u0442\u0430"})})}),(0,j.jsx)(d.NR,{children:(0,j.jsx)(d.T6,{"v-for":"item in tableItems",children:(0,j.jsx)(d.NN,{className:"text-center",style:{width:"70px",height:"".concat(41*Z,"px")},children:(0,j.jsx)("div",{children:Ue})})})})]}),(0,j.jsxs)(d.Sx,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,bordered:!0,children:[(0,j.jsx)(d.V,{className:"table-dark",children:(0,j.jsxs)(d.T6,{children:[(0,j.jsx)(d.is,{className:"text-center",children:"\u0412\u0440\u0435\u043c\u044f"}),(0,j.jsx)(d.is,{className:"text-center",children:"\u041f\u0440\u043e\u0435\u043a\u0442"}),(0,j.jsx)(d.is,{className:"text-center",children:"\u0421\u0442\u0430\u0442\u0443\u0441"})]})}),(0,j.jsx)(d.NR,{children:lt.map((function(e,t){return(0,j.jsxs)(d.T6,{"v-for":"item in tableItems",children:[(0,j.jsx)(d.NN,{className:"text-center",style:{width:"50px"},children:(0,j.jsx)("div",{style:{display:"flex",alignItems:"center",cursor:"pointer"},children:(0,j.jsx)("div",{onClick:function(){return Jt("".concat(e.time),t,3)},children:e.time})})}),(0,j.jsx)(d.NN,{style:{width:"180px"},children:(0,j.jsx)("div",{children:e.proj})}),(0,j.jsx)(d.NN,{className:"text-center",style:{width:"50px"},children:(0,j.jsx)(d.EC,{id:"rowCheckTab3",checked:kt[t],onChange:function(){return Ht(t,3)},disabled:ot===e.proj||""===e.proj?"":"disabled"})})]},t)}))})]})]})})]}),(0,j.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"15px"},children:[(0,j.jsx)("div",{style:{marginRight:"16px"},children:(0,j.jsx)(c.rU,{to:"/distributionw_add",children:(0,j.jsx)(d.u5,{color:"secondary",style:{width:"130px"},children:"\u041d\u0430\u0437\u0430\u0434"})})}),(0,j.jsxs)("div",{children:[(0,j.jsx)(d.u5,{color:"primary",onClick:Mt,style:{width:"130px"},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),(0,j.jsx)(d.KF,{ref:_t,push:Lt,placement:"top-end"})]})]})]})]})]})})})]})})})}),(0,j.jsx)(o.qh,{})]})]})}}}]);
//# sourceMappingURL=470.503aa56d.chunk.js.map