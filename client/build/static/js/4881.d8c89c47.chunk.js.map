{"version":3,"file":"static/js/4881.d8c89c47.chunk.js","mappings":"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","sources":["webpack://client/./src/components/MyModal/MyModal.module.css?67e6","components/MyModal/MyModal.jsx","pages/Distribution.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"myModal\":\"MyModal_myModal__4gy1Y\",\"showModal\":\"MyModal_showModal__gLtSL\",\"myModalContent\":\"MyModal_myModalContent__ncmE+\",\"active\":\"MyModal_active__EyCLh\"};","import React from 'react';\nimport cl from './MyModal.module.css';\n\nconst MyModal = ({children, visible, setVisible}) => {\n\n    const rootClasses = [cl.myModal]\n\n    if (visible) {\n        rootClasses.push(cl.active);\n    }\n\n    return (\n        <div className={rootClasses.join(' ')} onClick={() => setVisible(false)}>\n            <div className={cl.myModalContent} onClick={(e) => e.stopPropagation()}>\n                {children}\n            </div>\n        </div>\n    );\n};\n\nexport default MyModal;","import React, { Suspense, useState, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport { \n  CContainer, \n  CSpinner, \n  CButton, \n  CTable, \n  CTableRow, \n  CTableHead,\n  CTableHeaderCell,\n  CTableBody,\n  CTableDataCell,\n  CCard,\n  CCardBody,\n  CCardHeader,\n  CCol,\n  CRow,\n} from '@coreui/react'\nimport { AppSidebar, AppFooter, AppHeader } from '../components/index'\n\nimport deleteIcon from 'src/assets/images/delete.png'\nimport { useUsersContext } from \"./../chat-app-new/context/usersContext\";\nimport { delDistribution, getDistributions } from 'src/http/adminAPI';\nimport MyModal from \"../components/MyModal/MyModal\";\nimport Close from \"../assets/images/close.svg\"\n\nconst Distribution = () => {\n  const { users: zakazchiki } = useUsersContext();\n  const [distributions, setDistributions]= useState([]);\n  const [loading, setLoading]= useState(true);\n  const [visibleModal, setVisibleModal] = useState(false);\n  const [userReceivers, setUserReceivers]= useState([]);\n  const [count, setCount] = useState(0)\n  const [count2, setCount2] = useState(0)\n\n  //get Distribution\n  useEffect(() => {\n    const fetchData = async () => {\n\t\t\tlet messages = await getDistributions();\n      //console.log(\"distributions: \", messages)\n\n      let strReceivers = ''\n      let countSuccess = 0\n\n      const arrDitributions = []\n      messages.map((distrib, index) => {\n        countSuccess = 0\n        \n        JSON.parse(distrib.receivers).map((receiver)=>{\n          strReceivers = receiver.label + ' '\n          if (receiver.status === 200) {\n            countSuccess = countSuccess + 1\n          }  \n        })\n\n        const d = new Date(distrib.createdAt);\n\t\t\t\tconst year = d.getFullYear();\n\t\t\t\tconst month = String(d.getMonth()+1).padStart(2, \"0\");\n\t\t\t\tconst day = String(d.getDate()).padStart(2, \"0\");\n\t\t\t\tconst chas = d.getHours();\n\t\t\t\tconst minut = String(d.getMinutes()).padStart(2, \"0\");\n\t\t\t\tconst newDateMessage = `${day}.${month}.${year} ${chas}:${minut}`\n\n        const newDistribution = {\n          id: distrib.id,\n\t\t\t\t\tname: distrib.name,\n          text: distrib.text,\n          image: distrib.image.split('5000/')[1] !=='' ? distrib.image: '',\n          button: distrib.button,\n          receivers: countSuccess, //strReceivers, //JSON.parse(distrib.receivers)[index-1].label,\n          datestart: newDateMessage,\n          status: distrib.delivered ? \"отправлено\" : \"не отправлено\",\n          count: JSON.parse(distrib.receivers).length,\n          users: JSON.parse(distrib.receivers)\n\t\t\t\t}\n        //console.log(index)\n        arrDitributions.push(newDistribution)\n      })\n\n      setDistributions(arrDitributions) \n      setLoading(false)\n    }\n\n    fetchData();\n    \n  },[])\n\n  {/* Удаление рассылки */}\n  const removeDescription = async(desk) => {\n    setDistributions(distributions.filter(p => p.id !== desk.id))\n    //удаление сообщения в базе данных\n    await delDistribution(desk.id)\n  }\n\n  const showReceivers = (users) => {\n    console.log(\"users: \", zakazchiki)\n    console.log(\"users2: \", users)\n\n    setVisibleModal(true)\n    let count = 0\n    let count2 = 0\n    let arrReceiver = []\n\n    users.map((item, index)=> {\n      if (item.status === 200) {\n        count++\n      } else {\n        count2++\n      }\n      const worker = zakazchiki.find((i)=> i.chatId === item.value)\n      //console.log(\"worker: \", worker)\n      const obj = {\n        user: item.value,\n        status: item.status,\n        userfamily: worker?.name,\n        username: '',\n      }\n      arrReceiver.push(obj)\n    })\n    setCount(count)\n    setCount2(count2)\n    setUserReceivers(arrReceiver)\n    //setUsers(arrReceiver)\n    //console.log(JSON.stringify(users))\n  }\n\n  return (\n    <div className='dark-theme'>\n      <AppSidebar />\n      <div className=\"wrapper d-flex flex-column min-vh-100 bg-uley\">\n        <AppHeader />\n        <div className=\"body flex-grow-1 px-3\">\n\n            <CContainer lg>\n                <Suspense fallback={<CSpinner color=\"primary\" />}>\n                  <>\n                    <h2>Рассылки</h2>\n                      <Link to={'/distribution_add'}><CButton color=\"primary\" size=\"lg\" >Новая рассылка</CButton></Link>\n                      <br />\n                      <br />\n                      <CRow>\n                        <CCol xs>\n                          <CCard className=\"mb-4\">\n                            <CCardHeader>Рассылки</CCardHeader>\n                            <CCardBody>\n\n                              <br /> \n\n                            {loading ? \n                                  \n                              <CSpinner/> :\n\n                              <CTable align=\"middle\" className=\"mb-0 border\" hover responsive>\n                                <CTableHead className='table-dark'>\n                                  <CTableRow>\n                                    <CTableHeaderCell className=\"text-center\">Дата</CTableHeaderCell>\n                                    <CTableHeaderCell className=\"text-center\">Картинка</CTableHeaderCell>\n                                    <CTableHeaderCell className=\"text-center\">Кнопка</CTableHeaderCell>\n                                    <CTableHeaderCell className=\"text-center\">Текст</CTableHeaderCell>\n                                    <CTableHeaderCell className=\"text-center\">Получатели</CTableHeaderCell>   \n                                    <CTableHeaderCell className=\"text-center\">Статус</CTableHeaderCell>\n                                    <CTableHeaderCell className=\"text-center\">Управление</CTableHeaderCell>\n                                  </CTableRow>\n                                </CTableHead>\n                                <CTableBody>\n                                  {distributions.map((item, index) => (\n                                    <CTableRow v-for=\"item in tableItems\" key={index}>\n                                      {/* <CTableDataCell>\n                                        <div>{index+1}</div>\n                                      </CTableDataCell> */}\n                                      <CTableDataCell className=\"text-center\">\n                                        <div>{item.datestart}</div>\n                                      </CTableDataCell>      \n                                      <CTableDataCell className=\"text-center\">\n                                        {item.image.endsWith('.pdf') ?\n                                        <iframe src={item.image} height=\"120px\" width=\"200px\" title=\"myFramePdf\"/>\n                                        : <div>{item.image ? <a href={item.image} target='_blank' rel=\"noreferrer\"><img src={item.image} alt='' width={230} height={120} style={{objectFit: 'contain'}}></img></a> : ''}</div>\n                                        }\n                                      </CTableDataCell>\n                                      <CTableDataCell className=\"text-center\">\n                                        <div>{item.button}</div>\n                                      </CTableDataCell>\n                                      <CTableDataCell className=\"text-center\" style={{width: '50px'}}>\n                                        <div>{item.text}</div>\n                                      </CTableDataCell>\n                                      <CTableDataCell className=\"text-center\" onClick={()=>showReceivers(item.users)}>\n                                        <div>{item.count} | {item.receivers}</div>\n                                      </CTableDataCell>\n                                      <CTableDataCell className=\"text-center\">\n                                        <div>{item.status}</div>\n                                      </CTableDataCell>\n                                      <CTableDataCell className=\"text-center\">\n                                        <CButton color=\"light\" onClick={() => removeDescription(item)}>\n                                          <img src={deleteIcon} alt='' width='10px' />\n                                        </CButton>\n                                      </CTableDataCell>\n                                    </CTableRow>\n                                  ))}\n                                </CTableBody>\n                              </CTable>\n                            }                              \n                            </CCardBody>\n                          </CCard>\n\n                          <MyModal alignment=\"center\" visible={visibleModal} setVisible={setVisibleModal} onClose={() => setVisibleModal(false)}>\n                                          {/* <CModalHeader>\n                                            <CModalTitle>Получатели рассылки</CModalTitle>\n                                          </CModalHeader> */}\n                                          <div style={{paddingTop: '25px'}}>\n                                            <CRow className=\"mb-3\" >\n                                              <CCol sm={9} >\n                                                <h3>Получатели</h3>\n                                              </CCol>\n                                            </CRow>\n                                          </div>\n                                          \n                                          <img onClick={()=>setVisibleModal(false)} src={Close} alt='' style={{position: 'absolute', right: '20px', top: '20px', width: '15px'}}/>\n                                          <CCardBody>\n\n                                          {/* Рассылка: 800 | Доставлен: 600 | Не доставлено: 200  */}\n                                          <p style={{display: 'flex', justifyContent: 'space-between'}}><span>Рассылка: {count+count2}</span> <span>Доставлено: {count}</span> <span> Не доставлено: {count2}</span></p>  \n\n                                            <div className=\"scroll-table\">\n                                              <CTable align=\"middle\" className=\"mb-0\" responsive style={{color: '#ffffff'}}>\n                                                <CTableHead className='table-dark'>\n                                                  <CTableRow>\n                                                    <CTableHeaderCell scope=\"col\" style={{width: '45px'}}>№</CTableHeaderCell>\n                                                    <CTableHeaderCell scope=\"col\"style={{width: '110px'}}>TelegramID</CTableHeaderCell>\n                                                    <CTableHeaderCell scope=\"col\" style={{width: '170px'}}>ФИО</CTableHeaderCell>\n                                                    <CTableHeaderCell scope=\"col\" style={{width: '100px'}}>Статус</CTableHeaderCell>\n                                                  </CTableRow>\n                                                </CTableHead>\n                                              </CTable>\t\n                                              <div className=\"scroll-table-body\" style={{height: '300px', overflowX: 'auto'}}>\n                                                <CTable>\n                                                  <CTableBody style={{height: '300px', overflowX: 'auto'}}>\n                                                  {userReceivers.map((item, index) => (\n                                                    <CTableRow key={index+1}>\n                                                      <CTableHeaderCell style={{width: '45px'}} scope=\"row\">{index < 9 ? '0'+(index+1) : index+1}</CTableHeaderCell>\n                                                      <CTableDataCell style={{width: '110px'}}>{item.user}</CTableDataCell>\n                                                      <CTableDataCell style={{width: '170px'}}>{item.userfamily} {item.username}</CTableDataCell>\n                                                      <CTableDataCell className='text-center' style={{width: '100px', color: item.status === 200 ? '#7070e7' : 'red'}}>{item.status === 200 ? \"Получено\" : \"Не получено\"}</CTableDataCell>\n                                                    </CTableRow> \n                                                  ))\n                                                  }   \n                                                  </CTableBody>\n                                                </CTable>\n                                              </div>\t\n                                            </div>\n\n                                            {/* <p style={{display: 'flex', justifyContent: 'space-between'}}><span>Получено: {count}</span> <span>Не получено: {count2}</span></p>   */}\n                                          </CCardBody> \n                                          \n                          </MyModal> \n                        </CCol>\n                      </CRow>\n                  </>\n                </Suspense>\n            </CContainer>\n\n        </div>\n        <AppFooter />\n      </div>\n    </div>\n  )\n}\n\nexport default Distribution\n"],"names":["_ref","children","visible","setVisible","rootClasses","cl","push","_jsx","className","join","onClick","e","stopPropagation","Distribution","users","zakazchiki","useUsersContext","distributions","setDistributions","useState","loading","setLoading","visibleModal","setVisibleModal","userReceivers","setUserReceivers","count","setCount","count2","setCount2","useEffect","async","messages","getDistributions","strReceivers","countSuccess","arrDitributions","map","distrib","index","JSON","parse","receivers","receiver","label","status","d","Date","createdAt","year","getFullYear","month","String","getMonth","padStart","newDateMessage","getDate","getHours","getMinutes","newDistribution","id","name","text","image","split","button","datestart","delivered","length","fetchData","_jsxs","AppSidebar","AppHeader","CContainer","lg","Suspense","fallback","CSpinner","color","_Fragment","Link","to","CButton","size","CRow","CCol","xs","CCard","CCardHeader","CCardBody","CTable","align","hover","responsive","CTableHead","CTableRow","CTableHeaderCell","CTableBody","item","CTableDataCell","endsWith","src","height","width","title","href","target","rel","alt","style","objectFit","console","log","arrReceiver","worker","find","i","chatId","value","obj","user","userfamily","username","showReceivers","filter","p","desk","delDistribution","removeDescription","deleteIcon","MyModal","alignment","onClose","paddingTop","sm","Close","position","right","top","display","justifyContent","scope","overflowX","AppFooter"],"sourceRoot":""}