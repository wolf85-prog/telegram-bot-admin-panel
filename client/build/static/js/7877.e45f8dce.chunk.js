"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[7877,686,1266,5582],{60393:function(e,t,s){s.r(t),s.d(t,{default:function(){return f}});var r=s(4942),c=s(1413),i=s(74165),n=s(15861),a=s(29439),l=s(72791),d=s(11087),x=s(78983),u=s(84688),o=s(9936),h=s.p+"static/media/pencil.0ce7745fa668e89bedfc.png",j=s(80225),m=s(69835),p=s(80184),f=function(){var e=(0,j.Z)(),t=e.distributionsWork,s=e.addNewDistrib,f=(0,l.useState)([]),N=(0,a.Z)(f,2),g=N[0],v=N[1],b=(0,l.useState)(!0),S=(0,a.Z)(b,2),w=S[0],y=S[1],Z=(0,l.useState)(""),k=(0,a.Z)(Z,2),I=k[0],J=(k[1],(0,l.useState)(1)),O=(0,a.Z)(J,2),R=(O[0],O[1],(0,l.useState)(0)),_=(0,a.Z)(R,2),C=_[0],D=_[1],F=(0,l.useRef)(),H=(0,p.jsx)(x.oo,{autohide:!0,visible:!0,color:"success",className:"text-white align-items-center",children:(0,p.jsxs)("div",{className:"d-flex",children:[(0,p.jsx)(x.S3,{children:"\u0420\u0430\u0441\u0441\u044b\u043b\u043a\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0430!"}),(0,p.jsx)(x.Pv,{className:"me-2 m-auto",white:!0})]})});(0,l.useEffect)((function(){var e=function(){var e=(0,n.Z)((0,i.Z)().mark((function e(){var s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=[],t.map((function(e,t){var r=new Date(e.datestart),c=r.getFullYear(),i=String(r.getMonth()+1).padStart(2,"0"),n=String(r.getDate()).padStart(2,"0"),a=r.getHours(),l=String(r.getMinutes()).padStart(2,"0"),d="".concat(n,".").concat(i,".").concat(c),x="".concat(a,":").concat(l),u={id:e.id,text:e.text,image:""!==e.image?e.image:"",project:e.project,projectId:e.projectId?e.projectId:"",receivers:e.receivers.replace(/,/gi,"<br/>"),categories:e.receivers,count:e.count,datestart:d,timestart:x,status:e.delivered?"\u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e":"\u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043e",uuid:e.uuid,success:e.success};s.push(u)})),v(s),y(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t]),(0,l.useEffect)((function(){var e=setInterval((function(){s(!0)}),1e4);return function(){return clearInterval(e)}}));var L=function(){var e=(0,n.Z)((0,i.Z)().mark((function e(t){var s,n,a,l,d,x,u,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(H),v(g.filter((function(e){return e.id!==t.id}))),e.next=4,(0,m.YW)(t.id);case 4:return e.next=6,(0,m.Wh)(t.datestart);case 6:return n=e.sent,a=JSON.parse(n.times),l=a.findIndex((function(e){return e.time===t.timestart})),d=JSON.parse(JSON.stringify(a)),x=d[l],d[l]=(0,c.Z)((0,c.Z)({},x),{},(s={},(0,r.Z)(s,"proj",""),(0,r.Z)(s,"save",!1),s)),u=JSON.stringify(d),o={datestart:t.datestart,times:u},e.next=16,(0,m.A0)(o);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,p.jsxs)("div",{className:"dark-theme",children:[(0,p.jsx)(u.S8,{}),(0,p.jsxs)("div",{className:"wrapper d-flex flex-column min-vh-100 bg-uley",children:[(0,p.jsx)(u.tf,{}),(0,p.jsx)("div",{className:"body flex-grow-1 px-3",children:(0,p.jsx)(x.KB,{lg:!0,children:(0,p.jsx)(l.Suspense,{fallback:(0,p.jsx)(x.LQ,{color:"primary"}),children:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h2",{children:"\u0420\u0430\u0441\u0441\u044b\u043b\u043a\u0438"}),(0,p.jsx)(d.rU,{to:"/distributionw_add",children:(0,p.jsx)(x.u5,{color:"primary",size:"lg",children:"\u041d\u043e\u0432\u0430\u044f \u0440\u0430\u0441\u0441\u044b\u043b\u043a\u0430"})}),(0,p.jsx)(x.KF,{ref:F,push:C,placement:"top-end"}),(0,p.jsx)("br",{}),(0,p.jsx)("br",{}),(0,p.jsx)(x.rb,{children:(0,p.jsx)(x.b7,{xs:!0,children:(0,p.jsxs)(x.xH,{className:"mb-4",children:[(0,p.jsx)(x.bn,{children:"\u0420\u0430\u0441\u0441\u044b\u043b\u043a\u0438 \u0434\u043b\u044f \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u043e\u0432"}),(0,p.jsxs)(x.sl,{children:[(0,p.jsx)("br",{}),w?(0,p.jsx)(x.LQ,{}):(0,p.jsxs)(x.Sx,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[(0,p.jsx)(x.V,{className:"table-dark",children:(0,p.jsxs)(x.T6,{children:[(0,p.jsx)(x.is,{className:"text-center",children:"\u0414\u0430\u0442\u0430"}),(0,p.jsx)(x.is,{className:"text-center",children:"\u0412\u0440\u0435\u043c\u044f"}),(0,p.jsx)(x.is,{className:"text-center",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430"}),(0,p.jsx)(x.is,{className:"text-center",children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"}),(0,p.jsx)(x.is,{className:"text-center",children:"\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u0438"}),(0,p.jsx)(x.is,{className:"text-center",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,p.jsx)(x.is,{className:"text-center",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"})]})}),(0,p.jsx)(x.NR,{children:g.map((function(e,t){return(0,p.jsxs)(x.T6,{"v-for":"item in tableItems",style:{height:"130px"},children:[(0,p.jsx)(x.NN,{className:"text-center",style:{width:"50px"},children:(0,p.jsx)("div",{children:e.datestart})}),(0,p.jsx)(x.NN,{className:"text-center",style:{width:"50px"},children:(0,p.jsx)("div",{children:e.timestart})}),(0,p.jsx)(x.NN,{className:"text-center",children:(0,p.jsx)("div",{children:e.project})}),(0,p.jsx)(x.NN,{className:"text-center",children:(0,p.jsx)("div",{dangerouslySetInnerHTML:{__html:e.receivers}})}),(0,p.jsx)(x.NN,{className:"text-center",children:"\u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043e"===e.status?(0,p.jsx)("div",{style:{color:"#3887cd"},children:e.count}):(0,p.jsxs)("div",{children:[e.count," | ",e.success?e.success:""]})}),(0,p.jsx)(x.NN,{className:"text-center",children:"\u0437\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043e"===e.status?(0,p.jsx)("div",{style:{color:"#3887cd"},children:e.status}):(0,p.jsx)("div",{style:{color:"#f5f114"},children:e.status})}),(0,p.jsxs)(x.NN,{className:"text-center",children:[e.projectId?(0,p.jsx)(d.rU,{to:"/distributionw_add",state:{project:e.projectId,id:e.id,category:e.categories,img:e.image,date:e.datestart,uuid:e.uuid},children:(0,p.jsx)(x.u5,{color:"light",style:{marginRight:"10px"},children:(0,p.jsx)("img",{src:h,alt:"",width:"10px"})})}):(0,p.jsx)(d.rU,{to:"",state:{project:"".concat(I)},children:(0,p.jsx)(x.u5,{color:"light",style:{marginRight:"10px"},children:(0,p.jsx)("img",{src:h,alt:"",width:"10px"})})}),(0,p.jsx)(x.u5,{color:"light",onClick:function(){return L(e)},children:(0,p.jsx)("img",{src:o,alt:"",width:"10px"})})]})]},t)}))})]})]})]})})})]})})})}),(0,p.jsx)(u.qh,{})]})]})}},9936:function(e,t,s){e.exports=s.p+"static/media/delete.196e3a0746aa2189534d.png"}}]);
//# sourceMappingURL=7877.e45f8dce.chunk.js.map