"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[1583,6591,7594,4881,3776],{79389:(e,s,t)=>{t.d(s,{A:()=>a});t(65043);const l="MyModal_myModal__4gy1Y",c="MyModal_myModalContent__ncmE+",i="MyModal_active__EyCLh";var r=t(70579);const a=e=>{let{children:s,visible:t,setVisible:a}=e;const n=[l];return t&&n.push(i),(0,r.jsx)("div",{className:n.join(" "),onClick:()=>a(!1),children:(0,r.jsx)("div",{className:c,onClick:e=>e.stopPropagation(),children:s})})}},14881:(e,s,t)=>{t.r(s),t.d(s,{default:()=>j});var l=t(65043),c=t(35475),i=t(93946),r=t(10381),a=t(13866),n=t(6574),d=t(85416),x=t(79389),h=t(38802),o=t(70579);const j=()=>{const{users:e}=(0,n.d)(),[s,t]=(0,l.useState)([]),[j,m]=(0,l.useState)(!0),[p,u]=(0,l.useState)(!1),[g,v]=(0,l.useState)([]),[y,b]=(0,l.useState)(0),[f,N]=(0,l.useState)(0);(0,l.useEffect)((()=>{(async()=>{let e=await(0,d.GJ)(),s="",l=0;const c=[];e.map(((e,t)=>{l=0,JSON.parse(e.receivers).map((e=>{s=e.label+" ",200===e.status&&(l+=1)}));const i=new Date(e.createdAt),r=i.getFullYear(),a=String(i.getMonth()+1).padStart(2,"0"),n=`${String(i.getDate()).padStart(2,"0")}.${a}.${r} ${i.getHours()}:${String(i.getMinutes()).padStart(2,"0")}`,d={id:e.id,name:e.name,text:e.text,image:""!==e.image.split("5000/")[1]?e.image:"",button:e.button,receivers:l,datestart:n,status:e.delivered?"\u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e":"\u043d\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e",count:JSON.parse(e.receivers).length,users:JSON.parse(e.receivers)};c.push(d)})),t(c),m(!1)})()}),[]);return(0,o.jsxs)("div",{className:"dark-theme",children:[(0,o.jsx)(r.GK,{}),(0,o.jsxs)("div",{className:"wrapper d-flex flex-column min-vh-100 bg-uley",children:[(0,o.jsx)(r.jJ,{}),(0,o.jsx)("div",{className:"body flex-grow-1 px-3",children:(0,o.jsx)(i.T5,{lg:!0,children:(0,o.jsx)(l.Suspense,{fallback:(0,o.jsx)(i.JT,{color:"primary"}),children:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("h2",{children:"\u0420\u0430\u0441\u0441\u044b\u043b\u043a\u0438"}),(0,o.jsx)(c.N_,{to:"/distribution_add",children:(0,o.jsx)(i.Q_,{color:"primary",size:"lg",children:"\u041d\u043e\u0432\u0430\u044f \u0440\u0430\u0441\u0441\u044b\u043b\u043a\u0430"})}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)(i.sK,{children:(0,o.jsxs)(i.UF,{xs:!0,children:[(0,o.jsxs)(i.E$,{className:"mb-4",children:[(0,o.jsx)(i.V0,{children:"\u0420\u0430\u0441\u0441\u044b\u043b\u043a\u0438"}),(0,o.jsxs)(i.W6,{children:[(0,o.jsx)("br",{}),j?(0,o.jsx)(i.JT,{}):(0,o.jsxs)(i._v,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[(0,o.jsx)(i.wV,{className:"table-dark",children:(0,o.jsxs)(i.YI,{children:[(0,o.jsx)(i.$s,{className:"text-center",children:"\u0414\u0430\u0442\u0430"}),(0,o.jsx)(i.$s,{className:"text-center",children:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"}),(0,o.jsx)(i.$s,{className:"text-center",children:"\u041a\u043d\u043e\u043f\u043a\u0430"}),(0,o.jsx)(i.$s,{className:"text-center",children:"\u0422\u0435\u043a\u0441\u0442"}),(0,o.jsx)(i.$s,{className:"text-center",children:"\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u0438"}),(0,o.jsx)(i.$s,{className:"text-center",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,o.jsx)(i.$s,{className:"text-center",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"})]})}),(0,o.jsx)(i.jS,{children:s.map(((l,c)=>(0,o.jsxs)(i.YI,{"v-for":"item in tableItems",children:[(0,o.jsx)(i.cC,{className:"text-center",children:(0,o.jsx)("div",{children:l.datestart})}),(0,o.jsx)(i.cC,{className:"text-center",children:l.image.endsWith(".pdf")?(0,o.jsx)("iframe",{src:l.image,height:"120px",width:"200px",title:"myFramePdf"}):(0,o.jsx)("div",{children:l.image?(0,o.jsx)("a",{href:l.image,target:"_blank",rel:"noreferrer",children:(0,o.jsx)("img",{src:l.image,alt:"",width:230,height:120,style:{objectFit:"contain"}})}):""})}),(0,o.jsx)(i.cC,{className:"text-center",children:(0,o.jsx)("div",{children:l.button})}),(0,o.jsx)(i.cC,{className:"text-center",style:{width:"50px"},children:(0,o.jsx)("div",{children:l.text})}),(0,o.jsx)(i.cC,{className:"text-center",onClick:()=>(s=>{console.log("users: ",e),console.log("users2: ",s),u(!0);let t=0,l=0,c=[];s.map(((s,i)=>{200===s.status?t++:l++;const r=e.find((e=>e.chatId===s.value)),a={user:s.value,status:s.status,userfamily:null===r||void 0===r?void 0:r.name,username:""};c.push(a)})),b(t),N(l),v(c)})(l.users),children:(0,o.jsxs)("div",{children:[l.count," | ",l.receivers]})}),(0,o.jsx)(i.cC,{className:"text-center",children:(0,o.jsx)("div",{children:l.status})}),(0,o.jsx)(i.cC,{className:"text-center",children:(0,o.jsx)(i.Q_,{color:"light",onClick:()=>(async e=>{t(s.filter((s=>s.id!==e.id))),await(0,d.us)(e.id)})(l),children:(0,o.jsx)("img",{src:a,alt:"",width:"10px"})})})]},c)))})]})]})]}),(0,o.jsxs)(x.A,{alignment:"center",visible:p,setVisible:u,onClose:()=>u(!1),children:[(0,o.jsx)("div",{style:{paddingTop:"25px"},children:(0,o.jsx)(i.sK,{className:"mb-3",children:(0,o.jsx)(i.UF,{sm:9,children:(0,o.jsx)("h3",{children:"\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u0438"})})})}),(0,o.jsx)("img",{onClick:()=>u(!1),src:h.A,alt:"",style:{position:"absolute",right:"20px",top:"20px",width:"15px"}}),(0,o.jsxs)(i.W6,{children:[(0,o.jsxs)("p",{style:{display:"flex",justifyContent:"space-between"},children:[(0,o.jsxs)("span",{children:["\u0420\u0430\u0441\u0441\u044b\u043b\u043a\u0430: ",y+f]})," ",(0,o.jsxs)("span",{children:["\u0414\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043e: ",y]})," ",(0,o.jsxs)("span",{children:[" \u041d\u0435 \u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043e: ",f]})]}),(0,o.jsxs)("div",{className:"scroll-table",children:[(0,o.jsx)(i._v,{align:"middle",className:"mb-0",responsive:!0,style:{color:"#ffffff"},children:(0,o.jsx)(i.wV,{className:"table-dark",children:(0,o.jsxs)(i.YI,{children:[(0,o.jsx)(i.$s,{scope:"col",style:{width:"45px"},children:"\u2116"}),(0,o.jsx)(i.$s,{scope:"col",style:{width:"110px"},children:"TelegramID"}),(0,o.jsx)(i.$s,{scope:"col",style:{width:"170px"},children:"\u0424\u0418\u041e"}),(0,o.jsx)(i.$s,{scope:"col",style:{width:"100px"},children:"\u0421\u0442\u0430\u0442\u0443\u0441"})]})})}),(0,o.jsx)("div",{className:"scroll-table-body",style:{height:"300px",overflowX:"auto"},children:(0,o.jsx)(i._v,{children:(0,o.jsx)(i.jS,{style:{height:"300px",overflowX:"auto"},children:g.map(((e,s)=>(0,o.jsxs)(i.YI,{children:[(0,o.jsx)(i.$s,{style:{width:"45px"},scope:"row",children:s<9?"0"+(s+1):s+1}),(0,o.jsx)(i.cC,{style:{width:"110px"},children:e.user}),(0,o.jsxs)(i.cC,{style:{width:"170px"},children:[e.userfamily," ",e.username]}),(0,o.jsx)(i.cC,{className:"text-center",style:{width:"100px",color:200===e.status?"#7070e7":"red"},children:200===e.status?"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043e":"\u041d\u0435 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e"})]},s+1)))})})})]})]})]})]})})]})})})}),(0,o.jsx)(r.jI,{})]})]})}},13866:(e,s,t)=>{e.exports=t.p+"static/media/delete.f99f80f9f8bc04e68e4a.png"}}]);
//# sourceMappingURL=1583.fb3dd850.chunk.js.map