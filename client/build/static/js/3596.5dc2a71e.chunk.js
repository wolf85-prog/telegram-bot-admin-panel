"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[3596,1321,8532,1165,3437,3214],{54315:function(e,s,t){t(72791);s.Z=t.p+"static/media/close.292280e2a4c33572fa44d4be444aac11.svg"},5677:function(e,s,t){t.d(s,{Z:function(){return l}});t(72791);var r="MyModal_myModal__PMGvr",n="MyModal_myModalContent__SsdJo",i="MyModal_active__-NfGc",c=t(80184),l=function(e){var s=e.children,t=e.visible,l=e.setVisible,a=[r];return t&&a.push(i),(0,c.jsx)("div",{className:a.join(" "),onClick:function(){return l(!1)},children:(0,c.jsx)("div",{className:n,onClick:function(e){return e.stopPropagation()},children:s})})}},93437:function(e,s,t){t.r(s);var r=t(74165),n=t(15861),i=t(29439),c=t(72791),l=t(11087),a=t(78983),d=t(10935),x=t(9936),o=t(26213),h=t(69835),u=t(5677),j=t(54315),m=t(80184);s.default=function(){var e=(0,o.Z)().users,s=(0,c.useState)([]),t=(0,i.Z)(s,2),p=t[0],f=t[1],N=(0,c.useState)(!0),v=(0,i.Z)(N,2),g=v[0],b=v[1],y=(0,c.useState)(!1),w=(0,i.Z)(y,2),S=w[0],Z=w[1],k=(0,c.useState)([]),M=(0,i.Z)(k,2),_=M[0],C=M[1],T=(0,c.useState)(0),J=(0,i.Z)(T,2),F=J[0],V=J[1],D=(0,c.useState)(0),I=(0,i.Z)(D,2),O=I[0],P=I[1];(0,c.useEffect)((function(){var e=function(){var e=(0,n.Z)((0,r.Z)().mark((function e(){var s,t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.$J)();case 2:s=e.sent,"",t=0,n=[],s.map((function(e,s){t=0,JSON.parse(e.receivers).map((function(e){e.label+" ",200===e.status&&(t+=1)}));var r=new Date(e.createdAt),i=r.getFullYear(),c=String(r.getMonth()+1).padStart(2,"0"),l=String(r.getDate()).padStart(2,"0"),a=r.getHours(),d=String(r.getMinutes()).padStart(2,"0"),x="".concat(l,".").concat(c,".").concat(i," ").concat(a,":").concat(d),o={id:e.id,name:e.name,text:e.text,image:""!==e.image.split("5000/")[1]?e.image:"",button:e.button,receivers:t,datestart:x,status:e.delivered?"\u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e":"\u043d\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e",count:JSON.parse(e.receivers).length,users:JSON.parse(e.receivers)};n.push(o)})),f(n),b(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var G=function(){var e=(0,n.Z)((0,r.Z)().mark((function e(s){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(p.filter((function(e){return e.id!==s.id}))),e.next=3,(0,h.vo)(s.id);case 3:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();return(0,m.jsxs)("div",{className:"dark-theme",children:[(0,m.jsx)(d.S8,{}),(0,m.jsxs)("div",{className:"wrapper d-flex flex-column min-vh-100 bg-uley",children:[(0,m.jsx)(d.tf,{}),(0,m.jsx)("div",{className:"body flex-grow-1 px-3",children:(0,m.jsx)(a.KB,{lg:!0,children:(0,m.jsx)(c.Suspense,{fallback:(0,m.jsx)(a.LQ,{color:"primary"}),children:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h2",{children:"\u0420\u0430\u0441\u0441\u044b\u043b\u043a\u0438"}),(0,m.jsx)(l.rU,{to:"/distribution_add",children:(0,m.jsx)(a.u5,{color:"primary",size:"lg",children:"\u041d\u043e\u0432\u0430\u044f \u0440\u0430\u0441\u0441\u044b\u043b\u043a\u0430"})}),(0,m.jsx)("br",{}),(0,m.jsx)("br",{}),(0,m.jsx)(a.rb,{children:(0,m.jsxs)(a.b7,{xs:!0,children:[(0,m.jsxs)(a.xH,{className:"mb-4",children:[(0,m.jsx)(a.bn,{children:"\u0420\u0430\u0441\u0441\u044b\u043b\u043a\u0438"}),(0,m.jsxs)(a.sl,{children:[(0,m.jsx)("br",{}),g?(0,m.jsx)(a.LQ,{}):(0,m.jsxs)(a.Sx,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[(0,m.jsx)(a.V,{className:"table-dark",children:(0,m.jsxs)(a.T6,{children:[(0,m.jsx)(a.is,{className:"text-center",children:"\u0414\u0430\u0442\u0430"}),(0,m.jsx)(a.is,{className:"text-center",children:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"}),(0,m.jsx)(a.is,{className:"text-center",children:"\u041a\u043d\u043e\u043f\u043a\u0430"}),(0,m.jsx)(a.is,{className:"text-center",children:"\u0422\u0435\u043a\u0441\u0442"}),(0,m.jsx)(a.is,{className:"text-center",children:"\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u0438"}),(0,m.jsx)(a.is,{className:"text-center",children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,m.jsx)(a.is,{className:"text-center",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435"})]})}),(0,m.jsx)(a.NR,{children:p.map((function(s,t){return(0,m.jsxs)(a.T6,{"v-for":"item in tableItems",children:[(0,m.jsx)(a.NN,{className:"text-center",children:(0,m.jsx)("div",{children:s.datestart})}),(0,m.jsx)(a.NN,{className:"text-center",children:s.image.endsWith(".pdf")?(0,m.jsx)("iframe",{src:s.image,height:"120px",width:"200px",title:"myFramePdf"}):(0,m.jsx)("div",{children:s.image?(0,m.jsx)("a",{href:s.image,target:"_blank",rel:"noreferrer",children:(0,m.jsx)("img",{src:s.image,alt:"",width:230,height:120,style:{objectFit:"contain"}})}):""})}),(0,m.jsx)(a.NN,{className:"text-center",children:(0,m.jsx)("div",{children:s.button})}),(0,m.jsx)(a.NN,{className:"text-center",style:{width:"50px"},children:(0,m.jsx)("div",{children:s.text})}),(0,m.jsx)(a.NN,{className:"text-center",onClick:function(){return function(s){console.log("users: ",e),console.log("users2: ",s),Z(!0);var t=0,r=0,n=[];s.map((function(s,i){200===s.status?t++:r++;var c=e.find((function(e){return e.chatId===s.value})),l={user:s.value,status:s.status,userfamily:null===c||void 0===c?void 0:c.name,username:""};n.push(l)})),V(t),P(r),C(n)}(s.users)},children:(0,m.jsxs)("div",{children:[s.count," | ",s.receivers]})}),(0,m.jsx)(a.NN,{className:"text-center",children:(0,m.jsx)("div",{children:s.status})}),(0,m.jsx)(a.NN,{className:"text-center",children:(0,m.jsx)(a.u5,{color:"light",onClick:function(){return G(s)},children:(0,m.jsx)("img",{src:x,alt:"",width:"10px"})})})]},t)}))})]})]})]}),(0,m.jsxs)(u.Z,{alignment:"center",visible:S,setVisible:Z,onClose:function(){return Z(!1)},children:[(0,m.jsx)("div",{style:{paddingTop:"25px"},children:(0,m.jsx)(a.rb,{className:"mb-3",children:(0,m.jsx)(a.b7,{sm:9,children:(0,m.jsx)("h3",{children:"\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u0438"})})})}),(0,m.jsx)("img",{onClick:function(){return Z(!1)},src:j.Z,alt:"",style:{position:"absolute",right:"20px",top:"20px",width:"15px"}}),(0,m.jsxs)(a.sl,{children:[(0,m.jsxs)("p",{style:{display:"flex",justifyContent:"space-between"},children:[(0,m.jsxs)("span",{children:["\u0420\u0430\u0441\u0441\u044b\u043b\u043a\u0430: ",F+O]})," ",(0,m.jsxs)("span",{children:["\u0414\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043e: ",F]})," ",(0,m.jsxs)("span",{children:[" \u041d\u0435 \u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043e: ",O]})]}),(0,m.jsxs)("div",{className:"scroll-table",children:[(0,m.jsx)(a.Sx,{align:"middle",className:"mb-0",responsive:!0,style:{color:"#ffffff"},children:(0,m.jsx)(a.V,{className:"table-dark",children:(0,m.jsxs)(a.T6,{children:[(0,m.jsx)(a.is,{scope:"col",style:{width:"45px"},children:"\u2116"}),(0,m.jsx)(a.is,{scope:"col",style:{width:"110px"},children:"TelegramID"}),(0,m.jsx)(a.is,{scope:"col",style:{width:"170px"},children:"\u0424\u0418\u041e"}),(0,m.jsx)(a.is,{scope:"col",style:{width:"100px"},children:"\u0421\u0442\u0430\u0442\u0443\u0441"})]})})}),(0,m.jsx)("div",{className:"scroll-table-body",style:{height:"300px",overflowX:"auto"},children:(0,m.jsx)(a.Sx,{children:(0,m.jsx)(a.NR,{style:{height:"300px",overflowX:"auto"},children:_.map((function(e,s){return(0,m.jsxs)(a.T6,{children:[(0,m.jsx)(a.is,{style:{width:"45px"},scope:"row",children:s<9?"0"+(s+1):s+1}),(0,m.jsx)(a.NN,{style:{width:"110px"},children:e.user}),(0,m.jsxs)(a.NN,{style:{width:"170px"},children:[e.userfamily," ",e.username]}),(0,m.jsx)(a.NN,{className:"text-center",style:{width:"100px",color:200===e.status?"#7070e7":"red"},children:200===e.status?"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u043e":"\u041d\u0435 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043e"})]},s+1)}))})})})]})]})]})]})})]})})})}),(0,m.jsx)(d.qh,{})]})]})}},9936:function(e,s,t){e.exports=t.p+"static/media/delete.c717e72a516ce28e53c7.png"}}]);
//# sourceMappingURL=3596.5dc2a71e.chunk.js.map