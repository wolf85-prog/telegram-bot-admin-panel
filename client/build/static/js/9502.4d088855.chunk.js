"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[9502,6591,2288],{77665:(e,t,s)=>{s.d(t,{A:()=>l});s(65043);const l=s.p+"static/media/arrowDown.4f7021c2d42a26d0369da8983c53315a.svg"},12642:(e,t,s)=>{s.d(t,{By:()=>n,HN:()=>i,JQ:()=>c,e3:()=>a,qf:()=>r});var l=s(15830);const c=async()=>{try{return(await l.dU.get("api/projectnew/get")).data}catch(e){console.log("error while calling getSpecialist api",e.message)}},r=async()=>{try{return(await l.dU.get("api/projectnew/delete/get")).data}catch(e){console.log("error while calling getProjectsDel api",e.message)}},a=async(e,t)=>{try{await l.dU.patch(`api/projectnew/update/${t}`,e)}catch(s){console.log("error while calling editProject api",s.message)}},n=async e=>{try{return(await l.dU.post("api/projectnew/add",e)).data}catch(t){console.log("error while calling addProject api",t.message)}},i=async e=>{try{return(await l.dU.get(`api/projectnew/get/${e}`)).data}catch(t){console.log("error while calling getProjectId api",t.message)}}},2288:(e,t,s)=>{s.r(t),s.d(t,{default:()=>p});var l=s(65043),c=s(10381),r=(s(58786),s(93946)),a=s(6574),n=s(77665),i=s(34283),d=s(76276),o=s(12642),x=s(70579);const p=()=>{const{setCountPretendent:e,pretendents:t,setPretendents:s}=(0,a.d)(),[p,h]=(0,l.useState)([]),[j,m]=(0,l.useState)([]),[g,u]=(0,l.useState)(!0),[w,v]=(0,l.useState)(!0),[y,N]=(0,l.useState)([]),[S,k]=(0,l.useState)([]),[f,b]=(0,l.useState)(""),[C,I]=(0,l.useState)(0),[$,J]=(0,l.useState)(0),[U,A]=(0,l.useState)(!1);(0,l.useEffect)((()=>{const t=[];e(0);(async()=>{let e=await(0,i._1)(20,C);console.log("pretendents workers: ",e),I(C+20);let l=await(0,d.uN)(),c=await(0,o.JQ)();e.map((async(e,r)=>{let a=c.find((t=>t.id===parseInt(e.projectId)));const n=null===a||void 0===a?void 0:a.name;let i=l.find((t=>t.chatId===e.receiverId));const d=null===i||void 0===i?void 0:i.fio,o=null!==i&&void 0!==i&&i.worklist?JSON.parse(null===i||void 0===i?void 0:i.worklist):"",x=null!==i&&void 0!==i&&i.rank?null===i||void 0===i?void 0:i.rank:"",p=null!==i&&void 0!==i&&i.comment?null===i||void 0===i?void 0:i.comment:"",h=null===i||void 0===i?void 0:i.phone,j=new Date(e.createdAt).getTime(),g=new Date(j),u=String(g.getMonth()+1).padStart(2,"0"),w=`${String(g.getDate()).padStart(2,"0")}.${u} ${g.getHours()}:${String(g.getMinutes()).padStart(2,"0")}`,v={workerId:e.workerId,date:w,projectId:e.projectId,project:n,workerFamily:d,worklist:o,rang:x,comment:p?JSON.parse(p)[0].content:"",phone:h,accept:e.accept};t.push(v),m(t),s(t)})),v(!1),A(!1)})()}),[$]);return(0,x.jsxs)("div",{className:"dark-theme",children:[(0,x.jsx)(c.GK,{}),(0,x.jsxs)("div",{className:"wrapper d-flex flex-column min-vh-100 bg-uley",children:[(0,x.jsx)(c.jJ,{}),(0,x.jsx)("div",{className:"body flex-grow-1 px-3",children:(0,x.jsx)(r.T5,{lg:!0,children:(0,x.jsxs)(l.Suspense,{fallback:(0,x.jsx)(r.JT,{color:"primary"}),children:[(0,x.jsx)(r.sK,{className:"mb-3",children:(0,x.jsx)(r.UF,{sm:3,children:(0,x.jsx)(r.OG,{placeholder:"\u041f\u043e\u0438\u0441\u043a...",onChange:e=>b(e.target.value),"aria-label":"spec"})})}),(0,x.jsx)(r.sK,{children:(0,x.jsx)(r.UF,{style:{textAlign:"center"},children:(0,x.jsx)(r.E$,{className:"mb-4",children:(0,x.jsxs)(r.W6,{children:[w?(0,x.jsx)(r.JT,{}):(0,x.jsxs)(r._v,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[(0,x.jsx)(r.wV,{className:"table-light",children:(0,x.jsxs)(r.YI,{children:[(0,x.jsx)(r.$s,{className:"text-center",style:{width:"200px"},children:"\u0414\u0430\u0442\u0430"}),(0,x.jsx)(r.$s,{className:"text-center",style:{width:"320px"},children:"\u041f\u0440\u043e\u0435\u043a\u0442"}),(0,x.jsx)(r.$s,{className:"text-center",style:{width:"370px"},children:"\u0424\u0418\u041e"}),(0,x.jsx)(r.$s,{className:"text-center",style:{width:"160px"},children:"\u0421\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c"}),(0,x.jsx)(r.$s,{className:"text-center",style:{width:"100px"},children:"U.L.E.Y"}),(0,x.jsx)(r.$s,{className:"text-center",children:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"}),(0,x.jsx)(r.$s,{className:"text-center",style:{width:"250px"},children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"})]})}),(0,x.jsx)(r.jS,{children:j.map(((e,t)=>(0,x.jsxs)(r.YI,{"v-for":"item in tableItems",children:[(0,x.jsx)(r.cC,{className:"text-center",style:{color:!e.accept&&"red"},children:e.date}),(0,x.jsx)(r.cC,{className:"text-center",style:{color:!e.accept&&"red"},children:(0,x.jsx)(r.jl,{content:e.projectId,placement:"top",children:(0,x.jsx)("div",{children:e.project})})}),(0,x.jsx)(r.cC,{className:"text-center",style:{color:e.dateborn>=2005||!e.accept?"red":""},children:(0,x.jsx)(r.jl,{content:e.workerId,placement:"top",children:(0,x.jsx)("div",{children:e.workerFamily})})}),(0,x.jsxs)(r.cC,{style:{fontSize:"13px",textAlign:"left"},children:[(0,x.jsx)("div",{onClick:()=>{return e=t,console.log(e,y[e]),void N((t=>({...t,[e]:!t[e]})));var e},style:{cursor:"pointer"},children:y[t]?(0,x.jsx)("br",{}):"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c"}),(0,x.jsx)(r.x8,{visible:y[t],children:(0,x.jsx)("table",{children:e.worklist?e.worklist.map(((e,t)=>(0,x.jsx)("tr",{children:(0,x.jsxs)("td",{children:["- ",e.spec]})},t))):""})})]}),(0,x.jsx)(r.cC,{className:"text-center",style:{color:!e.accept&&"red"},children:e.rang}),(0,x.jsxs)(r.cC,{style:{fontSize:"13px",textAlign:"left"},children:[(0,x.jsx)("div",{onClick:()=>{return e=t,void k((t=>({...t,[e]:!t[e]})));var e},style:{cursor:"pointer"},children:S[t]?(0,x.jsx)("br",{}):e.comment?"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c":""}),(0,x.jsx)(r.x8,{visible:S[t],children:e.comment?e.comment:(0,x.jsx)(x.Fragment,{})})]}),(0,x.jsx)(r.cC,{className:"text-center",style:{color:!e.accept&&"red"},children:(0,x.jsx)("div",{children:e.phone})})]},t)))})]}),U?(0,x.jsx)(r.JT,{}):"",(0,x.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,x.jsx)("img",{src:n.A,alt:"",onClick:()=>(async()=>{A(!0);let e=await(0,i._1)(20,C);console.log("pretendent size: ",e.length),J(C+20),console.log("\u0412\u0441\u0435\u0433\u043e \u0441\u0435\u0439\u0447\u0430\u0441: ",e.length)})(),style:{width:"50px",marginTop:"15px",cursor:"pointer"}})})]})})})})]})})}),(0,x.jsx)(c.jI,{})]})]})}}}]);
//# sourceMappingURL=9502.4d088855.chunk.js.map