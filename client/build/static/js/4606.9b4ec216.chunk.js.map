{"version":3,"file":"static/js/4606.9b4ec216.chunk.js","mappings":"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","sources":["chat-app-worker/components/Sidebar/Contact.jsx","chat-app-worker/components/Sidebar/index.jsx","chat-app-worker/components/Icon/index.jsx","chat-app-worker/pages/Chat/components/EmojiTray.jsx","chat-app-worker/pages/Chat/components/useAutosizeTextArea.ts","../node_modules/react-bootstrap/esm/types.js","../node_modules/react-bootstrap/esm/DropdownButton.js","../node_modules/react-bootstrap/esm/ButtonGroup.js","chat-app-worker/pages/Chat/components/ChatInput.jsx","chat-app-worker/components/OptionsButton/index.jsx","chat-app-worker/pages/Chat/components/Header.jsx","chat-app-worker/pages/Chat/components/ChatSidebar.jsx","chat-app-worker/pages/Chat/components/Search.jsx","chat-app-worker/pages/Chat/components/Profile.jsx","chat-app-worker/assets/images/sp-i-m-image-placeholder.svg","chat-app-worker/pages/Chat/components/Convo.jsx","chat-app-worker/pages/Chat/components/ChatSidebarProfile.jsx","chat-app-worker/pages/Chat/index.jsx","pages/ChatWorker.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\nimport Icon from \"src/chat-app-new/components/Icon\";\nimport { Link } from \"react-router-dom\";\nimport formatTime from \"./../../../chat-app-new/utils/formatTime\";\nimport { AccountContext } from './../../../chat-app-new/context/AccountProvider'\nimport avatarDefault from \"./../../../chat-app-new/assets/images/no-avatar.png\";\nimport avatarBlacklist from \"./../../../chat-app-worker/assets/images/uncheck.png\";\n\nimport { useUsersContext } from \"./../../../chat-app-new/context/usersContext\";\n\nconst Contact = ({ contact, worker }) => {\n\t//console.log(\"worker contact: \", worker)\n\tconst { setPersonW } = useContext(AccountContext);\n\tconst host = process.env.REACT_APP_API_URL\n\t\n\t//сделать пользователя непрочитанным\n\tconst { setUserWorkerAsUnread, setCountMessageWork } = useUsersContext();\n\n\t//обработка нажатия на пользователя из списка\n    const getUser = async () => {\n        setPersonW({\n            name: contact.name, \n            id: contact.chatId, \n\t\t\tavatar: contact.avatar\n        });\n\t\tsetUserWorkerAsUnread(contact.chatId)\n\t\tsetCountMessageWork(0)\n\n\t\t//console.log(\"click\")\n    }\n\t\n\tconst getLastMessage = () => {\n\t\t\tconst messageDates = Object.keys(contact.messages);\t\n\t\t\tlet recentMessageDate\n\t\t\t\n\t\t\tmessageDates.length !== 0 \t\n\t\t\t? recentMessageDate = messageDates[messageDates.length - 1]\n\t\t\t: recentMessageDate = '2000-01-01'\n\n\t\t\tlet messages = [];\n\t\t\tif (JSON.stringify(contact.messages) !== '{}') {\n\t\t\t\tmessages = [...contact.messages[recentMessageDate]];\n\t\t\t}\t\n\n\t\t\tif (messages.length) {\n\t\t\t\tconst lastMessage = messages.pop();\n\t\t\t\treturn lastMessage;\n\t\t\t} \n\t\t\tconst lastMessage = '';\n\t\t\treturn lastMessage;\n\t};\n\n\tconst lastMessage = getLastMessage(contact);\n\n\treturn (\n\t\t<Link\n\t\t\tclassName=\"sidebar-contact\"\n\t\t\tonClick={() => getUser()}\n\t\t>\n\t\t\t<div className=\"sidebar-contact__avatar-wrapper\" style={{position: 'relative'}}>\n\t\t\t\t{\n\t\t\t\t\tcontact.avatar\n\t\t\t\t\t? <img src={`${contact.avatar}`} alt='' className=\"avatar-adm\" />\n\t\t\t\t\t: <img src={avatarDefault} alt='' className=\"avatar-adm\" />\n\t\t\t\t}\n\t\t\t\t{\n\t\t\t\tworker.length !== 0 ? \n\t\t\t\t((JSON.parse(worker[0].worklist)).findIndex(item => item.spec === 'Blacklist') === 0 ? \n\t\t\t\t<img src={avatarBlacklist} alt='' width={18} style={{position: 'absolute', top: '34px', left: '32px'}}/>\n\t\t\t\t: \"\")\n\t\t\t\t: \"\"\n\t\t\t\t}\n\t\t\t</div>\n\t\t\t<div className=\"sidebar-contact__content\">\n\t\t\t\t<div className=\"sidebar-contact__top-content\">\n\t\t\t\t\t<h2 className=\"sidebar-contact__name\">{contact.name}</h2>\n\t\t\t\t\t<span className=\"sidebar-contact__time\">\n\t\t\t\t\t\t{lastMessage === ''  ? '' : formatTime(lastMessage.time)}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"sidebar-contact__bottom-content\">\n\t\t\t\t\t<p className=\"sidebar-contact__message-wrapper\">\n\t\t\t\t\t\t{lastMessage.status && (\n\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\tid={\n\t\t\t\t\t\t\t\t\tlastMessage?.status === \"sent\" ? \"singleTick\" : \"doubleTick\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\taria-label={lastMessage?.status}\n\t\t\t\t\t\t\t\tclassName={`sidebar-contact__message-icon ${\n\t\t\t\t\t\t\t\t\tlastMessage?.status === \"read\"\n\t\t\t\t\t\t\t\t\t\t? \"sidebar-contact__message-icon--blue\"\n\t\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName={`sidebar-contact__message ${\n\t\t\t\t\t\t\t\t!!contact.unread ? \"sidebar-contact__message--unread\" : \"\"\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{contact.typing ? <i> печатает...</i> : lastMessage?.content}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</p>\n\t\t\t\t\t<div className=\"sidebar-contact__icons\">\n\t\t\t\t\t\t{contact.pinned && (\n\t\t\t\t\t\t\t<Icon id=\"pinned\" className=\"sidebar-contact__icon\" />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{!!contact.unread && (\n\t\t\t\t\t\t\t<span className=\"sidebar-contact__unread\">{contact.unread}</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<button aria-label=\"sidebar-contact__btn\">\n\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\tid=\"downArrow\"\n\t\t\t\t\t\t\t\tclassName=\"sidebar-contact__icon sidebar-contact__icon--dropdown\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Link>\n\t);\n};\n\nexport default Contact;\n","import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./styles/main.css\";\nimport avatar from \"./../../../chat-app-new/assets/images/logo_chat_admin.png\";\nimport Icon from \"./../../../chat-app-new/components/Icon\";\nimport Contact from \"./Contact\";\nimport OptionsBtn from \"./../../../chat-app-new/components/OptionsButton\";\nimport { useUsersContext } from \"./../../../chat-app-new/context/usersContext\";\nimport { CSpinner} from '@coreui/react'\n\nconst Sidebar = () => {\n\tconst { userWorkers, workers } = useUsersContext();\n    const chatAdminId = process.env.REACT_APP_CHAT_ADMIN_ID \n\tconst [contacts, setContacts]= useState([]);\n\tconst [text, setText]= useState(\"\");\n\tconst [loading, setLoading]= useState(true);\n\n\tconst navigate = useNavigate()\n\n\tuseEffect(() => {\n\n\t\t//сортировка\n\t\tconst userSort = [...userWorkers].sort((a, b) => {       \n\t\t\tvar dateA = new Date(a.date), dateB = new Date(b.date) \n\t\t\treturn dateB-dateA //сортировка по убывающей дате  \n\t\t})\n\n\t\t//console.log(\"sidebar userWorkers: \", userSort)\n\t\tsetContacts(userSort)\n\t\t\n\t\tif(userWorkers.length > 0) {\n\t\t\tsetLoading(false)\n\t\t}\t\t\n\t\t\n\t},[userWorkers])\n\n\t\n\tuseEffect(() => {\n\t\tconst filteredData = userWorkers.filter(user=> (user.name)?.toLowerCase().includes(text.toLowerCase()));\n        setContacts(filteredData);      \n    }, [text]);\n\n\n\tconst onSelected = (index) => {\n\t\tswitch(index) {\n\t\t\tcase 0: //данные о контакте\n\t\t\t\tconsole.log('Профиль')\n\t\t\t\tbreak\n\t\t  \n\t\t\tcase 1: \n\t\t\t\tconsole.log('1')\n\t\t\t\tbreak\n\t\t\t\n\t\t\tcase 4: \n\t\t\t\tnavigate(\"/dashboard\");\n\t\t\t\tbreak\n\t\t  \n\t\t\tdefault:\n\t\t\t\tconsole.log(\"В разработке\")\n\t\t\t\tbreak\n\t\t  }\n\t};\n\n\t// const getNeedWorker = (contact) => {\n\t// \tworkers.find((item)=> item.chatId === contact.chatId)}\n\t// };\n\n\treturn (\n\t\t<aside className=\"sidebarB\">\n\t\t\t{/* Header */}\n\t\t\t<header className=\"headerB\">\n\t\t\t\t<div className=\"sidebar__avatar-wrapper\">\n\t\t\t\t\t<img src={avatar} alt='U.L.E.Y' className=\"avatar-adm\" />\n\t\t\t\t</div>\n\t\t\t\t<div>Специалисты</div>\n\t\t\t\t<div className=\"sidebar__actions\">\n\t\t\t\t\t<OptionsBtn\n\t\t\t\t\t\tclassName=\"sidebar__action\"\n\t\t\t\t\t\tariaLabel=\"Menu\"\n\t\t\t\t\t\ticonId=\"menu\"\n\t\t\t\t\t\ticonClassName=\"sidebar__action-icon\"\n\t\t\t\t\t\tonSelected={onSelected}\n\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\"Профиль\",\n\t\t\t\t\t\t\t// \"Архив\",\n\t\t\t\t\t\t\t// \"Избранные сообщения\",\n\t\t\t\t\t\t\t// \"Настройки\",\n\t\t\t\t\t\t\t// \"Вернуться в панель управления\",\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</header>\n\t\t\t\n\t\t\t{/* Search */}\n\t\t\t<div className=\"search-wrapper\">\n\t\t\t\t<div className=\"search-icons\">\n\t\t\t\t\t<Icon id=\"search\" className=\"search-icon\" />\n\t\t\t\t\t<button className=\"search__back-btn\">\n\t\t\t\t\t\t<Icon id=\"back\" />\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<input \n\t\t\t\t\tclassName=\"search\" \n\t\t\t\t\tplaceholder=\"Поиск специалиста\" \n\t\t\t\t\tonChange={(e)=>setText(e.target.value)}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t\n\t\t\t{/* Conversations */}\n\t\t\t<div className=\"sidebar__contacts\">\n\t\t\t\t{loading ? \n\t\t\t\t<CSpinner style={{margin: '50%'}}/> :\n\t\t\t\t\n\t\t\t\tcontacts.map((contact) => (\n\t\t\t\t\tcontact.chatId !== chatAdminId &&\n                    <>   \n\t\t\t\t\t\t<Contact contact={contact} worker={workers.filter((item)=> item.chatId === contact.chatId)} />\n\t\t\t\t\t</>\n\t\t\t\t))\n\t\t\t\t}\n\t\t\t</div>\n\t\t</aside>\n\t);\n};\n\nexport default Sidebar;\n","import Icons from \"../../../chat-app-new/assets/icons\";\nimport React from \"react\";\n\nconst allIcons = Icons;\n\nconst Icon = ({ id, ...props }) => {\n\tconst selectedIcon = allIcons[id];\n\treturn selectedIcon ? selectedIcon(props) : null;\n};\n\nexport default Icon;\n","import React from \"react\";\nimport Icon from \"./../../../components/Icon\";\n\nconst emojiTabs = [\n\t{ icon: \"recent\", label: \"Recent emojis\", active: true },\n\t{ icon: \"emojiPeople\", label: \"People emojis\", active: false },\n\t{ icon: \"emojiNature\", label: \"Nature emojis\", active: false },\n\t{ icon: \"emojiFood\", label: \"Food emojis\", active: false },\n\t{ icon: \"emojiActivity\", label: \"Activity emojis\", active: false },\n\t{ icon: \"emojiTravel\", label: \"Travel emojis\", active: false },\n\t{ icon: \"emojiObjects\", label: \"Object emojis\", active: false },\n\t{ icon: \"emojiSymbols\", label: \"Symbol emojis\", active: false },\n\t{ icon: \"emojiFlags\", label: \"Flag emojis\", active: false },\n];\n\nconst EmojiTray = ({ showEmojis, newMessage, setNewMessage }) => {\n\tconst addEmoji = (emoji) => {\n\t\tsetNewMessage(newMessage + emoji);\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tclassName={`emojis__wrapper ${\n\t\t\t\tshowEmojis ? \"emojis__wrapper--active\" : \"\"\n\t\t\t}`}\n\t\t>\n\t\t\t<div className=\"emojis__tabs\">\n\t\t\t\t{emojiTabs.map((tab) => (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={`emojis__tab ${tab.active ? \"emojis__tab--active\" : \"\"}`}\n\t\t\t\t\t\tkey={tab.label}\n\t\t\t\t\t>\n\t\t\t\t\t\t<button aria-label={tab.label} key={tab.icon}>\n\t\t\t\t\t\t\t<Icon id={tab.icon} className=\"emojis__tab-icon\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t\t<div className=\"emojis__content\">\n\t\t\t\t<input className=\"emojis__search\" placeholder=\"Search Emoji\" />\n\t\t\t\t<h4 className=\"emojis__label\"> Smileys {\"&\"} People </h4>\n\t\t\t\t<div className=\"emojis__grid\">\n\t\t\t\t\t{new Array(6).fill(null).map((_, rowIndex) =>\n\t\t\t\t\t\tnew Array(11).fill(null).map((_, colIndex) => (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\trole=\"img\"\n\t\t\t\t\t\t\t\taria-label=\"emoji\"\n\t\t\t\t\t\t\t\t// onClick={() => addEmoji(\"emoji\")}\n\t\t\t\t\t\t\t\tkey={`${rowIndex}-${colIndex}`}\n\t\t\t\t\t\t\t\tclassName=\"emoji emojis__emoji\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tbackgroundPositionX: -3 - 44.2 * colIndex,\n\t\t\t\t\t\t\t\t\tbackgroundPositionY: -6 - 52 * rowIndex,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t))\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t<h4 className=\"emojis__label\"> Animals {\"&\"} Nature </h4>\n\t\t\t\t<div className=\"emojis__grid\">\n\t\t\t\t\t{new Array(6).fill(null).map((_, rowIndex) =>\n\t\t\t\t\t\tnew Array(11).fill(null).map((_, colIndex) => (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\trole=\"img\"\n\t\t\t\t\t\t\t\taria-label=\"emoji\"\n\t\t\t\t\t\t\t\t// onClick={() => addEmoji(\"emoji\")}\n\t\t\t\t\t\t\t\tkey={`${rowIndex}-${colIndex}`}\n\t\t\t\t\t\t\t\tclassName=\"emoji emojis__emoji\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tbackgroundPositionX: -3 - 44.2 * colIndex,\n\t\t\t\t\t\t\t\t\tbackgroundPositionY: -6 - 52 * rowIndex,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t))\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default EmojiTray;\n","import { useEffect } from \"react\";\n\n// Updates the height of a <textarea> when the value changes.\nconst useAutosizeTextArea = (\n  textAreaRef: HTMLTextAreaElement | null,\n  value: string\n) => {\n  useEffect(() => {\n    if (textAreaRef) {\n      \n        // Нам нужно на мгновение сбросить высоту, чтобы получить правильное значение scrollHeight для текстовой области.\n      textAreaRef.style.height = \"0px\";\n      const scrollHeight = textAreaRef.scrollHeight - 40;\n\n      // Затем мы устанавливаем высоту напрямую, вне цикла рендеринга.\n      // Попытка установить это с помощью состояния или ссылки приведет к неправильному значению.\n      textAreaRef.style.height = scrollHeight + \"px\";\n    }\n  }, [textAreaRef, value]);\n};\n\nexport default useAutosizeTextArea;","import PropTypes from 'prop-types';\nconst alignDirection = PropTypes.oneOf(['start', 'end']);\nexport const alignPropType = PropTypes.oneOfType([alignDirection, PropTypes.shape({\n  sm: alignDirection\n}), PropTypes.shape({\n  md: alignDirection\n}), PropTypes.shape({\n  lg: alignDirection\n}), PropTypes.shape({\n  xl: alignDirection\n}), PropTypes.shape({\n  xxl: alignDirection\n}), PropTypes.object]);","import * as React from 'react';\nimport PropTypes from 'prop-types';\nimport Dropdown from './Dropdown';\nimport DropdownToggle from './DropdownToggle';\nimport DropdownMenu from './DropdownMenu';\nimport { alignPropType } from './types';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst propTypes = {\n  /**\n   * An html id attribute for the Toggle button, necessary for assistive technologies, such as screen readers.\n   * @type {string}\n   */\n  id: PropTypes.string,\n  /** An `href` passed to the Toggle component */\n  href: PropTypes.string,\n  /** An `onClick` handler passed to the Toggle component */\n  onClick: PropTypes.func,\n  /** The content of the non-toggle Button.  */\n  title: PropTypes.node.isRequired,\n  /** Disables both Buttons  */\n  disabled: PropTypes.bool,\n  /**\n   * Aligns the dropdown menu.\n   *\n   * _see [DropdownMenu](#dropdown-menu-props) for more details_\n   *\n   * @type {\"start\"|\"end\"|{ sm: \"start\"|\"end\" }|{ md: \"start\"|\"end\" }|{ lg: \"start\"|\"end\" }|{ xl: \"start\"|\"end\"}|{ xxl: \"start\"|\"end\"} }\n   */\n  align: alignPropType,\n  /** An ARIA accessible role applied to the Menu component. When set to 'menu', The dropdown */\n  menuRole: PropTypes.string,\n  /** Whether to render the dropdown menu in the DOM before the first time it is shown */\n  renderMenuOnMount: PropTypes.bool,\n  /**\n   *  Which event when fired outside the component will cause it to be closed.\n   *\n   * _see [DropdownMenu](#dropdown-menu-props) for more details_\n   */\n  rootCloseEvent: PropTypes.string,\n  /**\n   * Menu color variant.\n   *\n   * Omitting this will use the default light color.\n   */\n  menuVariant: PropTypes.oneOf(['dark']),\n  /**\n   * Allow Dropdown to flip in case of an overlapping on the reference element. For more information refer to\n   * Popper.js's flip [docs](https://popper.js.org/docs/v2/modifiers/flip/).\n   *\n   */\n  flip: PropTypes.bool,\n  /** @ignore */\n  bsPrefix: PropTypes.string,\n  /** @ignore */\n  variant: PropTypes.string,\n  /** @ignore */\n  size: PropTypes.string\n};\n\n/**\n * A convenience component for simple or general use dropdowns. Renders a `Button` toggle and all `children`\n * are passed directly to the default `Dropdown.Menu`. This component accepts all of\n * [`Dropdown`'s props](#dropdown-props).\n *\n * _All unknown props are passed through to the `Dropdown` component._ Only\n * the Button `variant`, `size` and `bsPrefix` props are passed to the toggle,\n * along with menu-related props are passed to the `Dropdown.Menu`\n */\nconst DropdownButton = /*#__PURE__*/React.forwardRef(({\n  title,\n  children,\n  bsPrefix,\n  rootCloseEvent,\n  variant,\n  size,\n  menuRole,\n  renderMenuOnMount,\n  disabled,\n  href,\n  id,\n  menuVariant,\n  flip,\n  ...props\n}, ref) => /*#__PURE__*/_jsxs(Dropdown, {\n  ref: ref,\n  ...props,\n  children: [/*#__PURE__*/_jsx(DropdownToggle, {\n    id: id,\n    href: href,\n    size: size,\n    variant: variant,\n    disabled: disabled,\n    childBsPrefix: bsPrefix,\n    children: title\n  }), /*#__PURE__*/_jsx(DropdownMenu, {\n    role: menuRole,\n    renderOnMount: renderMenuOnMount,\n    rootCloseEvent: rootCloseEvent,\n    variant: menuVariant,\n    flip: flip,\n    children: children\n  })]\n}));\nDropdownButton.displayName = 'DropdownButton';\nDropdownButton.propTypes = propTypes;\nexport default DropdownButton;","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst defaultProps = {\n  vertical: false,\n  role: 'group'\n};\nconst ButtonGroup = /*#__PURE__*/React.forwardRef(({\n  bsPrefix,\n  size,\n  vertical,\n  className,\n  // Need to define the default \"as\" during prop destructuring to be compatible with styled-components github.com/react-bootstrap/react-bootstrap/issues/3595\n  as: Component = 'div',\n  ...rest\n}, ref) => {\n  const prefix = useBootstrapPrefix(bsPrefix, 'btn-group');\n  let baseClass = prefix;\n  if (vertical) baseClass = `${prefix}-vertical`;\n  return /*#__PURE__*/_jsx(Component, {\n    ...rest,\n    ref: ref,\n    className: classNames(className, baseClass, size && `${prefix}-${size}`)\n  });\n});\nButtonGroup.displayName = 'ButtonGroup';\nButtonGroup.defaultProps = defaultProps;\nexport default ButtonGroup;","import React, {useRef, useState} from \"react\";\nimport Icon from \"./../../../components/Icon\";\n\nimport CIcon from '@coreui/icons-react'\nimport {\n  cilPen,\n  cilMediaPlay\n} from '@coreui/icons'\n\nimport useAutosizeTextArea from \"./useAutosizeTextArea.ts\";\nimport {Dropdown, DropdownButton, ButtonGroup } from 'react-bootstrap';\n\nconst attachButtons = [\n\t// { icon: \"attachContacts\", label: \"Choose contact\", click: \"contact\" },\n\t{ icon: \"attachDocument\", label: \"Choose document\", click: \"doc\" },\n\t{ icon: \"attachImage\", label: \"Choose image\", click: \"image\" },\n];\n\nconst ChatInput = ({\n\tshowAttach,\n\tsetShowAttach,\n\tshowEmojis,\n\tsetShowEmojis,\n\tmess,\n\tsetMess,\n\tsubmitNewMessage,\n\tonFileChange,\n\tsetSelectedElement,\n}) => {\n\n\tconst textAreaRef = useRef(null);\n\tuseAutosizeTextArea(textAreaRef.current, mess);\n\n\tconst handleChange = (e) => {\n\t\tconsole.log(e.target.value)\n\t\tsetMess(e.target.value)\n\t};\n\n\tconst detectEnterPress = (e) => {\n\t\tif ((e.key === \"Enter\" && !e.shiftKey) || (e.keyCode === 13 && !e.shiftKey) ) {\n\t\t\tsubmitNewMessage();\n\t\t} \n\t};\n\n\n\tconst CustomToggle = React.forwardRef(({ children, onClick }, ref) => (\n\t\t<button\n\t\t\taria-label=\"Message options\"\n\t\t\tref={ref}\n\t\t\tonClick={(e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tonClick(e);\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t\t<Icon id=\"downArrow\"/>\t\t\t\t\t\t\t\t\t\t\t\n\t\t</button>\n\t));\n\n\tCustomToggle.displayName = \"Search\";\n\n\tconst CustomMenu = React.forwardRef(\n\t\t({ children, style, className, 'aria-labelledby': labeledBy }, ref) => {\n\t\t  const [value, setValue] = useState('');\n\t  \n\t\t  return (\n\t\t\t<div\n\t\t\t  ref={ref}\n\t\t\t  style={{backgroundColor: '#20272b'}}\n\t\t\t  className={className}\n\t\t\t  aria-labelledby={labeledBy}\n\t\t\t>\n\t\t\t  <ul className=\"list-unstyled\">\n\t\t\t\t{React.Children.toArray(children).filter(\n\t\t\t\t  (child) =>\n\t\t\t\t\t!value || child.props.children?.toLowerCase().startsWith(value),\n\t\t\t\t)}\n\t\t\t  </ul>\n\t\t\t</div>\n\t\t  );\n\t\t},\n\t);\n\n\tCustomMenu.displayName = CustomMenu\n\n\tconst change = async (eventkey) => {\n\t\t//alert(`you chosen: ${eventkey}`)\n\t\tsetSelectedElement(eventkey)\n\t}\n\n\treturn (\n\t\t<div className=\"chat__input-wrapper\">\n\t\t\t{showEmojis && (\n\t\t\t\t<button aria-label=\"Close emojis\" onClick={() => setShowEmojis(false)}>\n\t\t\t\t\t<Icon id=\"cancel\" className=\"chat__input-icon\" />\n\t\t\t\t</button>\n\t\t\t)}\n\t\t\t<button aria-label=\"Emojis\" onClick={() => setShowEmojis(true)}>\n\t\t\t\t<Icon\n\t\t\t\t\tid=\"smiley\"\n\t\t\t\t\tclassName={`chat__input-icon ${\n\t\t\t\t\t\tshowEmojis ? \"chat__input-icon--highlight\" : \"\"\n\t\t\t\t\t}`}\n\t\t\t\t/>\n\t\t\t</button>\n\t\t\t{showEmojis && (\n\t\t\t\t<>\n\t\t\t\t\t<button aria-label=\"Choose GIF\">\n\t\t\t\t\t\t<Icon id=\"gif\" className=\"chat__input-icon\" />\n\t\t\t\t\t</button>\n\t\t\t\t\t<button aria-label=\"Choose sticker\">\n\t\t\t\t\t\t<Icon id=\"sticker\" className=\"chat__input-icon\" />\n\t\t\t\t\t</button>\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t<div className=\"pos-rel\">\n\t\t\t\t<button aria-label=\"Attach\" onClick={() => setShowAttach(!showAttach)}>\n\t\t\t\t\t<Icon\n\t\t\t\t\t\tid=\"attach\"\n\t\t\t\t\t\tclassName={`chat__input-icon ${\n\t\t\t\t\t\t\tshowAttach ? \"chat__input-icon--pressed\" : \"\"\n\t\t\t\t\t\t}`}\n\t\t\t\t\t/>\n\t\t\t\t</button>\n\n\t\t\t\t<div className={`chat__attach ${showAttach ? \"chat__attach--active\" : \"\"}`}>\n\t\t\t\t\t{attachButtons.map((btn) => (\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"chat__attach-btn\"\n\t\t\t\t\t\t\taria-label={btn.label}\n\t\t\t\t\t\t\tkey={btn.label}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<label htmlFor='fileInput'>\n\t\t\t\t\t\t\t\t<Icon id={btn.icon} className=\"chat__attach-icon\" />\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\t\tid=\"fileInput\"\n\t\t\t\t\t\t\t\tname=\"photo\"\n\t\t\t\t\t\t\t\tstyle={{ display: \"none\" }}\n\t\t\t\t\t\t\t\tonChange={(e) => onFileChange(e)}\n\t\t\t\t\t\t\t/>\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</button>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\n\t\t\t</div>\n\n\t\t\t<div style={{marginLeft: '8px', marginRight: '8px'}}>\n\t\t\t\t{/* <Dropdown onSelect={change}>\n\t\t\t\t\t<Dropdown.Toggle as={CustomToggle} id=\"dropdown-custom-components\">\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t</Dropdown.Toggle>\n\t\t\t\t\t<Dropdown.Menu as={CustomMenu}>\n\t\t\t\t\t<Dropdown.Item eventKey=\"\">Удалить сообщение</Dropdown.Item>\n\t\t\t\t\t</Dropdown.Menu>\n\t\t\t\t</Dropdown> */}\n\n\t\t\t\t<DropdownButton\n\t\t\t\t\tonSelect={change}\n\t\t\t\t\tas={ButtonGroup}\n\t\t\t\t\tid={`dropdown-button-drop-up`}\n\t\t\t\t\tdrop='up'\n\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\ttitle=''\n\t\t\t\t\t// \n\t\t\t\t>\n\t\t\t\t\t<Dropdown.Item class=\"dropdown-menu\" eventKey=\"0\">Стандартный ответ</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item eventKey=\"1\">Паспорт</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item eventKey=\"2\">Кнопка с номером</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item eventKey=\"3\">Запас</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item eventKey=\"4\">Офис U.L.E.Y</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item eventKey=\"5\">Оплата / смета</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item eventKey=\"6\">Заявка отклонена</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item eventKey=\"7\">Заявка одобрена</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Item eventKey=\"8\">Запрос ключевых данных</Dropdown.Item>\n\t\t\t\t\t<Dropdown.Divider />\n\t\t\t\t\t<Dropdown.Item eventKey=\"9\"></Dropdown.Item>\n\t\t\t\t</DropdownButton>\n\t\t\t\t{/* <CFormSelect \n\t\t\t\t\t\tstyle={{marginTop: '10px', marginBottom: '10px',  display: \"block\"}}\n                        aria-label=\"Default select example\"\n                        options={scenarios}  \n\t\t\t\t\t\t// value={scenari}\n\t\t\t\t\t\tselectedElement={selectedElement}\n                    \tsetSelectedElement={setSelectedElement}\n                        onChange={onSelectChange}\n\t\t\t\t/> */}\n\t\t\t\t{/* <button className=\"profile__action-right\" style={{padding: '6px'}}>\n\t\t\t\t\t<CIcon icon={cilMediaPlay} \n\t\t\t\t\t<Icon id=\"downArrow\" style={{color: 'white'}}/>{\" \"} \n\t\t\t\t</button> */}\n\t\t\t</div>\n\t\t\t\n\t\t\t<textarea\n\t\t\t\tclassName=\"chat__input\"\n\t\t\t\tplaceholder=\"Введите сообщение\"\n\t\t\t\tvalue={mess} \n\t\t\t\tonChange={handleChange} \n\t\t\t\tref={textAreaRef}\t\t\t\n\t\t\t\trows={1}\n\t\t\t/>\n\n\t\t\t<button aria-label=\"Send message\" onClick={submitNewMessage}>\n\t\t\t\t<Icon id=\"send\" className=\"chat__input-icon\" />\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n\nexport default ChatInput;\n","import React, { useState } from \"react\";\nimport Icon from \"./../../components/Icon\";\nimport \"./styles/main.css\";\n\nconst OptionsBtn = ({\n\tmsgId,\n\tclassName,\n\ticonId,\n\ticonClassName,\n\tariaLabel,\n\toptions = [],\n\tposition = \"left\",\n\tshowPressed = true,\n\tonSelected,\n\t...props\n\n}) => {\n\tconst [showOptions, setShowOptions] = useState(false);\n\treturn (\n\t\t<div className=\"pos-rel\">\n\t\t\t<button\n\t\t\t\taria-label={ariaLabel}\n\t\t\t\tclassName={`options-btn ${\n\t\t\t\t\tshowOptions && showPressed ? \"options-btn--pressed\" : \"\"\n\t\t\t\t} ${className || \"\"}`}\n\t\t\t\tonClick={() => setShowOptions(!showOptions)}\n\t\t\t\t{...props}\n\t\t\t>\n\t\t\t\t<Icon id={iconId} className={iconClassName} />\n\t\t\t</button>\n\t\t\t<ul\n\t\t\t\tclassName={`options-btn__options ${\n\t\t\t\t\tshowOptions ? \"options-btn__options--active\" : \"\"\n\t\t\t\t} ${position === \"right\" ? \"options-btn__options--right\" : \"\"}`}\n\t\t\t>\n\t\t\t\t{options.map((option, index) => (\n\t\t\t\t\t<li className=\"options-btn__option\" key={index} onClick={() => onSelected(index, msgId)}>\n\t\t\t\t\t\t{option}\n\t\t\t\t\t</li>\n\t\t\t\t))}\n\t\t\t</ul>\n\t\t</div>\n\t);\n};\n\nexport default OptionsBtn;\n","import React from \"react\";\nimport Icon from \"./../../../components/Icon\";\nimport OptionsBtn from \"./../../../components/OptionsButton\";\nimport avatarDefault from \"./../../../../chat-app-new/assets/images/no-avatar.png\";\n\nconst Header = ({ user, openProfileSidebar, openSearchSidebar, closeSidebar, showCloseButton }) => {\n\n\tconst host = process.env.REACT_APP_API_URL\n\n\t//console.log(\"user: \", user)\n\n\tconst onSelected = (index) => {\n\t\tswitch(index) {\n\t\t\tcase 0: //данные о контакте\n\t\t\t\topenProfileSidebar()\n\t\t\t\tbreak\n\t\t  \n\t\t\tcase 1: \n\t\t\t\tconsole.log('1')\n\t\t\t\tbreak\n\t\t  \n\t\t\tdefault:\n\t\t\t\tconsole.log(\"В разработке\")\n\t\t\t\tbreak\n\t\t  }\n\t};\n\n\treturn (\n\t\t<header className=\"headerB chat__header\">\n\t\t\t<div className=\"chat__avatar-wrapper\" onClick={openProfileSidebar}>\n\t\t\t\t{\n\t\t\t\t\tuser.avatar\n\t\t\t\t\t? <img src={`${user.avatar}`} alt={user?.name} className=\"avatar-adm\" />\n\t\t\t\t\t: <img src={avatarDefault} alt={user?.name} className=\"avatar-adm\" />\n\t\t\t\t}\n\t\t\t</div>\n\n\t\t\t<div className=\"chat__contact-wrapper\" onClick={openProfileSidebar}>\n\t\t\t\t<h2 className=\"chat__contact-name\"> {user?.name}</h2>\n\t\t\t\t<p className=\"chat__contact-desc\">\n\t\t\t\t\t{user.typing ? \"печатает...\" : \"данные контакта\"}\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div className=\"chat__actions\">\n\t\t\t\t<button\n\t\t\t\t\tclassName=\"chat__action\"\n\t\t\t\t\taria-label=\"Search\"\n\t\t\t\t\tonClick={openSearchSidebar}\n\t\t\t\t>\n\t\t\t\t\t<Icon\n\t\t\t\t\t\tid=\"search\"\n\t\t\t\t\t\tclassName=\"chat__action-icon chat__action-icon--search\"\n\t\t\t\t\t/>\n\t\t\t\t</button>\n\t\t\t\t<OptionsBtn\n\t\t\t\t\tclassName=\"chat__action\"\n\t\t\t\t\tariaLabel=\"Menu\"\n\t\t\t\t\ticonId=\"menu\"\n\t\t\t\t\ticonClassName=\"chat__action-icon\"\n\t\t\t\t\tonSelected={onSelected}\n\t\t\t\t\toptions={[\n\t\t\t\t\t\t\"Данные о контакте\",\n\t\t\t\t\t\t// \"Выбрать сообщения\",\n\t\t\t\t\t\t// \"Отключить уведомления\",\n\t\t\t\t\t\t\"Очистить переписку\",\n\t\t\t\t\t\t\"Удалить чат\",\n\t\t\t\t\t]}\n\t\t\t\t/>\n\n\t\t\t\t<button onClick={closeSidebar} style={{marginLeft: '15px', display: showCloseButton ? \"block\": \"none\"}}>\n\t\t\t\t\t<Icon id=\"cancel\" className=\"chat-sidebar__header-icon-close\" />\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</header>\n\t);\n};\n\nexport default Header;\n","import React from \"react\";\nimport Icon from \"./../../../components/Icon\";\n\nconst ChatSidebar = ({ active, closeSidebar, heading, children }) => {\n\treturn (\n\t\t<aside className={`chat-sidebar ${active ? \"chat-sidebar--active\" : \"\"}`}>\n\t\t\t<header className=\"header chat-sidebar__header\">\n\t\t\t\t<button onClick={closeSidebar}>\n\t\t\t\t\t<Icon id=\"cancel\" className=\"chat-sidebar__header-icon\" />\n\t\t\t\t</button>\n\t\t\t\t<h2 className=\"chat-sidebar__heading\"> {heading}</h2>\n\t\t\t</header>\n\t\t\t<div className=\"chat-sidebar__content\">{children}</div>\n\t\t</aside>\n\t);\n};\n\nexport default ChatSidebar;\n","import Icon from \"./../../../components/Icon\";\nimport React from \"react\";\n\nconst Search = () => {\n\treturn (\n\t\t<>\n\t\t\t<div className=\"search-wrapper\">\n\t\t\t\t<div className=\"search-icons\">\n\t\t\t\t\t<Icon id=\"search\" className=\"search-icon\" />\n\t\t\t\t\t<button className=\"search__back-btn\">\n\t\t\t\t\t\t<Icon id=\"back\" />\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<input className=\"search\" placeholder=\"Поиск...\" />\n\t\t\t</div>\n\t\t\t<div className=\"chat-sidebar__search-results\">\n\t\t\t\t<p> Поиск сообщений в чате</p>\n\t\t\t</div>\n\t\t</>\n\t);\n};\n\nexport default Search;\n","import React, { useState, useContext, useEffect, useRef } from \"react\";\nimport media from \"./../../../../chat-app-new/assets/images/placeholder.jpeg\";\nimport Checkbox from \"./../../../components/Checkbox\";\nimport Icon from \"./../../../components/Icon\";\nimport { editContact, uploadFile, editContactAvatar } from './../../../../http/chatAPI';\nimport { getWorkerNotionId, getWorkerChildrenId, getLastPretendent, getProjectId } from './../../../../http/workerAPI';\nimport { useUsersContext } from \"../../../../chat-app-new/context/usersContext\";\nimport { AccountContext } from './../../../../chat-app-new/context/AccountProvider';\nimport defaultAvatar from \"./../../../../chat-app-new/assets/images/no-avatar.png\";\nimport CIcon from '@coreui/icons-react'\nimport {\n  cilPen,\n  cilMediaPlay\n} from '@coreui/icons'\nimport { \n\tCFormSelect,\n  } from '@coreui/react'\n\nimport { $host } from './../../../../http/index';\nimport sendSound from './../../../../chat-app-new/assets/sounds/sendmessage.mp3';\n\nconst Profile = ({ user, closeSidebar }) => {\n\n\tconst chatAdminId = process.env.REACT_APP_CHAT_ADMIN_ID\n\tconst token = process.env.REACT_APP_TELEGRAM_API_TOKEN_WORK\n\tconst host = process.env.REACT_APP_HOST\n\tconst webAppPassport = process.env.REACT_APP_WEBAPP_PASSPORT\n\tconst webAppAnketa = process.env.REACT_APP_WEBAPP_ANKETA\n\n\tconst [username, setUsername] = useState(\"\")\n\tconst [worker, setWorker] = useState(\"\")\n\tconst [avatar, setAvatar] = useState(\"\")\n\tconst [form, setForm] = useState(false)\n\tconst { addNewName, addNewAvatar } = useUsersContext();\n\tconst { userWorkers } = useUsersContext();\n\tconst { addNewMessage2 } = useUsersContext();\n\tconst { setPersonW } = useContext(AccountContext);\n\tconst [img, setImg] = useState(null)\n\tconst [showEdit, setShowEdit] = useState(false)\n\tconst input = React.useRef();\n\n\tconst [phone, setPhone] = useState(\"\")\n\tconst [showButton, setShowButton] = useState(false)\n\n\tconst audio = new Audio(sendSound);\n\n\t//select\n    const [selectedElement, setSelectedElement] = useState(\"\")\n\tconst [scenari, setScenari] = useState(\"\")\n\n\tconst [heightImage, setHeightImage] = useState({})\n\n\tconst divBlock = useRef(null);\n\n\tconst [crmId, setCrmId] = useState(\"\")\n\n\tuseEffect(() => {\n\t\tsetImg(`${host}${user.avatar}`)\n\n\t\t//получить данные из ноушена по телеграм id\n\t\tconst fetchData = async () => {\n\t\t\tconst fio_notion = await getWorkerNotionId(user.chatId)\n\t\t\tconsole.log(\"worker: \", fio_notion[0])\n\t\t\tsetWorker(fio_notion[0])\n\n\t\t\t//const avatars = await getWorkerChildrenId(fio_notion[0]?.id)\n\t\t\t//setAvatar(avatars[0]?.image)\n\t\t}\n\n\t\tfetchData();\n\t}, [user]);\n\n\tuseEffect(() => {\n\n\t\tsetTimeout(()=>{\n\t\t\tsetHeightImage(divBlock.current.getBoundingClientRect())\n\t\t}, 2000)\n\t\t\n\t\tsetPhone(user.phone)\n\t\t\n\t\t// if (user.phone?.includes('-')) {\n\t\t// \tsetPhone(user.phone)\n\t\t// } else {\n\t\t// \tlet str = user.phone\n\t\t// \t//setPhone(`+7 (${str.slice(1, 4)}) ${str.slice(4, 7)}-${str.slice(7, 9)}-${str.slice(9, 11)}`)\n\t\t// \tsetPhone(user.phone)\n\t\t// }\n\t\t\n\t}, [user])\n\n\n\tuseEffect(()=>{\n\n\t\tconst fetch = async() => {\n\t\t\tconst pretendentArray = await getLastPretendent(user.chatId)\n\t\t\tconsole.log(\"pretendentArray: \", pretendentArray)\n\t\t\t\n\t\t\tif (pretendentArray.length > 0) {\n\t\t\t\tconst projectId = pretendentArray[pretendentArray.length-1].projectId\n\t\t\t\t//получить CrmId по id проекта\n\t\t\t\tconst project = await getProjectId(projectId)\n\t\t\t\tconst crmId = project.properties.Crm_ID.rich_text[0].plain_text\n\t\t\t\tsetCrmId(crmId)\n\t\t\t} else {\n\t\t\t\tsetCrmId('-')\n\t\t\t}\t\t\n\t\t}\n\t\t\n\t\tfetch()\n\t}, [user])\n\t\n\n\treturn (\n\t\t<div className=\"profile\">\n\t\t\t<div className=\"profile__sectionW profile__sectionW--personal\">\n\t\t\t\t<div className=\"profile__avatar-wrapper profile__avatar-worker\" ref={divBlock}>\n\t\t\t\t\t{\n\t\t\t\t\t\tuser?.avatar\n\t\t\t\t\t\t\t? <img src={user?.avatar} alt={user?.name} width='100%' height={heightImage.width} style={{objectFit: 'cover'}} />//<img src={`${host}${user.avatar}`} alt={user?.name} className=\"avatar-adm\" />\n\t\t\t\t\t\t\t: <img src={defaultAvatar} alt={user?.name} width='100%' height={heightImage.width} style={{objectFit: 'cover'}} />\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t\t<h2 className=\"profile__name\" style={{textAlign: 'center'}}>{user.name}</h2>\n\t\t\t</div>\n\n\t\t\t<ul className=\"profile__sectionW profile__section--actions\">\t\n\n\t\t\t\t<li className=\"profile__actionW\">\n\t\t\t\t\t<p className=\"profile__actionW-left\">\n\t\t\t\t\t\t<span className=\"profile__action-text profile__action-text--bottom\">\n\t\t\t\t\t\t\tТелефон\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span className=\"profile__action-text profile__action-text--top profile__notion\">\n\t\t\t\t\t\t\t{phone}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</p>\n\t\t\t\t</li>\t\t\t\n\n\t\t\t\t<li className=\"profile__actionW\">\n\t\t\t\t\t<p className=\"profile__actionW-left\">\n\t\t\t\t\t\t<span className=\"profile__action-text profile__action-text--bottom\">\n\t\t\t\t\t\t\tГород\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span className=\"profile__action-text profile__action-text--top profile__notion\">\n\t\t\t\t\t\t\t{user.city ? user.city : \"-\"}\n\t\t\t\t\t\t</span>\t\n\t\t\t\t\t</p>\n\t\t\t\t</li>\t\t\t\n\n\t\t\t\t<li className=\"profile__actionW\">\n\t\t\t\t\t<p className=\"profile__actionW-left\">\n\t\t\t\t\t\t<span className=\"profile__action-text profile__action-text--bottom\">\n\t\t\t\t\t\t\tДата рождения\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span className=\"profile__action-text profile__action-text--top profile__notion\">\n\t\t\t\t\t\t\t{user.age?.start ? \n\t\t\t\t\t\t\t`${user.age?.start.split('-')[2]}.${user.age?.start.split('-')[1]}.${user.age?.start.split('-')[0]}`\n\t\t\t\t\t\t\t: \"-\"}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</p>\n\t\t\t\t</li>\n\n\t\t\t\t<li className=\"profile__actionW\">\n\t\t\t\t\t<p className=\"profile__actionW-left\">\n\t\t\t\t\t\t<span className=\"profile__action-text profile__action-text--bottom\">\n\t\t\t\t\t\t\tTelegram ID\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<span className=\"profile__action-text profile__action-text--top profile__notion\">\n\t\t\t\t\t\t\t{user.chatId}\n\t\t\t\t\t\t\t<div style={{fontSize: '16px', color: '#656565'}}>{user.username ? `@${user.username}` : user.username}</div>\t\t\t\t\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</p>\n\t\t\t\t</li>\n\n\t\t\t\t<li className=\"profile__actionW\">\n\t\t\t\t\t<p className=\"profile__actionW-left\">\n\t\t\t\t\t\t<span className=\"profile__action-text profile__action-text--bottom\">\n\t\t\t\t\t\t\tСпециальность\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span className=\"profile__action-text profile__action-text--top\">\n\t\t\t\t\t\t\t{/* {worker.spec?.map((item)=>item.name).join('')} */}\n\t\t\t\t\t\t\t<table className=\"table-noborder\">{worker ? worker.spec?.map((worker, index) => <tr key={index}><td>{worker.name}</td></tr> ) : '-'}</table>\n\t\t\t\t\t\t</span>\t\n\t\t\t\t\t</p>\n\t\t\t\t</li>\n\n\t\t\t\t<li className=\"profile__actionW\">\n\t\t\t\t\t<p className=\"profile__actionW-left\">\n\t\t\t\t\t\t<span className=\"profile__action-text profile__action-text--bottom\">\n\t\t\t\t\t\t\tПоследний отклик на проект\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<span className=\"profile__action-text profile__action-text--top profile__notion\">\n\t\t\t\t\t\t\t{crmId}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</p>\n\t\t\t\t</li>\t\t\t\n\t\t\t</ul>\n\n\n\t\t\t<div className=\"profile__sectionW profile__section--danger\">\n\t\t\t\t<Icon id=\"block\" className=\"profile__danger-icon\" />\n\t\t\t\t<p className=\"profile__danger-text profile__worker\"> Заблокировать </p>\n\t\t\t</div>\n\n\t\t\t<div className=\"profile__sectionW profile__section--danger\">\n\t\t\t\t<Icon id=\"delete\" className=\"profile__danger-icon\" />\n\t\t\t\t<p className=\"profile__danger-text profile__worker\"> Удалить чат </p>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Profile;\n","var _path, _path2, _path3;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgSpIMImagePlaceholder(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 48,\n    height: 46,\n    viewBox: \"0 0 48 46\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M0 7C0 5.34315 1.34315 4 3 4H45C46.6569 4 48 5.34315 48 7V37C48 38.6569 46.6569 40 45 40H33C32.4477 40 32 39.5523 32 39C32 38.4477 32.4477 38 33 38H45C45.5523 38 46 37.5523 46 37V7C46 6.44771 45.5523 6 45 6H3C2.44772 6 2 6.44772 2 7V37C2 37.5523 2.44772 38 3 38H15C15.5523 38 16 38.4477 16 39C16 39.5523 15.5523 40 15 40H3C1.34315 40 0 38.6569 0 37V7Z\",\n    fill: \"#9DB5C4\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M24 30C24.5523 30 25 30.4477 25 31V39L27.4 37.2C27.8418 36.8686 28.4686 36.9582 28.8 37.4C29.1314 37.8418 29.0418 38.4686 28.6 38.8L24.6 41.8C24.2444 42.0667 23.7556 42.0667 23.4 41.8L19.4 38.8C18.9582 38.4686 18.8686 37.8418 19.2 37.4C19.5314 36.9582 20.1582 36.8686 20.6 37.2L23 39V31C23 30.4477 23.4477 30 24 30ZM18 45C18 44.4477 18.4477 44 19 44H29C29.5523 44 30 44.4477 30 45C30 45.5523 29.5523 46 29 46H19C18.4477 46 18 45.5523 18 45Z\",\n    fill: \"#9DB5C4\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M46 7C46 6.44772 45.5523 6 45 6H3C2.44772 6 2 6.44771 2 7V34L14 23L20 28L34 15L46 25V7ZM12 18C14.2091 18 16 16.2091 16 14C16 11.7909 14.2091 10 12 10C9.79086 10 8 11.7909 8 14C8 16.2091 9.79086 18 12 18Z\",\n    fill: \"#D3E2EB\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSpIMImagePlaceholder);\nexport default __webpack_public_path__ + \"static/media/sp-i-m-image-placeholder.747d6db2c3e802991d67cf945923e1db.svg\";\nexport { ForwardRef as ReactComponent };","import Icon from \"./../../../components/Icon\";\nimport React, { useContext, useState, useRef } from \"react\";\n// import pdf from \"./../../../assets/images/PDFicon.png\";\nimport docIcon from \"./../../../../chat-app-new/assets/images/DOCicon.jpg\";\nimport xlsIcon from \"./../../../../chat-app-new/assets/images/XLSicon.png\";\nimport formatTime from \"./../../../../chat-app-new/utils/formatTime\";\nimport { AccountContext } from './../../../../chat-app-new/context/AccountProvider';\nimport { useUsersContext } from \"../../../../chat-app-new/context/usersContext\";\nimport { $host } from './../../../../http/index'\nimport { delMessage } from \"src/http/chatAPI\";\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport imageIcon from \"./../../../assets/images/sp-i-m-image-placeholder.svg\";\n\nconst Convo = ({ lastMsgRef, messages: allMessages }) => {\n\tconst { personW } = useContext(AccountContext);\n\tconst dates = Object.keys(allMessages);  //['01/01/2023', 'Сегодня']\n\tconst chatAdminId = process.env.REACT_APP_CHAT_ADMIN_ID \n\tconst token = process.env.REACT_APP_TELEGRAM_API_TOKEN\n\n\tconst [showImage, setShowImage] = useState([false])\n\n\tconst msgRef = useRef([]);\n\n\tlet replyMessage;\n\n\tconst { delMessageContext } = useUsersContext();\n\n\t//прокрутка\n\tconst scrollToMsg = (id) => {\n\t\tconsole.log(id)\n\t\t//alert(id)\n\t\tconsole.log(msgRef.current)\n\t\tmsgRef.current[id].scrollIntoView({transition: \"smooth\"});\n\t};\n\n\tconst CustomToggle = React.forwardRef(({ children, onClick }, ref) => (\n\t\t<button\n\t\t\taria-label=\"Message options\"\n\t\t\tclassName=\"chat__msg-options\"\n\t\t\tref={ref}\n\t\t\tonClick={(e) => {\n\t\t\t\te.preventDefault();\n\t\t\t\tonClick(e);\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t\t<Icon id=\"downArrow\" className=\"chat__msg-options-icon\" />\t\t\t\t\t\t\t\t\t\t\t\n\t\t</button>\n\t));\n\n\tCustomToggle.displayName = \"Search\";\n\n\tconst CustomMenu = React.forwardRef(\n\t\t({ children, style, className, 'aria-labelledby': labeledBy }, ref) => {\n\t\t  const [value, setValue] = useState('');\n\t  \n\t\t  return (\n\t\t\t<div\n\t\t\t  ref={ref}\n\t\t\t  style={{backgroundColor: '#20272b'}}\n\t\t\t  className={className}\n\t\t\t  aria-labelledby={labeledBy}\n\t\t\t>\n\t\t\t  <ul className=\"list-unstyled\">\n\t\t\t\t{React.Children.toArray(children).filter(\n\t\t\t\t  (child) =>\n\t\t\t\t\t!value || child.props.children?.toLowerCase().startsWith(value),\n\t\t\t\t)}\n\t\t\t  </ul>\n\t\t\t</div>\n\t\t  );\n\t\t},\n\t);\n\n\tCustomMenu.displayName = CustomMenu\n\n\tconst change = async (eventkey) => {\n\t\t//alert(`you chosen: ${eventkey}`)\n\t\tconst message = JSON.parse(eventkey);\n\n\t\t//удалить сообщение через сокет\n\t\tdelMessageContext(message.id, message.date, message.chatId)\n\n\t\t//удалить сообщение в базе данных\n\t\tdelMessage(message.id)\n\n\t\tconst url_del_msg = `https://api.telegram.org/bot${token}/deleteMessage?chat_id=${personW.id}&message_id=${message.id}`\n\n\t\tconst delToTelegram = await $host.get(url_del_msg);\n\n\t\tconsole.log(\"Удаляемое сообщение: \", message.id)\n\t\tconsole.log(\"Дата сообщения: \", message.date)\n\n\t\t//Выводим сообщение об успешной отправке\n\t\tif (delToTelegram) {\n\t\t\tconsole.log('Ваше сообщение удалено из телеграм! ', delToTelegram);\t\n\t\t}           \n\t\t//А здесь сообщение об ошибке при отправке\n\t\telse {\n\t\t\tconsole.log('Что-то пошло не так. Попробуйте ещё раз.');\n\t\t}\t\t\n\t}\n\n\tconst handleClick = (ind) => {\n        //console.log(ind, showImage)\n\n        setShowImage(prevShownImage => ({\n            ...prevShownImage,\n            [ind]: !prevShownImage[ind]\n          }));\n\n    }\n\n\n\treturn dates.map((date, dateIndex) => {\n\t\tconst messages = allMessages[date];\n\t\t\n\t\treturn (\n\t\t\t<div key={dateIndex}>\n\t\t\t\t<div className=\"chat__date-wrapper\">\n\t\t\t\t\t<span className=\"chat__date\"> {date}</span>\n\t\t\t\t</div>\n\t\t\t\t{dateIndex === 0 && (\n\t\t\t\t\t<p className=\"chat__encryption-msg\">\n\t\t\t\t\t\t<Icon id=\"lock\" className=\"chat__encryption-icon\" />\n\t\t\t\t\t\tСообщения шифруются сквозным шифрованием. Никто за пределами этого чата не может читать или слушать их\n\t\t\t\t\t</p>\n\t\t\t\t)}\n\t\t\t\t<div className=\"chat__msg-group\" >\n\t\t\t\t\t{messages.map((message, msgIndex) => {\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t//получить сообщение по его id\n\t\t\t\t\t\tif (message.content?.includes('_reply_')) {\n\t\t\t\t\t\t\treplyMessage = message?.content.split('_reply_')[0] //messages.find(mess=> mess.id === message.content.split('_reply_')[0])\n\t\t\t\t\t   \t} \n\n\t\t\t\t\t\tconst assignRef = () =>\n\t\t\t\t\t\t\tdateIndex === dates.length - 1 && msgIndex === messages.length - 1\n\t\t\t\t\t\t\t\t? lastMsgRef\n\t\t\t\t\t\t\t\t: undefined;\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{message.image \n\t\t\t\t\t\t\t\t? (<div\n\t\t\t\t\t\t\t\t\t\tclassName={`chat__msg chat__img-wrapper ${\n\t\t\t\t\t\t\t\t\t\t\tmessage.sender !== chatAdminId ? \"chat__msg--rxd\" : \"chat__msg--sent\"\n\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\tref={assignRef()}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{message.content.endsWith('.pdf') \n\t\t\t\t\t\t\t\t\t\t? (<figure>\n\t\t\t\t\t\t\t\t\t\t\t{/* <img src={pdf} width={30}/>\n\t\t\t\t\t\t\t\t\t\t\t<a href={message.content} target=\"_blank\" rel=\"noreferrer\">{message.content}</a>*/}\n\t\t\t\t\t\t\t\t\t\t\t<iframe src={message.content} height=\"235px\" width=\"100%\" title=\"myFramePdf\"/>\n\t\t\t\t\t\t\t\t\t\t </figure>) : \n\t\t\t\t\t\t\t\t\t\t\tmessage.content.endsWith('.xlsx') \n\t\t\t\t\t\t\t\t\t\t\t? <figure> \n\t\t\t\t\t\t\t\t\t\t\t\t<img src={xlsIcon} width={30}/>\n\t\t\t\t\t\t\t\t\t\t\t\t<a href={message.content} target=\"_blank\" rel=\"noreferrer\">{message.content}</a> \n\t\t\t\t\t\t\t\t\t\t\t</figure> \n\t\t\t\t\t\t\t\t\t\t\t: message.content.endsWith('.docx') \n\t\t\t\t\t\t\t\t\t\t\t? <figure> \n\t\t\t\t\t\t\t\t\t\t\t\t<img src={docIcon} width={30}/>\n\t\t\t\t\t\t\t\t\t\t\t\t<a href={message.content} target=\"_blank\" rel=\"noreferrer\">{message.content}</a> \n\t\t\t\t\t\t\t\t\t\t\t</figure> \n\t\t\t\t\t\t\t\t\t\t\t: (<figure style={{margin:showImage[msgIndex + personW.id] ? '0 0 3rem': '0 0 1rem'}}>\n\t\t\t\t\t\t\t\t\t\t\t\t{showImage[msgIndex + personW.id]  \n\t\t\t\t\t\t\t\t\t\t\t\t? <a href={message.content} target=\"_blank\" rel=\"noreferrer\"><img src={message.content} alt=\"\" className=\"chat__img\" /></a>\t\n\t\t\t\t\t\t\t\t\t\t\t\t: <div \n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={()=>handleClick(msgIndex + personW.id)}\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: '100%', \n\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: '100px', \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#3179a3', \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderRadius: '10px', \n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: '25px 75px',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tposition: 'relative',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <a href={message.content} target=\"_blank\" rel=\"noreferrer\"> */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img src={imageIcon} alt=\"\" className=\"chat__img\" onClick={()=>handleClick(msgIndex + personW.id)} style={{width: '50px'}}/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* </a> */}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>}\n\t\t\t\t\t\t\t\t\t\t\t\t<figcaption style={{textAlign: 'center', borderRadius: '5px'}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{message.descript}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{display: 'flex', justifyContent: 'space-between', padding: '10px 0'}}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{width:'100px', height: '30px', backgroundColor: '#7b7777', borderRadius: '10px', padding: '3px 0'}}>Принять</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div style={{width:'100px', height: '30px', backgroundColor: '#7b7777', borderRadius: '10px', padding: '3px 0'}}>Отклонить</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</figcaption>\n\t\t\t\t\t\t\t\t\t\t\t</figure>)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t<span className=\"chat__msg-footer\">\n\t\t\t\t\t\t\t\t\t\t\t<span>{formatTime(message.time)}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{!message.sender && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmessage?.status === \"sent\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"singleTick\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"doubleTick\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-label={message?.status}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`chat__msg-status-icon ${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmessage?.status === \"read\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"chat__msg-status-icon--blue\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t\t\t\t\t<Dropdown onSelect={change}>\n\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Toggle as={CustomToggle} id=\"dropdown-custom-components\">\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Toggle>\n\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Menu as={CustomMenu}>\n\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item eventKey={JSON.stringify({id: message.id, date: message.date, chatId: personW.id})}>Удалить сообщение</Dropdown.Item>\n\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\n\t\t\t\t\t\t\t\t\t\t</Dropdown>\t\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) : message.sender !== chatAdminId ? (\n\t\t\t\t\t\t\t\t\t<p className=\"chat__msg chat__msg--rxd\" ref={assignRef()}>\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex-row\" ref={el => msgRef.current[message.id] = el} >\n\t\t\t\t\t\t\t\t\t\t\t{/* пересылаемое сообщение */}\n\t\t\t\t\t\t\t\t\t\t\t{message.content?.includes('_reply_') \n\t\t\t\t\t\t\t\t\t\t\t? <div className=\"chat__msg--reply\" onClick={()=>scrollToMsg(message.reply)}>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"reply__content\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"reply__full\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"reply__left\"></span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"reply__pad\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"reply__contact\">U.L.E.Y</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"reply__text\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* {replyMessage?.content.endsWith('.pdf') ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<iframe src={message.content} height=\"50px\" width=\"50px\" title=\"myFramePdf\"/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</figure>) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<figure>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href={replyMessage?.content} target=\"_blank\" rel=\"noreferrer\"><img src={replyMessage?.content} alt=\"\" width='50px' height='50px' /></a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<figcaption style={{textAlign: 'center', backgroundColor: '#607a7a', borderRadius: '5px'}}></figcaption>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)} */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{replyMessage?.startsWith('http') ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a href={replyMessage} target=\"_blank\" rel=\"noreferrer\"><img src={replyMessage} alt='' width='50px' height='50px' /></a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: replyMessage\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t: <></>}\n\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t{/* {message.content?.startsWith('http') \n\t\t\t\t\t\t\t\t\t\t\t\t? <a className=\"chat__href\" href={message.content} target=\"_blank\" rel=\"noreferrer\">{message.content}</a> \n\t\t\t\t\t\t\t\t\t\t\t\t: message.content.includes('_reply_') ? message.content.split('_reply_')[1] : message.content}  */}\n\t\t\t\t\t\t\t\t\t\t\t\t{message.content?.includes('_reply_') \n\t\t\t\t\t\t\t\t\t\t\t\t? message.content.split('_reply_')[1] \n\t\t\t\t\t\t\t\t\t\t\t\t: message.content}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"chat__msg-filler\"> </span>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"chat__msg-footer\">\n\t\t\t\t\t\t\t\t\t\t\t\t{formatTime(message.time)}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\t\n\t\t\t\t\t\t\t\t\t\t\t<Dropdown onSelect={change}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Toggle as={CustomToggle} id=\"dropdown-custom-components\">\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Toggle>\n\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Menu as={CustomMenu}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item eventKey={JSON.stringify({id: message.id, date: message.date, chatId: personW.id})}>Удалить сообщение</Dropdown.Item>\n\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\n\t\t\t\t\t\t\t\t\t\t\t</Dropdown>\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<p className=\"chat__msg chat__msg--sent\" ref={assignRef()}>\n\t\t\t\t\t\t\t\t\t\t<div ref={el => msgRef.current[message.id] = el}>\n\t\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t\t{message.content?.startsWith('http') \n\t\t\t\t\t\t\t\t\t\t\t\t? <a className=\"chat__href\" href={message.content} target=\"_blank\" rel=\"noreferrer\">{message.content}</a> \n\t\t\t\t\t\t\t\t\t\t\t\t: message.content}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"chat__msg-filler\"> </span>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"chat__msg-footer\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span> {formatTime(message.time)} </span>\n\t\t\t\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmessage?.status === \"sent\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"singleTick\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"doubleTick\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-label={message?.status}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`chat__msg-status-icon ${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmessage?.status === \"read\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"chat__msg-status-icon--blue\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\n\t\t\t\t\t\t\t\t\t\t\t<Dropdown onSelect={change}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Toggle as={CustomToggle} id=\"dropdown-custom-components\">\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Toggle>\n\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Menu as={CustomMenu}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Dropdown.Item eventKey={JSON.stringify({id: message.id, date: message.date, chatId: personW.id})}>Удалить сообщение</Dropdown.Item>\n\t\t\t\t\t\t\t\t\t\t\t\t</Dropdown.Menu>\n\t\t\t\t\t\t\t\t\t\t\t</Dropdown>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t});\n};\n\nexport default Convo;\n","import React from \"react\";\nimport Icon from \"../../../components/Icon\";\n\nconst ChatSidebarProfile = ({ active, closeSidebar, heading, children }) => {\n\treturn (\n\t\t<aside className={`chat-sidebar ${active ? \"chat-sidebar--active\" : \"\"}`}>\n\t\t\t{/* <header className=\"header chat-sidebar__header\">\n\t\t\t\t<button onClick={closeSidebar}>\n\t\t\t\t\t<Icon id=\"cancel\" className=\"chat-sidebar__header-icon\" />\n\t\t\t\t</button>\n\t\t\t\t<h2 className=\"chat-sidebar__heading\"> {heading}</h2>\n\t\t\t</header> */}\n\t\t\t<div className=\"chat-sidebar__content\">{children}</div>\n\t\t</aside>\n\t);\n};\n\nexport default ChatSidebarProfile;\n","import React, { useEffect, useRef, useState, useContext } from \"react\";\nimport \"./styles/main.css\";\nimport EmojiTray from \"./components/EmojiTray\";\nimport ChatInput from \"./components/ChatInput\";\nimport Header from \"./components/Header\";\nimport ChatSidebar from \"./components/ChatSidebar\";\nimport Icon from \"./../../components/Icon\";\nimport Search from \"./components/Search\";\nimport Profile from \"./components/Profile\";\nimport Convo from \"./components/Convo\";\nimport { useUsersContext } from \"./../../../chat-app-new/context/usersContext\";\nimport { AccountContext } from './../../../chat-app-new/context/AccountProvider';\nimport { newMessage, uploadFile } from \"src/http/workerAPI\";\nimport { $host } from './../../../http/index'\nimport sendSound from './../../../chat-app-new/assets/sounds/sendmessage.mp3';\nimport axios from 'axios';\nimport ChatSidebarProfile from \"./components/ChatSidebarProfile\";\n\nconst chatAdminId = process.env.REACT_APP_CHAT_ADMIN_ID\nconst token_work = process.env.REACT_APP_TELEGRAM_API_TOKEN_WORK\nconst host = process.env.REACT_APP_HOST\nconst baseURL = process.env.REACT_APP_API_URL\nconst webAppAnketa = process.env.REACT_APP_WEBAPP_ANKETA\n\nconst Chat = () => {\n\tconst { userWorkers, setUserAsUnread, addNewMessage2 } = useUsersContext();\n\tconst { personW } = useContext(AccountContext);\n\tconst { setCountMessage } = useUsersContext();\n\n\tconst chatId = personW.id;\n\tlet user = userWorkers.filter((user) => user.chatId === chatId.toString())[0];\n\n\tconst lastMsgRef = useRef(null);\n\tconst [showAttach, setShowAttach] = useState(false);\n\tconst [showEmojis, setShowEmojis] = useState(false);\n\tconst [showProfileSidebar, setShowProfileSidebar] = useState(false);\n\tconst [showSearchSidebar, setShowSearchSidebar] = useState(false);\n\tconst [file, setFile] = useState();\n\tconst [image, setImage]= useState(\"\");\n\tconst [mess, setMess] = useState(\"\");\n\n\tconst [showCloseButton, setShowCloseButton] = useState(false)\n\n\t//select\n    const [selectedElement, setSelectedElement] = useState(\"\")\n\tconst [scenari, setScenari] = useState(\"\")\n\n\t// для хранения ответа от бекенда\n\tconst [data, getFile] = useState({ name: \"\", path: \"\" });\n\tconst [progress, setProgess] = useState(0); // progessbar\n  \tconst el = useRef(); // для доступа к инпуту\n\n\tconst audio = new Audio(sendSound);\n\n\tconst refreshPage = ()=>{\n\t\twindow.location.reload(true);\n\t }\n\n\tuseEffect(() => {\n\t\tif (user) {\n\t\t\tscrollToLastMsg();\n\t\t\tsetUserAsUnread(user.chatId);\n\t\t\tsetCountMessage(0)\n\t\t}\n\t}, []);\n\n\tuseEffect(() => {\n\t\tuser && scrollToLastMsg();\n\t}, [userWorkers]);\n\n\tuseEffect(() => {\n\t\tconsole.log(selectedElement)\n\t\tsetSelectedElement(selectedElement);\n\t\tsetScenari(selectedElement)\n\n\t\tlet text = ''\n\t\t\n\t\t//Стандартный ответ\n\t\tif (selectedElement === '0') {\n\t\t\ttext = `${user.name.split(' ')[1]}, я юный чат-бот и еще не всё умею. Любой вопрос поможет решить наш оператор: +7 (499) 500-14-11`\n\t\t\tsetMess(text)\n\t\t}\n\t\t//Паспорт\n\t\telse if (selectedElement === '1') {\n\t\t\ttext = \"Отправка запроса паспорта...\"\n\t\t\tsetMess(text)\n\t\t}\n\t\t//Кнопка с номером\n\t\telse if (selectedElement === '2') {\n\t\t\ttext = `+7 (499) 500-14-11 - Менеджер U.L.E.Y`\n\t\t\tsetMess(text)\n\t\t}\n\t\t//Запас\n\t\telse if (selectedElement === '3') {\n\t\t\ttext = `${user.name.split(' ')[1]}, мы готовы поставить Вас в запас на этот проект. Запас оплачивается.\n\t\t\tСумму можно будет уточнить у менеджера. С большой вероятностью Вы будете на нём задействованы, \n\t\t\tно для начала придется проснуться вместе с основным составом и быть готовым выйти на работу. Готовы?`\n\t\t\t\n\t\t\tsetMess(text)\n\t\t}\n\t\t//Офис U.L.E.Y\n\t\telse if (selectedElement === '4') {\n\t\t\ttext = `Офис | U.L.E.Y\n\n\t\t\tАдрес: г. Москва, ул. Дербеневская набережная, д. 7, стр. 2\n\t\t\t\t\t\n\t\t\tКарта: https://goo.gl/maps/uFrAfV5NmE2rUXsT8`\n\n\t\t\tsetMess(text)\n\t\t}\n\t\t//Оплата / смета\n\t\telse if (selectedElement === '5') {\n\t\t\ttext = `Для согласования и получения оплаты: \n\t\t\thttps://t.me/ULEY_Office_Bot`\n\n\t\t\tsetMess(text)\n\t\t}\n\t\t//Заявка отклонена\n\t\telse if (selectedElement === '6') {\n\t\t\ttext = `Добрый день, ${user.name.split(' ')[1]}. Спасибо, что откликнулись на эту заявку. \n\t\t\tВ настоящий момент основной состав уже сформирован.\n\t\t\tДо встречи на новых проектах!`\n\n\t\t\tsetMess(text)\n\t\t}\n\t\t//Заявка одобрена\n\t\telse if (selectedElement === '7') {\n\t\t\ttext = `Добрый день, ${user.name.split(' ')[1]}. Спасибо, что откликнулись на заявку. \n\t\t\tДля согласования тех. задачи на проект позвоните по номеру:\n\t\t\t+7 (499) 500-14-11`\n\n\t\t\tsetMess(text)\n\t\t}\n\t\t//Запрос ключевых данных\n\t\telse if (selectedElement === '8') {\n\t\t\ttext = `Добрый день, ${user.name.split(' ')[1]}. Вы впервые откликнулись на заявку от компании U.L.E.Y\n\t\t\tЧтобы мы смогли предложить Вам работу на этом проекте пришлите, пожалуйста, немного информации о себе:\n\t\t\t\t\t\n\t\t\t✅ ФИО\n\t\t\t\t\t\n\t\t\t✅ Контакты для связи\n\t\t\t\t\t\n\t\t\t✅ Год рождения\n\t\t\t\t\t\n\t\t\t✅ Специальность`\n\n\t\t\tsetMess(text)\n\t\t}\n\n\t}, [selectedElement]);\n\n\t//прокрутка\n\tconst scrollToLastMsg = () => {\n\t\tlastMsgRef.current?.scrollIntoView({transition: \"smooth\"});\n\t};\n\n\tuseEffect(() => {\n        const getImage = async () => {\n            if (file) {\n                const data = new FormData();\n                data.append(\"name\", file.name); // добавление имени файла\n                data.append(\"photo\", file); // добавление файла\n\n               let response = await uploadFile(data);\n\t\t\t   console.log(\"response: \", response)\n\n\t\t\t//    axios.post(baseURL + 'api/file/upload', data, {\n\t\t\t// \t\tonUploadProgress: (ProgressEvent) => {\n\t\t\t// \t\t\tlet progress = Math.round(\n\t\t\t// \t\t\tProgressEvent.loaded / ProgressEvent.total * 100\n\t\t\t// \t\t\t) + '%';\n\t\t\t// \t\t\tsetProgess(progress);\n\t\t\t// \t\t}\n\t\t\t// \t}).then(res => {\n\t\t\t// \tconsole.log(res);\n\t\t\t// \tgetFile({\n\t\t\t// \t\tname: res.data.name,\n\t\t\t// \t\tpath: baseURL + res.data.path\n\t\t\t// \t})\n\t\t\t// \t}).catch(err => console.log(err))\n\n               setImage(response.data.path.split('.team')[1]);\n\t\t\t   //сообщение с ссылкой на файл\n\t\t\t   setMess(host + response.data.path.split('.team')[1])\n            }\n        }\n        getImage();\n    }, [file])\n\n\tconst onFileChange = (e) => {\t\n\t\tsetProgess(0)\n\t\tconst file = e.target.files[0]; // доступ к файлу\n\t\tconsole.log(file);\n\t\tsetFile(file); // сохранение файла\n    }\n\n\tconst openSidebar = (cb) => {\n\t\t// close any open sidebar first\n\t\tsetShowProfileSidebar(false);\n\t\tsetShowSearchSidebar(false);\n\n\t\tsetShowCloseButton(true)\n\n\t\t// call callback fn\n\t\tcb(true);\n\t};\n\n\tconst closeSidebar = (cb) => {\n\t\t// close any open sidebar first\n\t\tsetShowProfileSidebar(false);\n\n\t\tsetShowCloseButton(false)\n\n\t\t// call callback fn\n\t\tcb(false);\n\t};\n\n\t//функция отправки сообщения\n\tconst sendText = async () => {\n\t\tconsole.log(\"selectedElement: \", selectedElement)\n\t\tif (selectedElement === '1') { //выбран паспорт\n\t\t\t//отправка сценария\n\t\t\tconsole.log(\"отправка сценария: \", selectedElement)\n\n\t\t\tsendMyMessage()\n\t\t} else {\n\t\t\t//отправка сообщения\n\n\t\t\t//Передаем данные боту\n\t\t\tlet temp=mess.replace(/\\n/g, '%0A'); //экранирование переноса строки\n\t\t\ttemp = temp.replace(/#/g, '%23'); \t\t //экранирование решетки\n\t\t\ttemp = temp.replace(/&/g, '%26'); \t\t //экранирование &\n\t\t\ttemp = temp.replace(/\\+/g, '%2b'); \t\t //экранирование +\n\t\t\ttemp = temp.replace(/>/g, '%3e'); \t\t //экранирование >\n\t\t\ttemp = temp.replace(/</g, '%3c'); \t\t //экранирование <\n\t\t\tconst url_send_msg = `https://api.telegram.org/bot${token_work}/sendMessage?chat_id=${personW.id}&parse_mode=html&text=${temp}`\n\t\t\tconst sendToTelegram = await $host.get(url_send_msg);\n\n\t\t\t//Выводим сообщение об успешной отправке\n\t\t\tif (sendToTelegram) {\n\t\t\t\tconsole.log('Спасибо! Ваша сообщение отправлено! ', sendToTelegram.data.result.message_id);\n\t\t\t}           \n\t\t\t//А здесь сообщение об ошибке при отправке\n\t\t\telse {\n\t\t\t\tconsole.log('Что-то пошло не так. Попробуйте ещё раз.');\n\t\t\t}\n\n\t\t\tlet message = {};\n\t\t\tif(!file) {\n\t\t\t\tmessage = {\n\t\t\t\t\tsenderId: chatAdminId, \n\t\t\t\t\treceiverId: user.chatId,\n\t\t\t\t\tconversationId: user.conversationId,\n\t\t\t\t\ttype: \"text\",\n\t\t\t\t\ttext: mess,\n\t\t\t\t\tisBot: null,\n\t\t\t\t\tmessageId: sendToTelegram.data.result.message_id,\n\t\t\t\t}\n\n\t\t\t\t//сохранить в контексте\n\t\t\t\taddNewMessage2(user.chatId, mess, 'text', '', user.conversationId, sendToTelegram.data.result.message_id);\n\t\t\t} else {\n\t\t\t\tmessage = {\n\t\t\t\t\tsenderId: chatAdminId, \n\t\t\t\t\treceiverId: user.chatId,\n\t\t\t\t\tconversationId: user.conversationId,\n\t\t\t\t\ttype: \"image\",\n\t\t\t\t\ttext: host + image,\n\t\t\t\t\tisBot: null,\n\t\t\t\t\tmessageId: sendToTelegram.data.result.message_id,\n\t\t\t\t}\n\n\t\t\t\t//сохранить в контексте\n\t\t\t\taddNewMessage2(user.chatId, host + image, 'image', '', user.conversationId, sendToTelegram.data.result.message_id);\n\t\t\t}\n\t\t\tconsole.log(\"message send button: \", message);\n\n\t\t\t//сохранение сообщения в базе данных\n\t\t\tawait newMessage(message)\t\n\t\t}\n\t}\n\n\tconst submitNewMessage = () => {\n\t\taudio.play();\n\t\tsendText();\n\n\t\tsetMess(\"\");\n\t\tscrollToLastMsg();\n\t\tsetFile(\"\");\n        setImage(\"\");\n\t};\n\n\n\t//отправка сценария\n\tconst sendMyMessage = async() => {\n\t\tconsole.log(\"send passport\")\n\t\taudio.play();\n\n\t\tlet client = userWorkers.filter((client) => client.chatId === user.chatId)[0];\n\n\t\tconst keyboard = JSON.stringify({\n\t\t\tinline_keyboard: [\n\t\t\t\t[\n\t\t\t\t\t{\"text\": \"Заполнить анкету\", web_app: {url: webAppAnketa}},\n\t\t\t\t],\n\t\t\t]\n\t\t});\n\n\t\t//отправить в телеграмм\n\t\tlet sendToTelegram\n\t\tlet text = ''\n\t\t\n\t\t//Паспорт\n\t\tif (selectedElement === '1') {\n\t\t\t//send photo\n\t\t\tlet anketa = 'https://proj.uley.team/upload/2023-11-10T15:12:36.770Z.png' //poster anketa\n\t\t\tconst url_send_photo = `https://api.telegram.org/bot${token_work}/sendPhoto?chat_id=${user.chatId}&photo=${anketa}&reply_markup=${keyboard}`\n\t\t\tconsole.log(url_send_photo)\t\n\t\t\tsendToTelegram = await $host.get(url_send_photo);\n\t\t} \n\t\t\n\n\t\t//отправить в админку\n\t\tlet message = {};\n\t\t\t\n\t\tmessage = {\n\t\t\tsenderId: chatAdminId, \n\t\t\treceiverId: user.chatId,\n\t\t\tconversationId: client.conversationId,\n\t\t\ttype: \"text\",\n\t\t\ttext: text,\n\t\t\tmessageId: sendToTelegram.data.result.message_id,\n\t\t\tbuttons: 'Согласен предоставить персональные данные',\n\t\t}\n\t\t\t\n\t\t// console.log(\"message send: \", message);\n\t\n\t\t//сохранение сообщения в базе данных\n\t\tawait newMessage(message)\n\t\n\t\t//сохранить в контексте\n\t\taddNewMessage2(user.chatId, text, 'text', 'Согласен предоставить персональные данные', client.conversationId, sendToTelegram.data.result.message_id);\n    }\n\n\n\treturn (\n\t\t<div className=\"chat\">\n\t\t\t<div className=\"chat__body\">\n\t\t\t\t<div className=\"chat__bg\"></div>\n\n\t\t\t\t<Header\n\t\t\t\t\tuser={personW}\n\t\t\t\t\topenProfileSidebar={() => openSidebar(setShowProfileSidebar)}\n\t\t\t\t\topenSearchSidebar={() => openSidebar(setShowSearchSidebar)}\n\t\t\t\t\tcloseSidebar={() => closeSidebar(setShowProfileSidebar)}\n\t\t\t\t\tshowCloseButton={showCloseButton}\n\t\t\t\t/>\n\t\t\t\t<div className=\"chat__content\">\n\t\t\t\t\t<Convo lastMsgRef={lastMsgRef} messages={user.messages} />\n\t\t\t\t</div>\n\t\t\t\t<footer className=\"chat__footer\">\n\t\t\t\t\t<div className=\"chat__footer-wrapper\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclassName=\"chat__scroll-btn\"\n\t\t\t\t\t\t\taria-label=\"scroll down\"\n\t\t\t\t\t\t\tonClick={scrollToLastMsg}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<Icon id=\"downArrow\" />\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<EmojiTray\n\t\t\t\t\t\t\tshowEmojis={showEmojis}\n\t\t\t\t\t\t\tmess={mess}\n\t\t\t\t\t\t\tsetMess={setMess}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ChatInput\n\t\t\t\t\t\t\tshowEmojis={showEmojis}\n\t\t\t\t\t\t\tsetShowEmojis={setShowEmojis}\n\t\t\t\t\t\t\tshowAttach={showAttach}\n\t\t\t\t\t\t\tsetShowAttach={setShowAttach}\n\t\t\t\t\t\t\tonFileChange={onFileChange}\n\t\t\t\t\t\t\tmess={mess}\n\t\t\t\t\t\t\tsetMess={setMess}\n\t\t\t\t\t\t\tsubmitNewMessage={submitNewMessage}\n\t\t\t\t\t\t\tsetSelectedElement={setSelectedElement}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{/* <div className=\"progessBar\" style={{ width: progress, height: '1rem', width: '0%',  backgroundColor: 'rgb(68, 212, 231)', color: 'white',  padding: '2px' }}>\n\t\t\t\t\t\t\t{progress}\n\t\t\t\t\t\t</div> */}\n\t\t\t\t\t</div>\t\t\n\t\t\t\t</footer>\n\t\t\t</div>\n\t\t\t<ChatSidebar\n\t\t\t\theading=\"Поиск сообщения\"\n\t\t\t\tactive={showSearchSidebar}\n\t\t\t\tcloseSidebar={() => setShowSearchSidebar(false)}\n\t\t\t>\n\t\t\t\t<Search />\n\t\t\t</ChatSidebar>\n\n\t\t\t<ChatSidebarProfile\n\t\t\t\t// heading=\"Данные контакта\"\n\t\t\t\tactive={showProfileSidebar}\n\t\t\t>\n\t\t\t\t<Profile user={user} />\n\t\t\t</ChatSidebarProfile>\n\n\t\t</div>\n\t);\n};\n\nexport default Chat;\n","import React, { Suspense, useEffect, useState, useContext } from 'react'\nimport { CContainer, CSpinner, CNav, CNavLink, CNavItem } from '@coreui/react'\nimport { AppSidebar, AppFooter, AppHeaderChat } from '../components/index'\n\nimport \"./../chat-app-new/App.css\";\nimport \"./../chat-app-new/assets/css/index.css\";\n\n// import Loader from \"../chat-app-new/components/Loader\";\nimport Home from \"../chat-app-new/pages/Home\";\nimport Sidebar from \"../chat-app-worker/components/Sidebar\";\nimport Chat from \"../chat-app-worker/pages/Chat\";\nimport { useUsersContext } from \"./../chat-app-new/context/usersContext\"\n\nimport { AccountContext } from \"../chat-app-new/context/AccountProvider\";\n\nconst ChatsWorker = () => {\n\n  const { personW } = useContext(AccountContext); \n  const { userWorkers, setUserWorkers} = useUsersContext();\n\n  const [workers, setWorkers] = useState([]); //useState(contacts);\n  //const [userWorkers, setUserWorkers] = useState([]); //useState(contacts);\n\n\tuseEffect(() => {\n\t\tdocument.body.classList.add(\"dark-theme\");\n\t});   \n\n\n  return (\n    <div>\n      <AppSidebar />\n      <div className=\"wrapper d-flex flex-column min-vh-100 bg-uley\">\n        <AppHeaderChat />\n        <div className=\"body flex-grow-1 px-3\">\n\n            <CContainer lg>\n                <Suspense fallback={<CSpinner color=\"primary\" />}>                 \n                  \n                  <div className=\"app\">\n                    <p className=\"app__mobile-message\"> Доступно только на компьютере 😊. </p> \n                    <div className=\"app-content\">\n                      <Sidebar />\n                      {Object.keys(personW).length ? <Chat /> : <Home /> }\n                    </div>\n                  </div>\n\n                </Suspense>\n            </CContainer>\n\n        </div>\n        <AppFooter />\n      </div>\n    </div>\n  )\n}\n\nexport default ChatsWorker\n"],"names":["contact","worker","setPersonW","useContext","AccountContext","useUsersContext","setUserWorkerAsUnread","setCountMessageWork","getUser","name","id","chatId","avatar","lastMessage","recentMessageDate","messageDates","Object","keys","messages","length","JSON","stringify","pop","getLastMessage","className","onClick","style","position","src","alt","avatarDefault","parse","worklist","findIndex","item","spec","avatarBlacklist","width","top","left","formatTime","time","status","unread","typing","content","pinned","userWorkers","workers","useState","contacts","setContacts","text","setText","loading","setLoading","navigate","useNavigate","useEffect","userSort","sort","a","b","dateA","Date","date","filteredData","filter","user","toLowerCase","includes","ariaLabel","iconId","iconClassName","onSelected","index","console","log","options","placeholder","onChange","e","target","value","margin","map","process","allIcons","Icons","props","selectedIcon","emojiTabs","icon","label","active","showEmojis","newMessage","setNewMessage","tab","Array","fill","_","rowIndex","colIndex","role","backgroundPositionX","backgroundPositionY","textAreaRef","height","scrollHeight","alignDirection","PropTypes","alignPropType","sm","md","lg","xl","xxl","propTypes","href","title","disabled","align","menuRole","renderMenuOnMount","rootCloseEvent","menuVariant","flip","bsPrefix","variant","size","DropdownButton","React","ref","children","_jsxs","Dropdown","_jsx","DropdownToggle","childBsPrefix","DropdownMenu","renderOnMount","displayName","ButtonGroup","vertical","as","Component","rest","prefix","useBootstrapPrefix","baseClass","classNames","defaultProps","attachButtons","click","showAttach","setShowAttach","setShowEmojis","mess","setMess","submitNewMessage","onFileChange","setSelectedElement","useRef","useAutosizeTextArea","current","preventDefault","CustomMenu","labeledBy","backgroundColor","child","startsWith","change","eventkey","btn","htmlFor","type","display","marginLeft","marginRight","onSelect","drop","class","eventKey","rows","msgId","showPressed","showOptions","setShowOptions","option","openProfileSidebar","openSearchSidebar","closeSidebar","showCloseButton","heading","setWorker","addNewName","addNewAvatar","addNewMessage2","setImg","phone","setPhone","Audio","sendSound","heightImage","setHeightImage","divBlock","crmId","setCrmId","fetchData","getWorkerNotionId","fio_notion","setTimeout","getBoundingClientRect","fetch","getLastPretendent","pretendentArray","projectId","getProjectId","project","properties","Crm_ID","rich_text","plain_text","objectFit","defaultAvatar","textAlign","city","age","start","split","fontSize","color","username","replyMessage","lastMsgRef","allMessages","personW","dates","chatAdminId","showImage","setShowImage","msgRef","delMessageContext","CustomToggle","message","delMessage","url_del_msg","$host","delToTelegram","handleClick","ind","prevShownImage","dateIndex","msgIndex","assignRef","undefined","image","sender","endsWith","xlsIcon","rel","docIcon","borderRadius","padding","cursor","imageIcon","descript","justifyContent","el","reply","scrollIntoView","transition","token_work","host","setUserAsUnread","setCountMessage","toString","showProfileSidebar","setShowProfileSidebar","showSearchSidebar","setShowSearchSidebar","file","setFile","setImage","setShowCloseButton","selectedElement","setScenari","path","setProgess","audio","scrollToLastMsg","getImage","data","FormData","append","uploadFile","response","openSidebar","cb","sendText","sendMyMessage","temp","replace","url_send_msg","sendToTelegram","result","message_id","senderId","receiverId","conversationId","isBot","messageId","play","client","keyboard","inline_keyboard","web_app","url","url_send_photo","buttons","files","setUserWorkers","document","body","classList","add","Suspense","fallback","Home"],"sourceRoot":""}