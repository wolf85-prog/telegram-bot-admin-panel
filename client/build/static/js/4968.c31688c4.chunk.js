"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[4968],{77665:(e,t,s)=>{s.d(t,{A:()=>a});s(65043);const a=s.p+"static/media/arrowDown.4f7021c2d42a26d0369da8983c53315a.svg"},74968:(e,t,s)=>{s.r(t),s.d(t,{default:()=>o});var a=s(65043),r=s(10381),c=(s(58786),s(93946)),l=s(6574),d=(s(77665),s(34283)),n=s(85416),i=s(70579);const o=()=>{const{setCountPretendent:e,pretendents:t,setPretendents:s}=(0,l.d)(),[o,x]=(0,a.useState)([]),[h,p]=(0,a.useState)([]),[m,j]=(0,a.useState)(!0),[u,g]=(0,a.useState)(!0),[S,w]=(0,a.useState)([]),[v,y]=(0,a.useState)([]),[N,$]=(0,a.useState)(""),[I,f]=(0,a.useState)(0),[C,D]=(0,a.useState)(0),[b,k]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{const e=h.filter((e=>{var t;return null===(t=e.tgId+e.crmId)||void 0===t?void 0:t.replace(/[\u0435\u0451]/g,"(\u0435|\u0451)").toLowerCase().includes(N.replace(/[\u0435\u0451]/g,"(\u0435|\u0451)").toLowerCase())}));p(""===N?h:e)}),[N]),(0,a.useEffect)((()=>{const t=[];e(0);(async()=>{let e=await(0,d.Uu)(),s=await(0,n.JQ)();(await(0,d.u_)()).map((async(a,r)=>{console.log(a);let c=s.find((e=>e.id===a.projectId));const l=null===c||void 0===c?void 0:c.title,d=null===c||void 0===c?void 0:c.crmID;let n=e.find((e=>e.chatId===a.receiverId));null===n||void 0===n||n.userfamily,null===n||void 0===n||n.username;const i=a.cancel,o=new Date(a.createdAt).getTime(),x=new Date(o),h=String(x.getMonth()+1).padStart(2,"0"),m=`${String(x.getDate()).padStart(2,"0")}.${h} ${x.getHours()}:${String(x.getMinutes()).padStart(2,"0")}`,j=new Date(a.updatedAt).getTime(),u=new Date(j),g=String(u.getMonth()+1).padStart(2,"0"),S=`${String(u.getDate()).padStart(2,"0")}.${g} ${u.getHours()}:${String(u.getMinutes()).padStart(2,"0")}`;let w="";if(a.datestart){const e=new Date(a.datestart).getTime(),t=new Date(e),s=String(t.getMonth()+1).padStart(2,"0");w=`${String(t.getDate()).padStart(2,"0")}.${s} ${t.getHours()}:${String(t.getMinutes()).padStart(2,"0")}`}let v="";if(a.dateend){const e=new Date(a.dateend).getTime(),t=new Date(e),s=String(t.getMonth()+1).padStart(2,"0");v=`${String(t.getDate()).padStart(2,"0")}.${s} ${t.getHours()}:${String(t.getMinutes()).padStart(2,"0")}`}const y={id:a.id,workerId:a.workerId,date:m,projectId:a.projectId,project:l,crmId:d,workerFamily:null===n||void 0===n?void 0:n.userfamily,workerName:null===n||void 0===n?void 0:n.username,tgId:a.receiverId,status:i,accept:a.accept,updatedAt:S,datestart:w,dateend:v};t.push(y),p(t)})),g(!1)})()}),[]),(0,i.jsxs)("div",{className:"dark-theme",children:[(0,i.jsx)(r.GK,{}),(0,i.jsxs)("div",{className:"wrapper d-flex flex-column min-vh-100 bg-uley",children:[(0,i.jsx)(r.jJ,{}),(0,i.jsx)("div",{className:"body flex-grow-1 px-3",children:(0,i.jsx)(c.T5,{lg:!0,children:(0,i.jsxs)(a.Suspense,{fallback:(0,i.jsx)(c.JT,{color:"primary"}),children:[(0,i.jsx)(c.sK,{className:"mb-3",children:(0,i.jsx)(c.UF,{sm:3,children:(0,i.jsx)(c.OG,{placeholder:"\u041f\u043e\u0438\u0441\u043a...",onChange:e=>$(e.target.value),"aria-label":"spec"})})}),(0,i.jsx)(c.sK,{children:(0,i.jsx)(c.UF,{style:{textAlign:"center"},children:(0,i.jsx)(c.E$,{className:"mb-4",children:(0,i.jsx)(c.W6,{children:u?(0,i.jsx)(c.JT,{}):(0,i.jsxs)(c._v,{align:"middle",className:"mb-0 border",hover:!0,responsive:!0,children:[(0,i.jsx)(c.wV,{className:"table-light",children:(0,i.jsxs)(c.YI,{children:[(0,i.jsx)(c.$s,{className:"text-center",style:{width:"100px"},children:"\u2116"}),(0,i.jsx)(c.$s,{className:"text-center",style:{width:"200px"},children:"\u0414\u0430\u0442\u0430"}),(0,i.jsx)(c.$s,{className:"text-center",style:{width:"320px"},children:"\u041f\u0440\u043e\u0435\u043a\u0442"}),(0,i.jsx)(c.$s,{className:"text-center",style:{width:"320px"},children:"CRM ID"}),(0,i.jsx)(c.$s,{className:"text-center",style:{width:"370px"},children:"\u0424\u0418\u041e"}),(0,i.jsx)(c.$s,{className:"text-center",style:{width:"160px"},children:"TelegramId"}),(0,i.jsx)(c.$s,{className:"text-center",style:{width:"100px"},children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,i.jsx)(c.$s,{className:"text-center",style:{width:"100px"},children:"\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043e"}),(0,i.jsx)(c.$s,{className:"text-center",style:{width:"100px"},children:"Start"}),(0,i.jsx)(c.$s,{className:"text-center",style:{width:"100px"},children:"End"})]})}),(0,i.jsx)(c.jS,{children:h.length>0&&h.map(((e,t)=>(0,i.jsxs)(c.YI,{"v-for":"item in tableItems",children:[(0,i.jsx)(c.cC,{className:"text-center",children:e.id}),(0,i.jsx)(c.cC,{className:"text-center",style:{color:e.accept&&"red"},children:e.date}),(0,i.jsx)(c.cC,{className:"text-center",style:{color:e.accept&&"red"},children:(0,i.jsx)(c.jl,{content:e.projectId,placement:"top",children:(0,i.jsx)("div",{children:e.project})})}),(0,i.jsx)(c.cC,{className:"text-center",style:{color:e.accept&&"red"},children:(0,i.jsx)("div",{children:e.crmId})}),(0,i.jsx)(c.cC,{className:"text-center",style:{color:e.dateborn>=2005||e.accept?"red":""},children:(0,i.jsx)(c.jl,{content:e.workerId,placement:"top",children:(0,i.jsx)("div",{children:e.workerFamily+" "+e.workerName})})}),(0,i.jsx)(c.cC,{style:{fontSize:"13px",textAlign:"left"},children:e.tgId}),(0,i.jsx)(c.cC,{className:"text-center",style:{color:e.accept&&"red"},children:!0===e.status?"\u041e\u0442\u043a\u0430\u0437\u0430\u043d\u043e":""}),(0,i.jsx)(c.cC,{className:"text-center",style:{color:e.accept&&"red"},children:e.updatedAt}),(0,i.jsx)(c.cC,{className:"text-center",style:{color:e.accept&&"red"},children:e.datestart}),(0,i.jsx)(c.cC,{className:"text-center",style:{color:e.accept&&"red"},children:e.dateend})]},t)))})]})})})})})]})})}),(0,i.jsx)(r.jI,{})]})]})}}}]);
//# sourceMappingURL=4968.c31688c4.chunk.js.map